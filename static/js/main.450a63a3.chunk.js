(this.webpackJsonpdnde=this.webpackJsonpdnde||[]).push([[0],{178:function(e,t,n){e.exports={wrapper:"UiWrapper_wrapper__23xNH",container:"UiWrapper_container__2hsjd",button:"UiWrapper_button__25Pv1",text:"UiWrapper_text__3oy98",image:"UiWrapper_image__3F-94",html:"UiWrapper_html__12ygP",spacer:"UiWrapper_spacer__1yYqc",divider:"UiWrapper_divider__B19qo",social:"UiWrapper_social__3MvUF"}},2095:function(e,t,n){},2147:function(e,t,n){e.exports={"ant-modal":"Preview_ant-modal__3_7T8","andt-modal-centered":"Preview_andt-modal-centered__3GZwp"}},2150:function(e,t,n){},2151:function(e,t,n){"use strict";n.r(t);var a,r,i,o=n(0),c=n.n(o),s=n(42),l=n.n(s),d=(n(338),n(220)),u=n(38),b=n(40),p=n(56),j=n(41),f=n(332),g=n.p+"static/media/new_template.3bcc1262.svg",h=n(5),m=j.a.div(a||(a=Object(b.a)(["\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n"]))),v=function(){var e=Object(u.g)();return Object(h.jsxs)(m,{children:[Object(h.jsx)("div",{className:"newTemplate",children:Object(h.jsx)(f.a,{style:{fontSize:"40px"}})}),Object(h.jsx)("div",{className:"hoverItem alwaysActive",children:Object(h.jsx)("div",{className:"content",children:Object(h.jsx)(p.a,{onClick:function(){e.push("template/new")},size:"large",type:"primary",className:"btn-choose",children:"New Template"})})}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:g,alt:"img new template"})})]})},x=function(e){var t=e.image,n=e.id,a=e.skeleton,r=Object(u.g)();return Object(h.jsxs)(m,{children:[a?Object(h.jsx)("div",{style:{height:"350px",minWidth:"280px",maxWidth:"280px",padding:"24px 24px"},children:a}):Object(h.jsx)("img",{height:"350px",src:t,alt:"preview"}),Object(h.jsx)("div",{className:"hoverItem",children:Object(h.jsx)("div",{className:"content",children:Object(h.jsx)(p.a,{onClick:function(){r.push("template/".concat(n))},size:"large",type:"primary",className:"btn-choose",children:"choose"})})})]})},O=(n(344),n(312)),y=n(57),k=Object(O.a)({baseQuery:Object(y.d)({baseUrl:"https://us-central1-dnde-f4e90.cloudfunctions.net/api"}),endpoints:function(e){return{getTemplates:e.query({query:function(){return"templates/"}}),getTemplate:e.query({query:function(e){var t=e.id;return"templates/".concat(t)}})}}}),w=k.useGetTemplatesQuery,C=k.useLazyGetTemplateQuery,S=n(2154),A=n(2155),N=n(2163),D=n(70),E=n.n(D),T=n(2167),P=function(){var e=w(),t=e.data,n=e.isLoading,a=(e.isError,e.isSuccess);return Object(h.jsx)(E.a,{autoHide:!0,style:{height:"100%"},children:Object(h.jsxs)("div",{className:"template",children:[Object(h.jsxs)(S.a,{align:"middle",justify:"center",className:"header",children:[Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(S.a,{align:"middle",justify:"center",children:Object(h.jsx)(A.a,{children:Object(h.jsx)("span",{className:"title",children:"Dnde"})})})}),Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(S.a,{align:"middle",justify:"center",children:Object(h.jsx)(A.a,{style:{textAlign:"center"},children:Object(h.jsxs)("span",{className:"subtitle",children:["Drag and Drop Editor tailored for ",Object(h.jsx)("b",{children:"Mails"})]})})})}),Object(h.jsx)(A.a,{style:{paddingTop:"24px"},span:24,children:Object(h.jsx)(S.a,{align:"middle",justify:"center",children:Object(h.jsxs)(A.a,{className:"info",md:24,lg:10,style:{textAlign:"center"},children:[Object(h.jsx)("span",{children:"All features are optimised for mails, work flexibly through import/export, with responsive design for all devices."}),Object(h.jsx)("br",{}),Object(h.jsx)("a",{target:"_blank",href:"https://github.com/aghontpi/dnde",children:Object(h.jsxs)("span",{children:["Check it on Github ",Object(h.jsx)(T.a,{style:{position:"relative",top:"4px",fontSize:"32px"}})]})})]})})})]}),Object(h.jsxs)(S.a,{className:"choose-template",align:"middle",gutter:[0,8],justify:"center",children:[Object(h.jsx)(A.a,{span:16,children:Object(h.jsx)("span",{className:"title",children:"Choose a template and get started."})}),Object(h.jsx)(A.a,{span:16,children:Object(h.jsx)("span",{className:"subtitle",children:"All templates are redesigned in dnde, using original mail as reference."})})]}),Object(h.jsxs)(S.a,{justify:"center",className:"template-list",gutter:[0,40],children:[Object(h.jsx)(A.a,{lg:6,children:Object(h.jsx)(v,{})}),n&&[1,2].map((function(e,t){return Object(h.jsx)(A.a,{xs:24,md:12,lg:6,style:{textAlign:"center"},children:Object(h.jsx)(x,{id:"8x93dummy",skeleton:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(N.a,{active:!0}),Object(h.jsx)(N.a,{active:!0})]})},t)})})),a&&t?t.response.map((function(e,t){return Object(h.jsx)(A.a,{lg:6,children:Object(h.jsx)(x,{id:e.docRef,image:e.preview},t)})})):null]})]})})},M=n(76),J=n.n(M),z=n(102),_=n(11),I=n(12),L=n(10),R=n.n(L),q=n(119),B=n(329),F=n(2164),H=[{name:"Roboto",value:"https://fonts.googleapis.com/css2?family=Roboto&display=swap"},{name:"Festive",value:"https://fonts.googleapis.com/css2?family=Festive&display=swap"},{name:"Noto Sans Mono",value:"https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap"},{name:"Open Sans",value:"https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"},{name:"Andada Pro",value:"https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap"},{name:"Lato",value:"https://fonts.googleapis.com/css2?family=Lato&display=swap"},{name:"Scheherazade New",value:"https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap"},{name:"Montserrat",value:"https://fonts.googleapis.com/css2?family=Montserrat&display=swap"},{name:"Roboto Condensed",value:"https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap"},{name:"Source Sans Pro",value:"https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"},{name:"Poppins",value:"https://fonts.googleapis.com/css2?family=Poppins&display=swap"},{name:"Oswald",value:"https://fonts.googleapis.com/css2?family=Oswald&display=swap"},{name:"Noto sans",value:"https://fonts.googleapis.com/css2?family=Noto+sans&display=swap"},{name:"Georama",value:"https://fonts.googleapis.com/css2?family=Georama&display=swap"},{name:"Roboto Mono",value:"https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap"},{name:"Raleway",value:"https://fonts.googleapis.com/css2?family=Raleway&display=swap"},{name:"Nunito",value:"https://fonts.googleapis.com/css2?family=Nunito&display=swap"},{name:"Roboto Slab",value:"https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap"},{name:"PT Sans",value:"https://fonts.googleapis.com/css2?family=PT+Sans&display=swap"},{name:"Merriweather",value:"https://fonts.googleapis.com/css2?family=Merriweather&display=swap"},{name:"Playfair Display",value:"https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap"},{name:"Lora",value:"https://fonts.googleapis.com/css2?family=Lora&display=swap"},{name:"Rubix",value:"https://fonts.googleapis.com/css2?family=Rubix&display=swap"},{name:"IM Fell English SC",value:"https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap"},{name:"Open Sans Condensed",value:"https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap"},{name:"Inter",value:"https://fonts.googleapis.com/css2?family=Inter&display=swap"},{name:"Nunito Sans",value:"https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap"},{name:"Work Sans",value:"https://fonts.googleapis.com/css2?family=Work+Sans&display=swap"},{name:"Quicksand",value:"https://fonts.googleapis.com/css2?family=Quicksand&display=swap"},{name:"Fira Sans",value:"https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap"}],U={mutableAttributes:{},id:"",type:""},W=Object(o.createContext)(U),Y=function(e){var t=Object(o.useRef)(1);return Object(h.jsx)(W.Provider,{value:{genId:function(){if(t.current&&"number"===typeof t.current)return++t.current}},children:e.children})},X=function(){var e=Object(o.useContext)(W).genId;return{getId:function(){return e()}}},V=Object(o.createContext)(null),G=function(e){var t=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useState)(!1),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)(0),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(0),p=Object(_.a)(b,2),j=p[0],f=p[1],g=Object(o.useState)(!1),m=Object(_.a)(g,2),v=m[0],x=m[1],O=Object(o.useState)(0),y=Object(_.a)(O,2),k=y[0],w=y[1],C=Object(o.useState)(0),S=Object(_.a)(C,2),A=S[0],N=S[1],D=Object(o.useState)(!1),E=Object(_.a)(D,2),T=E[0],P=E[1],M=Object(o.useState)(0),J=Object(_.a)(M,2),z=J[0],I=J[1],L=Object(o.useState)(0),R=Object(_.a)(L,2),q=R[0],B=R[1],F=Object(o.useState)(!1),H=Object(_.a)(F,2),U=H[0],W=H[1];return Object(h.jsx)(V.Provider,{value:{ref:t,isActive:i,setActive:c,x:d,y:j,setX:u,setY:f,delX:k,delY:A,setDelX:w,setDelY:N,drag:{isColumn:U,setIsColumn:W},copy:{copyActive:T,setCopyActive:P,copyX:z,setCopyX:I,copyY:q,setCopyY:B},delActive:v,setDelActive:x,ckeditorInstance:n},children:e.children})},K=function(){return Object(o.useContext)(V)},Q=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0===t)return null;var r=t;if(r.attributes&&r.attributes["css-class"]){var i=r.attributes["css-class"];if(i.includes(n))return[r,a]}if(r.children)for(var o=0;o<r.children.length;o++){var c=r.children[o],s=e(c,n,a+".children[".concat(o,"]"));if(s)return s}return null},Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)},$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error(t)},ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.info(t)},te=function(e){var t=e.closest(".mjml-tag"),n=null;return t?((n=ne(t,t.classList))||ee("unable to find identifier"),n):(ee("unable to find closest"),n)},ne=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"identifier-mj",a=null,r=0;t&&r<t.length;r++){var i=t[r];if(i.includes(n)){a=i;break}}return a},ae=function(e){return ne(null,e.split(" "))},re=function e(t,n){if(t){for(var a=0;t.children&&a<t.children.length;a++)t.children[a]=e(t.children[a],n);var r=t.attributes;if(r){var i=r["css-class"];i=function(e,t){var n="";if("string"!==typeof e)return Z("classNames should be string while generating uniqueIdentifier, but found ".concat(typeof e," instead")),null;for(var a=e.split(" "),r=0;r<a.length;r++){var i=a[r];if(i.includes("identifier-mj")){var o=(i=i.trim()).match(/-(\d+)/),c=i;i=o?i.replace(o[0],"-".concat(t)):" ".concat(i,"-").concat(t),Z("generating-tag: ".concat(c," -> ").concat(i," "))}n+=" ".concat(i)}return n}(i,n()),r["css-class"]=i}return t.attributes=r,t}},ie=function(e,t){for(var n=0;t&&e&&e.length>0&&n<e.length;n++){var a=e[n];if(a&&a.attributes&&a.attributes["css-class"].includes(t))return n}return-1},oe=function(e,t){if(e&&e.dataTransfer){e.dataTransfer.effectAllowed="move";var n=e.target;e.dataTransfer.setDragImage(n,-5,-5),e.dataTransfer.setData("config",JSON.stringify(t))}},ce=["background-color","background-position","background-position-x","background-position-y","background-repeat","background-size","background-url","border","border-bottom","border-left","border-radius","border-right","border-top","css-class","direction","full-width","padding","padding-bottom","padding-left","padding-right","padding-top","text-align"],se={align:"center","background-color":"#414141",border:"none","border-radius":"3px",color:"#ffffff","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-weight":"normal","inner-padding":"10px 25px","line-height":"120%",padding:"10px 25px",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none","vertical-align":"middle"},le=[{tagName:"mj-image",attributes:{src:"https://dev.bluepie.in/assets/87583817874843.svg","css-class":"mj-placeholder",width:"120px"}},{tagName:"mj-text",attributes:{"padding-top":"0px","font-size":"16px",align:"center","css-class":"mj-placeholder"},content:"drag and drop a content block here!"}],de={tagName:"mj-column",attributes:{"css-class":"mjml-tag identifier-mj-column",padding:"0px 0px"},children:[].concat(le),mutableProperties:["background-color","inner-background-color","border","border-bottom","border-left","border-right","border-top","border-radius","inner-border","inner-border-bottom","inner-border-left","inner-border-right","inner-border-top","inner-border-radius","width","vertical-align","padding","padding-top","padding-bottom","padding-left","padding-right","css-class"]},ue=function(){var e={tagName:"mj-section",attributes:Object(I.a)(Object(I.a)({},se),{},{"css-class":"mjml-tag identifier-mj-section","border-radius":"0px","background-color":"#fff","text-align":"center"}),children:[],cannot_have:["mj-section","mj-column"],mutableProperties:ce},t=K().drag.setIsColumn,n=function(n){var a=n.target,r=ne(a,a.classList,"mj-columns");if(r){var i=r.match(/mj-columns-(.*)/);if(i){for(var o=parseInt(i[1]),c=[];o>0;)c.push(de),o--;e=R.a.set(e,"children",c)}}oe(n,e),t(!0)},a=[1,2,3,4].map((function(e,t){return Object(h.jsxs)(o.Fragment,{children:[Object(h.jsx)(be,{children:Object(h.jsxs)("p",{children:[e," Column"]})},e+t+"title"),Object(h.jsx)(pe,{className:"mj-columns-".concat(e),draggable:!0,onDragStart:n,children:Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsx)("div",{className:"border",children:Object(h.jsx)(je,{length:e})})})},e+t+"section")]},e)}));return Object(h.jsx)(h.Fragment,{children:a})},be=Object(j.a)(S.a)(r||(r=Object(b.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n"]))),pe=Object(j.a)(S.a)(i||(i=Object(b.a)(["\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n"]))),je=function(e){for(var t=e.length,n=[],a=Object(L.floor)(100/t),r=0;r<t;r++)n.push(Object(h.jsx)("div",{style:{display:"flex",flexGrow:a,height:"16px",borderRight:r===t-1?"":"1px solid rgb(85, 85, 85)",borderRadius:"0px"}},r+a));return Object(h.jsx)(h.Fragment,{children:n})},fe={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,i,o,c,s="",l=0;for(e=fe._utf8_encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,i=(3&t)<<4|(n=e.charCodeAt(l++))>>4,o=(15&n)<<2|(a=e.charCodeAt(l++))>>6,c=63&a,isNaN(n)?o=c=64:isNaN(a)&&(c=64),s=s+this._keyStr.charAt(r)+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(c);return s},decode:function(e){var t,n,a,r,i,o,c="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)t=this._keyStr.indexOf(e.charAt(s++))<<2|(r=this._keyStr.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(i=this._keyStr.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this._keyStr.indexOf(e.charAt(s++))),c+=String.fromCharCode(t),64!=i&&(c+=String.fromCharCode(n)),64!=o&&(c+=String.fromCharCode(a));return c=fe._utf8_decode(c)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){var t,n,a,r="",i=0;for(t=n=0;i<e.length;)(t=e.charCodeAt(i))<128?(r+=String.fromCharCode(t),i++):t>191&&t<224?(n=e.charCodeAt(i+1),r+=String.fromCharCode((31&t)<<6|63&n),i+=2):(n=e.charCodeAt(i+1),a=e.charCodeAt(i+2),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&a),i+=3);return r}},ge=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return null;if(t.attributes&&t.attributes["css-class"]){var a=t.attributes["css-class"];if(a.includes("placeitem-placeholder"))return null}for(var r=n&&t.attributes&&t.attributes["css-class"]&&t.attributes["css-class"].includes(n),i=[],o=0;t.children&&o<t.children.length;o++){var c=t.children[o],s=r?c:e(c,n);s&&i.push(s)}return t&&"mj-column"===t.tagName&&0===i.length&&i.push.apply(i,Object(q.a)(le)),i.length&&(t.children=i),t},he=function e(t){if(t){if(t.attributes&&t.attributes["css-class"]){var n=t.attributes["css-class"];n=n.split(" ");for(var a=[],r=0;r<n.length;r++){var i=n[r];i.includes("identifier-mj")||i.includes("mj-placeholder")||i.includes("placeitem-placeholder")||a.push(i)}a.length&&(n=a.join(" "))}t.content&&(t.content=fe.encode(t.content));for(var o=[],c=0;t.children&&c<t.children.length;c++){var s=t.children[c],l=e(s);l&&o.push(l)}return o.length&&(t.children=o),t}};function me(e){if(e){e.content&&(e.content=fe.decode(e.content));for(var t=[],n=0;e.children&&n<e.children.length;n++){var a=me(e.children[n]);a&&t.push(a)}return t.length&&(e.children=t),e}}var ve=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=re(e,t);return a&&a.tagName&&"mjml"===a.tagName&&a.children&&a.children.length>1&&(a.children[0].children=R.a.cloneDeep(Ie)),n?a:me(a)},xe=n(313),Oe=n(314),ye=new(function(){function e(){Object(xe.a)(this,e),this.undo=void 0,this.redo=void 0,this.undo=[],this.redo=[]}return Object(Oe.a)(e,[{key:"newAction",value:function(e){this.undo.length>0&&R.a.isEqual(e,this.peekUndo())?Z("undoredo: prev action and new action are same, not performing action"):(this.undo.push(this.copy(e)),this.storeToLocalStorage(),this.redo=[])}},{key:"undoAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.undo.length<1)return!1;var t=this.copy(this.undo.pop());return this.redo.push(t),e&&R.a.isEqual(t,e)?(Z("undoredo: undo action but view and current are same, proceeding one more step"),this.undoAction(e)):t}},{key:"redoAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.redo.length<1)return!1;var t=this.copy(this.redo.pop());return this.undo.push(t),e&&R.a.isEqual(t,e)?(Z("undoredo: redo action but view and current are same, proceeding one more step"),this.redoAction(e)):t}},{key:"peekUndo",value:function(){var e=!1;return this.undo.length>0&&(e=this.copy(this.undo[this.undo.length-1])),e}},{key:"peekRedo",value:function(){var e=!1;return this.redo.length>0&&(e=this.redo[this.redo.length-1]),e}},{key:"isUndoEmpty",value:function(){return 0===this.undo.length}},{key:"isRedoEmpty",value:function(){return 0===this.redo.length}},{key:"reset",value:function(){this.undo=[],this.redo=[]}},{key:"print",value:function(){Z("undoredo: ",this.undo,this.redo)}},{key:"storeToLocalStorage",value:function(){try{var e=this.undo[this.undo.length-1];localStorage.setItem("actions",JSON.stringify(e))}catch(t){Z("undoredo: error storing to local storage"),Z("undoredo: it is possible this occured due to storage limit in localStorage,")}}},{key:"copy",value:function(e){return R.a.cloneDeep(e)}}]),e}());window.UNDOREO=ye;var ke,we,Ce,Se,Ae,Ne,De,Ee,Te,Pe,Me,Je,ze=n(135),_e=Object(o.createContext)(null),Ie=[{tagName:"mj-title",attributes:{},children:[]},{tagName:"mj-style",content:"a{text-decoration:none!important} .htmlblock {}"}].concat(Object(q.a)(H.map((function(e){return{tagName:"mj-font",attributes:{name:e.name,href:e.value}}})))),Le={tagName:"mjml",children:[{tagName:"mj-head",attributes:{},children:Ie},{tagName:"mj-body",attributes:{"css-class":"mjml-tag identifier-mj-body","background-color":"grey",width:"600px"},children:[]}],attributes:{}},Re="loading",qe=function(e){var t=Object(u.h)().templateId,n=X().getId,a=Object(o.useState)(null),r=Object(_.a)(a,2),i=r[0],c=r[1],s=C(),l=Object(_.a)(s,2),d=l[0],b=l[1],p=b.data,j=b.isError,f=b.isLoading,g=b.isSuccess;Object(o.useEffect)((function(){var e=localStorage.getItem("actions");function a(){return(a=Object(z.a)(J.a.mark((function t(){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,!e){t.next=5;break}return t.next=4,Be((function(){var t=JSON.parse(e),a=ve(t,n,!0);ye.undo=[],c(a)}),(function(){c(R.a.cloneDeep(Le)),ye.newAction(R.a.cloneDeep(Le)),localStorage.removeItem("actions")}));case 4:a=t.sent;case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return a.apply(this,arguments)})().then((function(e){e||("new"===t||"undefined"===typeof t?c(R.a.cloneDeep(Le)):t&&(B.b.loading({content:"Fetching Template...",key:Re,duration:0}),d({id:t})))}))}),[]),Object(o.useEffect)((function(){if(g&&p)try{c(ve(JSON.parse(p.response.data),n))}catch(e){B.b.error("Unable to load template",3)}else g&&!p&&B.b.error("Template is empty",2);g&&B.b.destroy(Re),j&&B.b.info("Network error, template not fetched.",2)}),[j,f,g,p]);var m=Object(o.useState)({}),v=Object(_.a)(m,2),x=v[0],O=v[1];return Object(h.jsx)(_e.Provider,{value:{mjmlJson:i,setMjmlJson:c,attributes:x,setAttributes:O},children:e.children})},Be=function(){var e=Object(z.a)(J.a.mark((function e(t,n){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){F.a.confirm({title:"Confirm",icon:Object(h.jsx)(ze.a,{}),content:"local save found do you want to load it?",okText:"restore",cancelText:"delete",onOk:function(){t(),e(!0)},onCancel:function(){n(),e(!1)}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=Object(o.createContext)(null),He=Object(o.memo)((function(e){var t=Object(o.useState)([]),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Object(o.useRef)(1),f=Object(o.useState)(1),g=Object(_.a)(f,2),m=g[0],v=g[1];return Object(h.jsxs)(Fe.Provider,{value:{uiList:a,setUIWrapperList:r,activeHover:s,setActiveHover:l,active:b,setActive:p,id:m,setId:v,getId:function(){v(m+1),Z("getId",m)}},children:[Object(h.jsx)("div",{children:Object(h.jsxs)(h.Fragment,{children:[Z("uiContextRerendering",j.current++)," "]})}),e.children]})})),Ue=function(){return Object(o.useContext)(Fe)},We=function(){return Object(o.useContext)(_e)},Ye=n(106),Xe=n.n(Ye),Ve=n(64),Ge=n.n(Ve),Ke=n(316),Qe=Object(o.createContext)({position:{x:0,y:0,setX:function(){},setY:function(){}},status:{active:!1,setActive:function(){}}}),Ze=function(e){var t=Object(o.useState)(0),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(0),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(!1),u=Object(_.a)(d,2),b=u[0],p=u[1];return Object(h.jsx)(Qe.Provider,{value:{position:{x:a,y:s,setX:r,setY:l},status:{active:b,setActive:p}},children:e.children})},$e=function(){return Object(o.useContext)(Qe).position},et=function(){return Object(o.useContext)(Qe).status},tt=function(e,t){return nt(e,t)&&e.children&&e.children<1},nt=function(e,t){if(!t)return!1;if("body"===t)t="identifier-mj-body";else if("section"===t)t="identifier-mj-section";else{if("column"!==t)return!1;t="identifier-mj-column"}return e.props&&e.props.className&&"string"===typeof e.props.className&&e.props.className.includes(t)},at=function e(t,n){if(!t)return null;var a=t.closest(".mjml-tag");if(a&&a.classList){var r=ne(a,a.classList);if(r&&r.includes(n))return[a,r];a=a.parentElement}return e(a,n)},rt=function(e){return at(e,"mj-section")},it=function(e,t){var n=t.getBoundingClientRect(),a=e.clientX,r=e.clientY,i=n&&a&&r&&!0;return(a<n.left||a>n.right)&&(i=!1),(r<n.top||r>n.bottom)&&(i=!1),i},ot=function(e){var t=e.mjmlJson,n=e.setMjmlJson,a=e.columnElement,r=e.event,i=e.currentTarget,o=e.nearestTag;if(a&&o){var c=i.closest(".".concat(o));if(c&&a&&it(r,a)){var s=function(e,t){var n=t.getBoundingClientRect(),a=e.clientY;if(it(e,t)){var r=Object(L.floor)((n.bottom-n.top)/2)+n.top;if(a<r)return"top";if(a>r)return"bottom"}return!1}(r,c);if(s){var l=Q(R.a.cloneDeep(t),o);if(l){for(var d=Object(_.a)(l,2)[1],u=d.slice(1,d.lastIndexOf(".children")),b=R.a.get(R.a.cloneDeep(t),u),p=[],j=0;b&&b.children&&j<b.children.length;j++){var f=b.children[j];Z(f);var g=f.attributes&&f.attributes["css-class"];g&&g.includes("placeitem-placeholder")||(g&&g.includes(o)?"top"===s?p.push(ct,f):"bottom"===s&&p.push(f,ct):p.push(f))}if(b&&p.length>0){b.children=p;var h=R.a.set(R.a.cloneDeep(t),u,b),m=ne(a,a.classList,"identifier-mj-column");if(m){var v=ge(h,m);R.a.isEqual(t,v)?Z("::update:: -> but elements are the same, not triggering rerender"):(Z("::update::",t,v),n(Object(I.a)({},v)))}else R.a.isEqual(t,h)?Z("::update:: -> but elements are the same, not triggering rerender"):(Z("::update::",t,h),n(Object(I.a)({},h)))}}}}}},ct={tagName:"mj-text",attributes:{align:"center","css-class":"placeitem-placeholder"},content:"<h1> + </h1>"},st=n(2174),lt=n(2175),dt=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up",r=ae(e);if(r){var i=Q(t,r),o=Q(t,"identifier-mj-body");if(i&&o){for(var c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(_.a)(i,1),u=d[0],b=[],p=-1,j=0;s.children.length>1&&j<s.children.length;j++){var f=s.children[j];if(f&&f.attributes&&f.attributes["css-class"].includes(r)){p=j;break}}if(-1!==p)for(var g=0;s.children.length>1&&g<s.children.length;g++){var h=s.children[g];if(h&&"up"===a){if(g===p-1){b.push(u),b.push(h),g+=1;continue}b.push(h)}if(h&&"down"===a){if(g===p){var m=s.children[g+1];b.push(m),b.push(u),g+=1;continue}b.push(h)}}if(b.length>1){var v=R.a.cloneDeep(s);v.children=R.a.cloneDeep(b);var x=R.a.set(t,l.slice(1),v);ye.newAction(x),n(Object(I.a)({},x))}}}},ut=n(2162),bt=n(322),pt=n(2161),jt=n(2168),ft=n(2169),gt=n(2170),ht=n(2171),mt=n(2172),vt=n(2173),xt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(e&&(e.preventDefault(),e.stopPropagation()),Z("editor action:",t,n),t){case"bold":document.execCommand("bold");break;case"underline":document.execCommand("underline");break;case"italics":document.execCommand("italic");break;case"size":document.execCommand("fontSize",!1,n);break;case"color":document.execCommand("backColor",!1,n);break;case"fontColor":document.execCommand("foreColor",!1,n);break;case"fontFamily":document.execCommand("fontName",!1,n);break;default:ee("unhandled action ".concat(t))}return!1},Ot=n(117),yt=function(e){var t=e.handleChange,n=e.mouseDown,a=Object(o.useState)((function(){return"#ccc"})),r=Object(_.a)(a,2),i=r[0],c=r[1];return Object(h.jsx)(wt,{onMouseDown:function(e){n||(e.preventDefault(),e.stopPropagation())},color:i,children:Object(h.jsx)("div",{className:"popover",children:Object(h.jsx)(Ot.a,{disableAlpha:!1,color:i,onChange:function(e){return function(e){var n="".concat(e.hex).concat(kt(e.rgb.a));c(n),t("rgba(".concat(e.rgb.r,",").concat(e.rgb.g,",").concat(e.rgb.b,",").concat(e.rgb.a,")"))}(e)}})})})},kt=function(e){return 0===e?"00":Math.round(255*e).toString(16)},wt=j.a.div(ke||(ke=Object(b.a)(["\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n"]))),Ct=function(e){var t=e.attribute,n=e.property,a=e.customPath,r=Object(o.useState)(!1),i=Object(_.a)(r,2),c=i[0],s=i[1],l=Ue().active,d=Object(o.useState)(""),u=Object(_.a)(d,2),b=u[0],p=u[1],j=We().mjmlJson;return Object(o.useEffect)((function(){if(l){var e=ne(l,l.classList);if(e){var r=Q(j,e);if(a&&(r=[null,"."+a]),r){var i=r,o=Object(_.a)(i,2)[1];if(o.length>0&&p(o.slice(1)),t){var c=R.a.get(j,o.slice(1));if(c&&c.mutableProperties&&c.mutableProperties.includes(t))return void s(!0)}else if(n){var d=R.a.get(j,o.slice(1));if(d&&d[n])return void s(!0)}}}}s(!1),p("")}),[l]),[c,b,l]},St=function(e){var t=e.path,n=e.visible,a=e.attribute,r=We().mjmlJson;return{getValue:function(){var e="";if(t&&n){var i=R.a.get(r,t);i&&i.attributes&&(e=i.attributes[a])}return e}}},At="font-family",Nt=["Ubuntu","Helvetica","Arial","sans-serif"],Dt=H.map((function(e){return e.name.trim()})),Et=function(){var e=Ct({attribute:At}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=St({path:a,visible:n,attribute:At}).getValue,i=Object(o.useState)(""),c=Object(_.a)(i,2),s=c[0],l=c[1];return Object(o.useEffect)((function(){if(n){var e=r();if(e&&e.indexOf(",")){var t=e.split(",")[0];l(t)}}}),[r]),[[].concat(Nt,Object(q.a)(Dt)),s]},Tt=function(){var e=window.getSelection();if(e){var t=we;null===e||void 0===e||e.removeAllRanges(),null===e||void 0===e||e.addRange(we),we=t}},Pt=function(){var e=Object(o.useRef)(null),t=$e(),n=t.x,a=t.y,r=et().active,i=Ue().active,c=We(),s=c.mjmlJson,l=c.setMjmlJson,d=Et(),u=Object(_.a)(d,1)[0];return Object(o.useEffect)((function(){if(e.current){var t=document.querySelectorAll("#customtoolbar .ant-select-selector");if(t)return t.forEach((function(e){Z("attaching click event listener to container"),e.addEventListener("click",zt)})),function(){return t.forEach((function(e){Z("removing click event listener to container"),e.removeEventListener("click",zt)}))}}}),[e]),Object(o.useEffect)((function(){if(r&&i){var e=ne(i,i.classList);if(null===e||void 0===e?void 0:e.includes("mj-text")){var t=i.children[0],n=function(e){Jt(t,s,l)},a=function(){var e;we=null===(e=window.getSelection())||void 0===e?void 0:e.getRangeAt(0)};return t.addEventListener("focusout",n,!0),t.addEventListener("keyup",a,!1),t.addEventListener("click",a,!1),t.classList.add("editor-active"),t.setAttribute("contentEditable","true"),t.setAttribute("spellcheck","false"),function(){Z("custom editor: cleaning up dynamic attributes"),t.removeEventListener("focusout",n,!0),t.removeEventListener("keyup",a,!1),t.removeEventListener("click",a,!1)}}}}),[i,s]),Object(h.jsxs)("div",{style:{display:r?"block":"none",position:"fixed",top:"".concat(a,"px"),left:"".concat(n,"px"),padding:"4px 8px",border:"1px solid black",zIndex:999,backgroundColor:"#fff",transition:"all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},id:"customtoolbar",ref:e,onMouseDown:zt,children:[Object(h.jsx)(ut.a,{size:"small",dropdownStyle:{minWidth:"18px"},defaultValue:2,style:{fontSize:"12px"},onChange:function(e){xt(null,"size",e)},children:Array.from(Array(7).keys()).map((function(e){return Object(h.jsx)(ut.a.Option,{onMouseDown:zt,onFocus:zt,style:{fontSize:"12px"},value:e+1,children:Object(h.jsx)("span",{onMouseDown:zt,onFocus:zt,children:e+1})})}))}),Object(h.jsx)(ut.a,{size:"small",defaultValue:"Ubuntu",dropdownStyle:{minWidth:"18px"},style:{fontSize:"12px"},onChange:function(e){xt(null,"fontFamily",e)},onMouseDown:zt,children:u.map((function(e){return Object(h.jsx)(ut.a.Option,{onMouseDown:zt,onFocus:zt,style:{fontSize:"12px"},value:e,children:Object(h.jsx)("span",{onMouseDown:zt,onFocus:zt,children:e})})}))}),Object(h.jsx)(bt.a,{overlayClassName:"inline-editor-popover-color-picker",trigger:"click",placement:"bottom",content:Object(h.jsx)(yt,{handleChange:function(e){xt(null,"fontColor",e)},mouseDown:!1}),destroyTooltipOnHide:!0,children:Object(h.jsx)(p.a,{icon:Object(h.jsx)(jt.a,{}),style:{fontSize:"12px"},size:"small"})}),Object(h.jsx)(bt.a,{overlayClassName:"inline-editor-popover-color-picker",trigger:"click",placement:"bottom",content:Object(h.jsx)(yt,{handleChange:function(e){xt(null,"color",e)},mouseDown:!1}),destroyTooltipOnHide:!0,children:Object(h.jsx)(p.a,{icon:Object(h.jsx)(ft.a,{}),style:{fontSize:"12px"},size:"small"})}),Object(h.jsx)(p.a,{icon:Object(h.jsx)(gt.a,{}),onClick:function(e){return xt(e,"bold")},style:{fontSize:"12px"},size:"small"}),Object(h.jsx)(p.a,{icon:Object(h.jsx)(ht.a,{}),onClick:function(e){return xt(e,"italics")},style:{fontSize:"12px"},size:"small"}),Object(h.jsx)(p.a,{icon:Object(h.jsx)(mt.a,{}),onClick:function(e){return xt(e,"underline")},style:{fontSize:"12px"},size:"small"}),Object(h.jsx)(Mt,{setLinkCallback:function(e){return xt(e,"link")}})]})},Mt=function(e){e.setLinkCallback;var t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(""),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useRef)(null);return Object(h.jsx)(bt.a,{visible:a,content:Object(h.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[Object(h.jsx)(pt.a,{className:"inline-editor-link",ref:d,value:s,onMouseDown:function(e){Tt()},onChange:function(e){l(e.target.value)},placeholder:"link"}),Object(h.jsx)(p.a,{type:"default",onMouseDown:zt,onClick:function(){r(!1),Tt(),document.execCommand("insertHTML",!1,'<a href="'+s+'" target="_blank">'+document.getSelection()+"</a>")},children:"create"})]}),trigger:"click",placement:"bottom",children:Object(h.jsx)(p.a,{style:{fontSize:"12px"},onClick:function(e){zt(e),r(!a),l("")},size:"small",icon:Object(h.jsx)(vt.a,{})})})},Jt=function(e,t,n){Z("custom Inline Editor: updating state callback");var a=te(e);if(a){var r=a;if(null===r||void 0===r?void 0:r.includes("mj-text")){var i=Q(t,r);if(i){var o=Object(_.a)(i,2)[1],c=R.a.get(t,o.slice(1));if(c){var s=R.a.cloneDeep(c);Z("inline editor: updating",e);var l=e.innerHTML;s.content=l;var d=R.a.set(t,o.slice(1),s);n(Object(I.a)({},d))}}}}},zt=function(e){if(Z("::reset",e.target),!(e.target&&"INPUT"===e.target.tagName&&e.target.className&&e.target.className.includes("inline-editor-link")))return Z("::reset->reset behaviour",e.target),e.preventDefault(),e.stopPropagation(),!1;Z("::reset, returning")},_t=function(e){var t=e.className,n=e.idRef,a=e.active,r=We(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)(!0),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(!0),j=Object(_.a)(b,2),f=j[0],g=j[1];Object(o.useEffect)((function(){if(n.current===a){var e=ae(t);if(e){var r=Q(i,ae(t)),o=Q(i,"identifier-mj-body");if(r&&o){var c=Object(_.a)(o,1)[0];Object(_.a)(r,1)[0];if(c&&c.children&&1===c.children.length)return u(!1),void g(!1);if(c&&c.children&&c.children.length>1)for(var s=c.children.length-1,l=0;l<c.children.length;l++){var d=c.children[l];if(d&&d.attributes&&d.attributes["css-class"]&&d.attributes["css-class"].includes(e)){if(l===s){g(!1),u(!0);break}if(0===l){u(!1),g(!0);break}}}}}}}),[i,n,a]);return Object(h.jsx)("div",{onMouseDown:zt,style:{position:"relative",display:a===n.current?"block":"none"},children:Object(h.jsxs)("div",{style:{position:"absolute",left:-38,bottom:0,display:"flex",flexDirection:"column",rowGap:"4px"},children:[Object(h.jsx)(p.a,{type:"primary",disabled:!d,onClick:function(e){zt(e),dt(t,i,c)},icon:Object(h.jsx)(st.a,{style:{fontSize:"20px"}})}),Object(h.jsx)(p.a,{type:"primary",disabled:!f,onClick:function(e){zt(e),function(e,t,n){dt(e,t,n,"down")}(t,i,c)},icon:Object(h.jsx)(lt.a,{style:{fontSize:"20px"}})})]})})},It=Object(o.memo)((function(e){var t=e.uniqueKey,n=e.originalNode,a=Ue(),r=(a.setUIWrapperList,a.setActive),i=a.setActiveHover,c=a.active,s=a.activeHover,l=a.id,d=(a.setId,a.getId),u=(a.uiList,K()),b=u.setDelActive,p=u.setDelX,j=u.setDelY,f=u.copy,g=u.drag.isColumn,m=We(),v=m.mjmlJson,x=m.setMjmlJson,O=$e(),y=O.setX,k=O.setY,w=et().setActive,C=Object(o.useRef)(l),S=Object(o.useRef)(l),A=f.setCopyX,N=f.setCopyActive,D=f.setCopyY;Object(o.useEffect)((function(){d()}),[]),Object(o.useEffect)((function(){null===c&&(N(!1),b(!1),w(!1))}),[c]);var E=Object(o.useMemo)((function(){return function(e){i(C.current)}}),[C]),T=Object(o.useMemo)((function(){return C.current===s?function(e){e&&e.target&&"A"===e.target.tagName&&e.preventDefault(),r(C.current);var t=e.target.closest(".mjml-tag");if(t){var n=t.getBoundingClientRect(),a=ne(t,t.classList);if(null===a||void 0===a?void 0:a.includes("text")){var i=n.left,o=n.top-38;w(!0),y(i),k(o)}else w(!1);b(!0),N(!0),function(e){var t=e.pos,n=e.delete,a=n.setDelX,r=n.setDelY,i=e.copy,o=i.setCopyX,c=i.setCopyY;if(t){a(t.right+4);var s=Object(L.floor)((t.bottom-t.top)/2)-32;r(t.top+s),o(t.right+4),c(t.top+s+32+4)}}({pos:n,delete:{setDelX:p,setDelY:j},copy:{setCopyX:A,setCopyY:D}})}}:null}),[C,s]),P=s===C.current,M=(Object(o.useMemo)((function(){return s===C.current?"pointer":"default"}),[s,C]),s===C.current?"2px dotted rgb(121, 202, 182)":"unset"),J=c===C.current?"2px solid rgb(121, 202, 182)":"unset";tt(n,"body")&&ee("empty body detected"),tt(n,"section")&&ee("empty section detected");var z=function(e){c&&r(null),e.dataTransfer.dropEffect="move";var t=te(e.target),n=Q(v,t);if(n){var a=Object(_.a)(n,2)[1],i=R.a.get(v,a.slice(1));i={mode:"move",uniqueClassName:t,config:R.a.cloneDeep(i)},e.dataTransfer.setDragImage(e.target,-5,-5),e.dataTransfer.setData("config",JSON.stringify(i))}else ee("move items: drag unable to find the config to transfer ".concat(t))},q=Object(o.useCallback)((function(e){return at(e,"mj-column")}),[]),B=function(e){if(!g){var t=e.nativeEvent.target,n=te(t);if(((null===n||void 0===n?void 0:n.includes("mj-column"))||(null===n||void 0===n?void 0:n.includes("mj-section")))&&(Z("::indicator: trigger->column"),n.includes("mj-column"))){if(!0===function(e){var t=e.mjmlJson,n=e.setMjmlJson,a=e.nearestTag;if(a){var r=Q(t,a);if(r){var i=ge(R.a.cloneDeep(t));Z("::beforechange::",t,i);for(var o=Object(_.a)(r,2)[1],c=R.a.get(R.a.cloneDeep(i),o.slice(1)),s=[],l=0;c&&c.children&&l<c.children.length;l++){var d=c.children[l],u=d.attributes&&d.attributes["css-class"];u&&u.includes("placeitem-placeholder")||u&&u.includes("mj-placeholder")||s.push(d)}if(s.length>0)return!1;s.push(ct);var b=o.slice(1,o.lastIndexOf(".children"));if(c){c.children=s;for(var p=R.a.get(R.a.cloneDeep(i),b),j=[],f=0;p&&p.children&&f<p.children.length;f++){var g=p.children[f],h=g.attributes&&g.attributes["css-class"];ae(h)!==a?j.push(g):j.push(c)}p.children=j;var m=R.a.set(i,b,p);return R.a.isEqual(t,m)?Z("::update:: -> but elements are the same, not triggering rerender"):(Z("::update::",i,m),n(Object(I.a)({},m))),!0}}}}({mjmlJson:v,nearestTag:n,setMjmlJson:x}))return void Z("::indicator: trigger->column -> stopping further processing");Z("::indicator: trigger->column -> no updates where done -> proceeding further processing")}var a=q(t);if(a){var r=a;a=Object(_.a)(r,1)[0]}Z("::indicator: trigger->insideColumn"),ot({mjmlJson:v,nearestTag:n,columnElement:a,currentTarget:t,setMjmlJson:x,event:e})}},F=Object(o.useMemo)((function(){return Object(o.createElement)(n.nodeName,Object(I.a)(Object(I.a)({},n.props),{},{onMouseEnter:E,onMouseLeave:E,onDragOver:R.a.debounce(B,150),onDragStart:z,draggable:P,ref:C,id:S.current,onClick:T,key:t,style:Object(I.a)(Object(I.a)({},n.props.style),{},{cursor:"pointer",outline:c===C.current?J:M})}),n.children)}),[C,P,E,T,n,M,J,c,S,s]);return n&&n.props.className.includes("mj-section")?Object(h.jsxs)(h.Fragment,{children:[F,Object(h.jsx)(_t,{className:n.props.className,idRef:C,active:c}),Object(h.jsx)("div",{style:{position:"relative"},children:Object(h.jsx)("div",{style:{position:"absolute",right:-2,bottom:-24},children:c===C.current||s===C.current?Object(h.jsx)("label",{style:{padding:"4px 6px",background:"#1890ff",color:"white"},children:"row"}):null})})]}):F})),Lt={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",align:"align",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vertical-align":"vertial-align","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Rt=function(e){var t=e.nodeName,n=e.props,a=e.children,r=e.id;return Object(o.createElement)(t,Object(I.a)(Object(I.a)({},n),{},{key:r,style:Object(I.a)(Object(I.a)({},n.style),{},{outline:"3px dotted rgb(121,202,182)"})}),a)},qt=new DOMParser,Bt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0!==t){var a=t.nodeName.toLowerCase();if("script"===a||"style"===a||"meta"===a||"link"===a||"title"===a||"br"===a){if("meta"===a){var r=t;return c.a.createElement(a,{httpEquiv:r.httpEquiv,content:r.content,key:a+n++},null)}if("link"===a){var i=t,o=null;return i.type&&(o=i.type),c.a.createElement(a,{href:i.href,rel:i.rel,type:o,key:a+n++},null)}return"br"===a?c.a.createElement(a,{key:a+n++},null):c.a.createElement(a,{dangerouslySetInnerHTML:{__html:t.innerHTML,key:a+n++}})}for(var s={},l=0;t.attributes&&l<t.attributes.length;l++){var d=t.attributes[l],u=Lt[d.name];if(void 0===u){u=Ht(d.name);"htmlParser: ".concat(d.name," is not found in possible attributes,\n      using ").concat(u," instead.")}var b="style"===d.name?Ft(d.value):d.value.trim();s[u]=b}s.key=n++;var p=[];if(t.className&&t.className.includes("mj-text")){var j={nodeName:a,props:Object(I.a)(Object(I.a)({},s),{},{dangerouslySetInnerHTML:{__html:t.innerHTML}})};return Object(h.jsx)(It,{uniqueKey:n++,originalNode:j})}for(var f=0;f<t.childNodes.length;f++){var g=t.childNodes[f];if("#text"!==g.nodeName)"#comment"!==g.nodeName&&"script"!==a&&"style"!==a&&p.push(e(g,n++));else if(g.textContent){var m=g.textContent.replaceAll("\n","").trim();m&&p.push(m)}}if(t.classList&&t.classList.contains("mjml-tag")){var v={nodeName:a,props:Object(I.a)({},s),children:p};return Object(h.jsx)(It,{uniqueKey:n++,originalNode:v})}return t.classList&&t.classList.contains("placeitem-placeholder")?Object(h.jsx)(Rt,{id:n++,nodeName:a,props:Object(I.a)({},s),children:p}):("#document"===a&&(a="div"),"a"===a&&(delete s.href,delete s.target),"img"===a?c.a.createElement(a,Object(I.a)({key:n++},s),null):3===t.nodeType?c.a.createElement(a,Object(I.a)(Object(I.a)({},s),{},{key:n++}),t.textContent):c.a.createElement(a,s,p))}},Ft=function(e){for(var t={},n=e.split(/;+(?![^(]*\))/g),a=0;a<n.length;a++)if(""!==n[a]){var r=n[a].split(":"),i=Object(Ke.a)(r),o=[i[0],i.slice(1).join(":")],c=o[0].trim();c=Ht(c);var s=o[1].trim();t[c]=s}return t},Ht=function(e){return e.replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace("-","").replace("_","")}))},Ut=n(2156),Wt=function(e){B.b.success(e)},Yt=function(e){return e&&e.children&&(e.children=e.children.filter((function(e){return!(e&&e.attributes&&e.attributes["css-class"])||!e.attributes["css-class"].includes("mj-placeholder")}))),e},Xt=function(e){var t=e.target,n=e.droppedConfig,a=e.setMjmlJson,r=e.mjmlJson,i=e.uid,o=te(t);if(!o){var c=ge(r);return a(Object(I.a)({},c)),null}if("mj-section"!==n.tagName&&("identifier-mj-body"===o||"identifier-mj-section"===o)){var s=ge(r);return a(Object(I.a)({},s)),function(e){B.b.error(e)}("kindly place the item on column instead "),null}if(n.tagName&&"mj-section"===n.tagName&&"identifier-mj-body"!==o){var l="Columns can not be nested! it will break mobile design";return B.b.info(l),void Z("operation add: ".concat(l))}var d=R.a.cloneDeep(n);d=re(d,i);var u=Q(R.a.cloneDeep(r),o);if(!u)return null;var b=Object(_.a)(u,2),p=b[0],j=b[1];ee("operation add: item in Object:",p,"path to Object:",j),p=function(e,t){if("mj-body"!==e.tagName&&e.children.length)for(var n=0;n<e.children.length;n++){var a=e.children[n],r=a.attributes["css-class"];r&&r.includes("placeitem-placeholder")?e.children[n]=t:e.children[n]=a}else e.children.push(t);return e}(p=Yt(p),d),ye.isUndoEmpty()&&ye.newAction(ge(R.a.cloneDeep(r)));var f=R.a.set(r,j.slice(1),p);f=ge(f),ye.newAction(f),a(Object(I.a)({},f))},Vt=function(e){var t,n=e.target,a=e.uniqueClassName,r=e.mjmlJson,i=e.setMjmlJson,o=e.setDelActive,c=e.setCopyActive,s=e.setActive,l=e.movement;if(n)t=te(n);else{if(!a)return void ee("operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    ");t=a}if(!t)return null;var d=Q(r,t);if(!d)return null;var u=Object(_.a)(d,2)[1].split("."),b=u.pop();u=u.join(".");var p=R.a.get(r,u.slice(1)),j=b.match(/\[(.*?)\]/);if(j){for(var f=parseInt(j[1]),g=[],h=0;p&&p.children&&h<p.children.length;h++)h!==f&&g.push(p.children[h]);if(u){var m=R.a.get(r,u.slice(1));m.tagName&&"mj-column"===m.tagName&&0===g.length&&(g=le)}p.children=g}s(null);var v=R.a.set(r,u.slice(1),p);v?(o(!1),c(!1),i(Object(I.a)({},v)),l||ye.newAction(v)):ee("operation remove: unable to delete the item")},Gt=function(e){var t=e.mjmlJson,n=e.setActive,a=e.setMjmlJson,r=e.setCopyActive,i=e.setDelActive,o=e.target,c=e.uidGenerator,s=ne(o,o.classList),l="",d=-1;if(s){var u=function(e,t,n){var a=-1,r=e.closest(".mjml-tag");for(r===e&&(r=e.parentElement);-1===a&&r;){var i=ne(r,r.classList);if(i){var o=Q(t,i);if(o){var c=o;if(o=Object(_.a)(c,1)[0],-1!==(a=ie(o.children,n)))break}}var s=r.closest(".mjml-tag");s&&s===r?r.parentElement&&(r=r.parentElement.closest(".mjml-tag")):r=s}return[a,r&&r.classList?ne(r,r.classList):null]}(o,t,s);if(!u||"number"!==typeof u[0]||"string"!==typeof u[1])return void B.b.error("Unable to copy element");var b=Object(_.a)(u,2);d=b[0],l=b[1]}var p=Q(t,s);if(p&&d>-1){var j=p;return p=Object(_.a)(j,1)[0],r(!1),i(!1),n(null),function(e){var t=e.droppedConfig,n=e.setMjmlJson,a=e.mjmlJson,r=e.uid,i=e.parentUniqueClassIdentifier,o=e.index,c=i;if(!c){var s=ge(a);return n(Object(I.a)({},s)),null}var l=R.a.cloneDeep(t);l=re(l,r);var d=Q(a,c);if(!d)return null;var u=Object(_.a)(d,2),b=u[0],p=u[1];if(ee("operation add: item in Object:",b,"path to Object:",p),b=Yt(b),o>-1)for(var j=0;b&&b.children&&j<b.children.length;j++)j===o&&b.children.splice(j,0,l);var f=R.a.set(a,p.slice(1),b);f=ge(f),ye.newAction(f),n(Object(I.a)({},f))}({droppedConfig:R.a.cloneDeep(p),setMjmlJson:a,mjmlJson:t,uid:c,index:d,parentUniqueClassIdentifier:l})}},Kt=function e(t){if(3===t.nodeType)return t;for(var n=0;t.childNodes&&n<t.childNodes.length;n++){var a=e(t.childNodes[n]);if(a)return Qt(a)}},Qt=function e(t){if(!t)return null;if(3===t.nodeType)return e(t.parentNode);var n=t;return 1===n.nodeType?n.closest("div"):n},Zt=n(323),$t=n.n(Zt),en=Object(o.createContext)(null),tn=function(e){var t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(null),c=Object(_.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(0),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Object(o.useState)(0),f=Object(_.a)(j,2),g=f[0],m=f[1];return Object(h.jsx)(en.Provider,{value:{QuillActive:a,setQuillActive:r,quillEditor:s,setQuillEditor:l,quillX:b,quillY:g,setQuillX:p,setQuillY:m},children:e.children})},nn=function(){return Object(o.useContext)(en)},an=n(215),rn=n.n(an),on=n(214),cn=n.n(on),sn=function(){var e=K(),t=(e.ref,e.isActive,e.x,e.y,e.delActive),n=e.delX,a=e.delY,r=e.setDelActive,i=e.copy,c=We(),s=c.mjmlJson,l=c.setMjmlJson,d=Ue(),u=d.active,b=d.setActive,p=nn(),j=p.QuillActive,f=(p.quillX,p.quillY,p.setQuillEditor),g=(p.setQuillActive,nn().quillEditor),m=i.copyActive,v=i.setCopyActive,x=i.copyX,O=i.copyY,y=X().getId;Object(o.useEffect)((function(){if(g){var e=ne(u,u.classList);g.on("text-change",(function(){var t=g.container.firstChild.innerHTML;if(Z(t),e){var n=Q(s,e);if(n){var a=Object(_.a)(n,2)[1],r=R.a.get(s,a.slice(1));r.content=t;var i=R.a.set(s,a.slice(1),r);l(Object(I.a)({},i))}}}))}return function(){return g&&g.off("text-change")}}),[g]),Object(o.useEffect)((function(){if(u&&j){var e=Kt(u);if(g&&g.off("text-change"),e){for(;e.parentElement.classList.contains("ql-container")||e.hasAttribute("data-gramm");)e=e.parentElement;e.classList.contains("ql-container")&&(e.classList.remove("ql-container"),e.classList.remove("ql-snow"));var t=new $t.a(e,{theme:"snow",modules:{toolbar:"#toolbarContainer"}});t.getModule("toolbar").container.childNodes.forEach((function(e){var t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}));var n=t.getModule("toolbar");n.container.childNodes.forEach((function(e){n.attach(e)}),n),f(t),t.editor.scroll.domNode.classList.remove("ql-editor"),t.container.children[1].remove(),t.container.children[1].remove(),t=void 0}}}),[u]);var k=Object(o.useMemo)((function(){return function(){u&&Vt({target:u,mjmlJson:s,setMjmlJson:l,setDelActive:r,setActive:b,setCopyActive:v})}}),[u]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ln,{style:{display:t?"block":"none",position:"fixed",left:"".concat(n,"px"),top:"".concat(a,"px")},deleteConfirm:k}),Object(h.jsx)(dn,{onClick:function(){u&&Gt({mjmlJson:s,setActive:b,setMjmlJson:l,setCopyActive:v,setDelActive:r,target:u,uidGenerator:y})},style:{display:m?"block":"none",position:"fixed",left:"".concat(x,"px"),top:"".concat(O,"px")}})]})},ln=function(e){var t=e.style,n=e.deleteConfirm;return Object(h.jsx)(Ut.a,{placement:"right",title:"Are you sure ?",okText:"Delete",cancelText:"Cancel",onConfirm:n,children:Object(h.jsx)(p.a,{style:t,type:"primary",icon:Object(h.jsx)(cn.a,{})})})},dn=function(e){var t=e.style,n=e.onClick;return Object(h.jsx)(p.a,{style:t,onClick:n,type:"primary",icon:Object(h.jsx)(rn.a,{})})},un=(n(479),n(480),n(2176)),bn=n(2177),pn=n(93),jn=function(e){var t=e.undoCallback,n=e.redoCallback;return Object(h.jsxs)("div",{style:{position:"fixed",padding:"8px",display:"flex",flexDirection:"column",rowGap:"4px"},children:[Object(h.jsx)(pn.a,{mouseEnterDelay:.5,color:"cyan",title:"undo",placement:"right",children:Object(h.jsx)(p.a,{disabled:ye.isUndoEmpty(),onClick:t,type:"default",size:"large",style:{background:"#fff"},icon:Object(h.jsx)(un.a,{})})}),Object(h.jsx)(pn.a,{mouseEnterDelay:.5,color:"cyan",title:"redo",placement:"right",children:Object(h.jsx)(p.a,{disabled:ye.isRedoEmpty(),onClick:n,type:"default",style:{background:"#fff"},size:"large",icon:Object(h.jsx)(bn.a,{})})})]})},fn=Object(j.a)("div")(Ce||(Ce=Object(b.a)(["\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n"]))),gn=function(e){var t=We(),n=t.mjmlJson,a=t.setMjmlJson,r=X().getId,i=Ue(),c=i.setActive,s=i.active,l=K(),d=l.setDelActive,u=l.copy,b=l.drag,p=b.setIsColumn,j=b.isColumn,f=u.setCopyActive;Object(o.useEffect)((function(){ye.print()}),[n]);var g=Object(o.useCallback)((function(e){s&&c(null),e.preventDefault()}),[c,s]);return Object(h.jsxs)(E.a,{style:{height:"100%"},children:[Object(h.jsx)(sn,{}),Object(h.jsx)(Pt,{}),Object(h.jsx)(jn,{undoCallback:function(){var e=ye.undoAction(n);e&&(a(Object(I.a)({},e)),c(null),d(!1),f(!1))},redoCallback:function(){var e=ye.redoAction(n);e&&(c(null),a(Object(I.a)({},e)),d(!1),f(!1))}}),Object(h.jsx)(fn,{className:"".concat(Ge.a.viewHolder," mjml-wrapper mjml-tag identifier-mj-body"),onDrop:function(e){e.preventDefault(),j&&p(!1);var t=JSON.parse(e.dataTransfer.getData("config"));t&&t.mode&&"move"===t.mode&&t.config&&(Vt({uniqueClassName:t.uniqueClassName,mjmlJson:n,setMjmlJson:a,setActive:c,setDelActive:d,setCopyActive:f,movement:!0}),ee("operation move: onDrop -> removed previous instance \n      of config :'".concat(t.uniqueClassName,"'")),t=t.config),Xt({target:e.nativeEvent.target,droppedConfig:t,mjmlJson:n,setMjmlJson:a,uid:r})},onDragOver:g,children:Object(h.jsx)(hn,{mjml:n,isColumn:j})})]})},hn=Object(o.memo)((function(e){var t=e.mjml;e.isColumn;return t&&function(e){if("string"!==typeof e)return $("htmlParser: html is not a string"),c.a.createElement("div",{},"errors: please check dev console");var t=qt.parseFromString(e,"text/html");return null===t?($("htmlParser: doc is null, unable to process html"),c.a.createElement("p",{},"errors: please check dev console")):Bt(t,1)}(Xe()(t).html)})),mn=n(218),vn=n.n(mn),xn=n(216),On=n.n(xn),yn=n(219),kn=n.n(yn),wn=n(217),Cn=n.n(wn),Sn=n(2160),An=function(){var e=Ct({attribute:"align"}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,o=r.setMjmlJson,c=Ue().active,s=function(e){if(c&&n&&a){var t=R.a.get(i,a);if(t&&t.attributes&&t.attributes){t.attributes.align=e;var r=R.a.set(i,a,t);o(Object(I.a)({},r))}}};return n?Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{flex:"3",children:Object(h.jsx)(Sn.a.Item,{label:"Align"})}),Object(h.jsx)(A.a,{flex:"2",children:Object(h.jsxs)(S.a,{justify:"space-between",children:[Object(h.jsx)(pn.a,{title:"Left",children:Object(h.jsx)(p.a,{onClick:function(){return s("left")},type:"ghost",icon:Object(h.jsx)(On.a,{})})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(pn.a,{title:"Justify",children:Object(h.jsx)(p.a,{onClick:function(){return s("justify")},type:"ghost",icon:Object(h.jsx)(Cn.a,{})})})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(pn.a,{title:"Center",children:Object(h.jsx)(p.a,{onClick:function(){return s("center")},type:"ghost",icon:Object(h.jsx)(vn.a,{})})})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(pn.a,{title:"Right",children:Object(h.jsx)(p.a,{onClick:function(){return s("right")},type:"ghost",icon:Object(h.jsx)(kn.a,{})})})})]})})]}):null},Nn=function(e){var t=e.activePath,n=e.label,a=e.overrideAttribute||"background-color",r=We(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)((function(){return!1})),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)((function(){return"#ccc"})),p=Object(_.a)(b,2),j=p[0],f=p[1],g=Ct({attribute:a,customPath:t}),m=Object(_.a)(g,2),v=m[0],x=m[1];Object(o.useEffect)((function(){if(v&&x){var e=R.a.get(i,x);e&&e.attributes&&e.attributes[a]&&f(e.attributes[a])}Z("background reloading,",x,v)}),[x,v]);return v?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{flex:"auto",children:Object(h.jsx)(Sn.a.Item,{label:n||"Background"})}),Object(h.jsxs)(En,{color:j,flex:"none",children:[Object(h.jsx)("div",{className:"swatch",onClick:function(){return u(!0)},children:Object(h.jsx)("div",{className:"color"})}),d?Object(h.jsxs)("div",{className:"popover",children:[Object(h.jsx)("div",{className:"cover",onClick:function(){return u(!1)}}),Object(h.jsx)(Ot.a,{disableAlpha:!1,color:j,onChange:function(e){return function(e){var t="".concat(e.hex).concat(Dn(e.rgb.a));if(f(t),x&&v){var n=R.a.get(i,x);n.attributes[a]=t;var r=R.a.set(i,x,n);c(Object(I.a)({},r))}}(e)}})]}):null]})]})}):null},Dn=function(e){return 0===e?"00":Math.round(255*e).toString(16)},En=Object(j.a)(A.a)(Se||(Se=Object(b.a)(["\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"])),(function(e){return e.color})),Tn=function(e){var t=e.activePath,n=e.label,a=e.attribute_name||"border",r=Ct({attribute:a,customPath:t}),i=Object(_.a)(r,2),c=i[0],s=i[1],l=We(),d=l.mjmlJson,u=l.setMjmlJson,b=St({path:s,visible:c,attribute:a}).getValue,p=Object(o.useState)(""),j=Object(_.a)(p,2),f=j[0],g=j[1];Object(o.useEffect)((function(){c&&g(b())}),[c]);return c?Object(h.jsx)(Sn.a.Item,{label:n||"Border",children:Object(h.jsx)(pt.a,{onChange:function(e){if(g(e.target.value),c&&s&&e.target.value){var t,n=R.a.get(d,s);n.attributes[a]=e.target.value,t=R.a.set(d,s,n),u(Object(I.a)({},t))}},value:f,onKeyDown:Pn})}):null},Pn=function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")},Mn="border-radius",Jn=function(e){var t=e.activePath,n=We(),a=n.mjmlJson,r=n.setMjmlJson,i=Ct({attribute:Mn,customPath:t}),o=Object(_.a)(i,2),c=o[0],s=o[1],l=function(e){if(s){""===e&&(e="none");var t=R.a.get(a,s);t.attributes["border-radius"]=e;var n=R.a.set(a,s,t);r(Object(I.a)({},n))}},d="";return c&&(d=R.a.get(a,s+"attributes.border-radius")),c?Object(h.jsx)(Sn.a.Item,{label:"Border Radius",children:Object(h.jsx)(pt.a,{onChange:function(e){c&&e.target.value&&(""===e.target.value&&(e.target.value="none"),l(e.currentTarget.value))},value:d,onKeyDown:function(e){if(1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value=""),("ArrowUp"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),c)){var t=R.a.get(a,s+"attributes")["border-radius"],n=new RegExp(/^\d+/).exec(t),r=n?parseInt(n[0]):0;"ArrowUp"===e.key?t=t.replace(/^\d+/,r+1):"ArrowDown"===e.key&&r>0&&(t=t.replace(/^\d+/,r-1)),e.currentTarget.value=t,l(t)}}})}):null},zn="container-background-color",_n=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a=Object(o.useState)((function(){return!1})),r=Object(_.a)(a,2),i=r[0],c=r[1],s=Object(o.useState)((function(){return"#ccc"})),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Ue().active,p=Ct({attribute:zn}),j=Object(_.a)(p,2),f=j[0],g=j[1];Object(o.useEffect)((function(){if(b&&f)try{if(g){var e=R.a.get(t,g);e.mutableProperties.includes(zn)&&u(e.attributes["container-background-color"])}}catch(n){ee("got exception, hiding background mod",n)}}),[b]);return f?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{flex:"auto",children:Object(h.jsx)(Sn.a.Item,{label:"Container Background"})}),Object(h.jsxs)(Ln,{color:d,flex:"none",children:[Object(h.jsx)("div",{className:"swatch",onClick:function(){return c(!0)},children:Object(h.jsx)("div",{className:"color"})}),i?Object(h.jsxs)("div",{className:"popover",children:[Object(h.jsx)("div",{className:"cover",onClick:function(){return c(!1)}}),Object(h.jsx)(Ot.a,{disableAlpha:!1,color:d,onChange:function(e){return function(e){var a="".concat(e.hex).concat(In(e.rgb.a));if(u(a),g&&f){var r=R.a.get(t,g);r.attributes["container-background-color"]=a;var i=R.a.set(t,g,r);n(Object(I.a)({},i))}}(e)}})]}):null]})]})}):null},In=function(e){return 0===e?"00":Math.round(255*e).toString(16)},Ln=Object(j.a)(A.a)(Ae||(Ae=Object(b.a)(["\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ",";\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n"])),(function(e){return e.color})),Rn="content",qn=function(){var e=Ct({property:Rn}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)(""),l=Object(_.a)(s,2),d=l[0],u=l[1],b=Object(o.useState)(null),p=Object(_.a)(b,2),j=p[0],f=p[1],g=Object(o.useState)(!1),m=Object(_.a)(g,2),v=m[0],x=m[1];Ue().active;Object(o.useEffect)((function(){if(n&&a){var e=R.a.get(i,a);if(e){if(u(e.content?e.content:""),"mj-text"===e.tagName){if(e.attributes&&e.attributes["css-class"]&&e.attributes["css-class"].includes("html-block"))return f(!1),void x(!0);f(!0)}else f(!1);x(!1)}}}),[n,a]);var O=function(e){var t=e.currentTarget.value;if(u(t),a&&n){var r=R.a.get(i,a);if(r&&r.content!==t){r.content=t;var o=R.a.set(i,a,r);c(Object(I.a)({},o))}}};return n?Object(h.jsx)(Sn.a.Item,{label:"Content",children:v?Object(h.jsx)(pt.a.TextArea,{rows:28,onChange:O,value:d}):Object(h.jsx)(pt.a.TextArea,{disabled:j||!1,readOnly:j||!1,rows:3,onChange:O,value:d})}):null},Bn=function(e){var t=e.activePath,n=We(),a=n.mjmlJson,r=n.setMjmlJson,i=Ct({attribute:"border-top",customPath:t}),o=Object(_.a)(i,2),c=o[0],s=o[1],l=function(e,t){c&&s&&e.target.value&&(""===e.target.value&&(e.target.value=""),d(t,e.target.value))},d=function(e,t){if(s){""===t&&(t="none");var n=R.a.get(a,s);n.attributes["border-".concat(e)]=t;var i=R.a.set(a,s,n);r(Object(I.a)({},i))}},u=function(e,t){if(1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value=""),("ArrowUp"===e.key||"ArrowDown"===e.key)&&(e.preventDefault(),c)){var n=R.a.get(a,s+"attributes")["border-"+t],r=new RegExp(/^\d+/).exec(n),i=r?parseInt(r[0]):0;"ArrowUp"===e.key?n=n.replace(/^\d+/,i+1):"ArrowDown"===e.key&&i>0&&(n=n.replace(/^\d+/,i-1)),e.currentTarget.value=n,d(t,e.currentTarget.value)}},b="",p="",j="",f="";return c&&(b=R.a.get(a,s+"attributes.border-left"),p=R.a.get(a,s+"attributes.border-right"),f=R.a.get(a,s+"attributes.border-top"),j=R.a.get(a,s+"attributes.border-bottom")),c?Object(h.jsxs)(Sn.a.Item,{label:"Border Directions",children:[Object(h.jsx)(pt.a.Group,{style:{marginBottom:"6px"},children:Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{span:11,offset:0,children:Object(h.jsx)(pt.a,{addonBefore:"top",onKeyDown:function(e){return u(e,"top")},onChange:function(e){return l(e,"top")},value:f})}),Object(h.jsx)(A.a,{span:11,offset:2,children:Object(h.jsx)(pt.a,{addonBefore:"right",onKeyDown:function(e){return u(e,"right")},onChange:function(e){return l(e,"right")},value:p})})]})}),Object(h.jsx)(pt.a.Group,{children:Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{span:11,offset:0,children:Object(h.jsx)(pt.a,{addonBefore:"bottom",onKeyDown:function(e){return u(e,"bottom")},onChange:function(e){return l(e,"bottom")},value:j})}),Object(h.jsx)(A.a,{span:11,offset:2,children:Object(h.jsx)(pt.a,{addonBefore:"left",onKeyDown:function(e){return u(e,"left")},onChange:function(e){return l(e,"left")},value:b})})]})})]}):null},Fn="font-size",Hn=function(){var e=Ct({attribute:Fn}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,o=r.setMjmlJson,c=St({path:a,visible:n,attribute:Fn}).getValue;return n?Object(h.jsx)(Sn.a.Item,{label:"FontSize",children:Object(h.jsx)(pt.a,{onChange:function(e){var t=e.currentTarget.value;if(a&&n){var r,c=R.a.get(i,a);c.attributes["font-size"]=t,r=R.a.set(i,a,c),o(Object(I.a)({},r))}},value:c()})}):null},Un="src",Wn=function(){var e=Ct({attribute:Un}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,o=r.setMjmlJson,c=St({path:a,visible:n,attribute:Un}).getValue;return n?Object(h.jsx)(S.a,{children:Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(pt.a,{addonBefore:"src",onChange:function(e){return function(e){var t=e.currentTarget.value;if(a&&n){var r,c=R.a.get(i,a);c.attributes.src=t,r=R.a.set(i,a,c),o(Object(I.a)({},r))}}(e)},value:c()})})}):null},Yn="inner-padding",Xn=function(){var e=Ct({attribute:Yn}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,c=r.setMjmlJson,s=Object(o.useState)(),l=Object(_.a)(s,2),d=l[0],u=l[1];Object(o.useEffect)((function(){if(n&&a){var e=R.a.get(i,a);e&&e.attributes&&e.attributes["inner-padding"]&&u(e.attributes["inner-padding"])}}),[n,a]),Object(o.useEffect)((function(){d&&function(e){var t=e.visible,n=e.path,a=e.mjmlJson,r=e.setMjmlJson,i=e.attribute,o=e.value;if(t&&n){var c=R.a.get(a,n,t);if(c&&c.attributes&&c.attributes[i]!==o){c.attributes[i]=o;var s=R.a.set(a,n,c);r(Object(I.a)({},s))}}}({visible:n,path:a,mjmlJson:i,setMjmlJson:c,value:d,attribute:Yn})}),[d]);return n?Object(h.jsx)(Sn.a.Item,{label:"Inner Padding :",children:Object(h.jsx)(pt.a,{onChange:function(e){var t=e.currentTarget.value;Z("inner padding value",t),a&&n&&u(t)},type:"text",value:d})}):null},Vn=n(324),Gn=n.n(Vn),Kn="href",Qn=function(){var e=Ct({attribute:Kn}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,o=r.setMjmlJson,c=St({path:a,visible:n,attribute:Kn}).getValue;return n?Object(h.jsx)(Gn.a,{children:Object(h.jsx)(S.a,{children:Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(pt.a,{addonBefore:Kn,onChange:function(e){return function(e){var t=e.currentTarget.value;if(a&&n){var r,c=R.a.get(i,a);c.attributes.href=t,r=R.a.set(i,a,c),o(Object(I.a)({},r))}}(e)},value:c()})})})}):null},Zn=function(e){var t=e.activePath,n=Ct({attribute:"padding",customPath:t}),a=Object(_.a)(n,3),r=a[0],i=a[1],c=a[2],s=We(),l=s.mjmlJson,d=s.setMjmlJson,u=function(e,t){""===e.currentTarget.value&&(e.currentTarget.value="0"),b(t,e.currentTarget.value)},b=Object(o.useMemo)((function(){return function(e,t){if(i&&r){var n={};if(e){var a=R.a.get(l,i);a.attributes["padding-".concat(e)]=t,n=R.a.set(l,i,a),d(Object(I.a)({},n))}}}}),[r,i]),p=function(e){var t="";if(i&&r&&c){var n=R.a.get(l,i);if(!n)return;if(!(t=n.attributes?n.attributes["padding-".concat(e)]:null)&&(t=n.attributes.padding)){var a=t.split(" "),o=Object(_.a)(a,2),s=o[0],d=o[1];switch(e){case"top":case"bottom":return s;case"left":case"right":return d}}}return t};return r?Object(h.jsxs)(Sn.a.Item,{label:"Padding :",children:[Object(h.jsx)(pt.a.Group,{style:{marginBottom:"6px"},children:Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{span:11,offset:0,children:Object(h.jsx)(pt.a,{addonBefore:"top",onChange:function(e){return u(e,"top")},value:p("top")})}),Object(h.jsx)(A.a,{span:11,offset:2,children:Object(h.jsx)(pt.a,{addonBefore:"right",onChange:function(e){return u(e,"right")},value:p("right")})})]})}),Object(h.jsx)(pt.a.Group,{children:Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{span:11,offset:0,children:Object(h.jsx)(pt.a,{addonBefore:"bottom",onChange:function(e){return u(e,"bottom")},value:p("bottom")})}),Object(h.jsx)(A.a,{span:11,offset:2,children:Object(h.jsx)(pt.a,{addonBefore:"left",onChange:function(e){return u(e,"left")},value:p("left")})})]})})]}):null},$n="width",ea=function(e){var t=e.activePath,n=Ct({attribute:$n,customPath:t}),a=Object(_.a)(n,2),r=a[0],i=a[1],c=We(),s=c.mjmlJson,l=c.setMjmlJson,d=Object(o.useState)(""),u=Object(_.a)(d,2),b=u[0],p=u[1],j=St({path:i,visible:r,attribute:$n}).getValue;Object(o.useEffect)((function(){r&&p(j())}),[r]);return r?Object(h.jsx)(Sn.a.Item,{label:"Width",children:Object(h.jsx)(pt.a,{onChange:function(e){if(p(e.target.value),""!==e.target.value&&"%"!==e.target.value||(e.target.value="0"),r&&i&&e.target.value){var t,n=R.a.get(s,i);n.attributes.width=e.target.value,t=R.a.set(s,i,n),l(Object(I.a)({},t))}},value:b,onKeyDown:function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")}})}):null},ta="height",na=function(){var e=Ct({attribute:ta}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,c=r.setMjmlJson,s=St({path:a,visible:n,attribute:ta}).getValue,l=Object(o.useState)(""),d=Object(_.a)(l,2),u=d[0],b=d[1];Object(o.useEffect)((function(){n&&b(s())}),[n]);return n?Object(h.jsx)(Sn.a.Item,{label:"Height",children:Object(h.jsx)(pt.a,{onChange:function(e){if(b(e.target.value),""!==e.target.value&&"%"!==e.target.value||(e.target.value=""),n&&a&&e.target.value){var t,r=R.a.get(i,a);r.attributes.height=e.target.value,t=R.a.set(i,a,r),c(Object(I.a)({},t))}},value:u,onKeyDown:function(e){1===e.currentTarget.value.length&&"Backspace"===e.key&&(e.currentTarget.value="")}})}):null},aa=n(2158),ra={display:"flex",height:"16px",borderRadius:"0px"},ia="1px solid rgb(85, 85, 85)",oa=function(){var e=Ue().active,t=We(),n=t.mjmlJson,a=t.setMjmlJson,r=K(),i=r.setDelActive,c=r.copy.setCopyActive,s=et().setActive,l=X().getId,d=Object(o.useState)(!1),u=Object(_.a)(d,2),b=u[0],p=u[1],j=Object(o.useState)(),f=Object(_.a)(j,2),g=f[0],m=f[1];Object(o.useEffect)((function(){if(e){var t=rt(e);if(t){var n=Object(_.a)(t,2)[1];return p(!0),void m(n)}}p(!1)}),[e,b]);var v=function(e){if(b&&g){var t=Q(n,g);if(t){var r=Object(_.a)(t,2),o=r[0],d=r[1];if(o&&d&&o.children&&e.length>0){for(var u=o.children.length,p=e.length,j=[],f=0;f<u&&f<p;f++){var h=R.a.cloneDeep(o.children[f]);h&&h.attributes&&(h.attributes.width=e[f],j.push(h))}for(var m=u;m<p;m++){var v=re(R.a.cloneDeep(de),l);v.attributes.width=e[m],j.push(v)}var x=Object(I.a)(Object(I.a)({},o),{},{children:j});Z("column layout: ",x);var O=R.a.set(n,d.slice(1),x);O&&(ye.newAction(O),i(!1),c(!1),s(!1),a(Object(I.a)({},O)))}}}};return b?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(sa,{children:Object(h.jsx)("p",{children:"1 Columns"})}),Object(h.jsx)(ca,{click:function(){return v(["100%"])},one:100})]}),Object(h.jsxs)("div",{style:{marginTop:"16px"},children:[Object(h.jsx)(sa,{children:Object(h.jsx)("p",{children:"2 Columns"})}),Object(h.jsx)(ca,{click:function(){return v(["50%","50%"])},one:50,two:50}),Object(h.jsx)(ca,{click:function(){return v(["39%","59%"])},one:40,two:60}),Object(h.jsx)(ca,{click:function(){return v(["25%","75%"])},one:25,two:75}),Object(h.jsx)(ca,{click:function(){return v(["60%","40%"])},one:60,two:40}),Object(h.jsx)(ca,{click:function(){return v(["75%","25%"])},one:75,two:25})]}),Object(h.jsxs)("div",{style:{marginTop:"16px"},children:[Object(h.jsx)(sa,{children:Object(h.jsx)("p",{children:"3 Columns"})}),Object(h.jsx)(ca,{click:function(){return v(["33%","33%","33%"])},one:50,two:50,three:50}),Object(h.jsx)(ca,{click:function(){return v(["47.5%","5%","47.5%"])},one:47.5,two:5,three:47.5}),Object(h.jsx)(ca,{click:function(){return v(["25%","25%","50%"])},one:25,two:25,three:50}),Object(h.jsx)(ca,{click:function(){return v(["25%","50%","25%"])},one:25,two:50,three:25}),Object(h.jsx)(ca,{click:function(){return v(["50%","25%","25%"])},one:50,two:25,three:25})]}),Object(h.jsxs)("div",{style:{marginTop:"16px"},children:[Object(h.jsx)(sa,{children:Object(h.jsx)("p",{children:"4 Columns"})}),Object(h.jsx)(ca,{click:function(){return v(["25%","25%","25%","25%"])},one:50,two:50,three:50,four:50})]})]}):Object(h.jsx)("div",{style:{textAlign:"center"},children:"Place some items on the page"})},ca=function(e){var t=e.click,n=e.one,a=e.two,r=e.three,i=e.four;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{style:{marginBottom:"12px"}}),Object(h.jsx)(la,{onClick:t||void 0,children:Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("div",{className:"border",children:[Object(h.jsx)("div",{style:Object(I.a)(Object(I.a)({},ra),{},{flexGrow:n,borderRight:a?ia:"unset"})}),a?Object(h.jsx)("div",{style:Object(I.a)(Object(I.a)({},ra),{},{flexGrow:a,borderRight:r?ia:"unset"})}):null,r?Object(h.jsx)("div",{style:Object(I.a)(Object(I.a)({},ra),{},{flexGrow:r,borderRight:i?ia:"unset"})}):null,i?Object(h.jsx)("div",{style:Object(I.a)(Object(I.a)({},ra),{},{flexGrow:a})}):null]})})})]})},sa=Object(j.a)(S.a)(Ne||(Ne=Object(b.a)(["\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n"]))),la=Object(j.a)(S.a)(De||(De=Object(b.a)(["\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n"]))),da="font-family",ua=ut.a.Option,ba=function(){var e=Ct({attribute:da}),t=Object(_.a)(e,2),n=t[0],a=t[1],r=We(),i=r.mjmlJson,o=r.setMjmlJson,c=St({path:a,visible:n,attribute:da}).getValue,s=Et(),l=Object(_.a)(s,2),d=l[0],u=l[1],b="";return n&&a&&(b=c())&&b.indexOf(",")>-1&&(b=b.split(",")[0]),n?Object(h.jsx)(Sn.a.Item,{label:"Font Family",children:Object(h.jsx)(ut.a,{value:u,onChange:function(e){if(n&&a){var t=R.a.get(i,a);if(t){t.attributes["font-family"]=e;var r=R.a.set(i,a,t);r&&o(Object(I.a)({},r))}}},children:d.map((function(e){return Object(h.jsx)(ua,{value:e,children:e},e)}))})}):null},pa=n(177),ja="vertical-align",fa=function(e){var t=e.activePath,n=Ct({attribute:ja,customPath:t}),a=Object(_.a)(n,2),r=a[0],i=a[1],o=We(),c=o.mjmlJson,s=o.setMjmlJson,l=Ue().active,d=function(e){if(l&&r&&i){var t=R.a.get(c,i);if(t&&t.attributes){t.attributes["vertical-align"]=e;var n=R.a.set(c,i,t);s(Object(I.a)({},n))}}};return r?Object(h.jsxs)(S.a,{children:[Object(h.jsx)(A.a,{flex:"auto",children:Object(h.jsx)(Sn.a.Item,{label:"Vertical Align"})}),Object(h.jsx)(A.a,{children:Object(h.jsxs)(S.a,{justify:"space-between",gutter:[16,0],children:[Object(h.jsx)(pn.a,{title:"Top",children:Object(h.jsx)(p.a,{onClick:function(){return d("top")},type:"ghost",icon:Object(h.jsx)(pa.VerticalAlignTopOutlined,{})})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(pn.a,{placement:"left",title:"Middle :Note: all columns in section must be set to middle, for this to work.",children:Object(h.jsx)(p.a,{onClick:function(){return d("middle")},type:"ghost",icon:Object(h.jsx)(pa.VerticalAlignMiddleOutlined,{})})})}),Object(h.jsx)(A.a,{children:Object(h.jsx)(pn.a,{title:"Bottom",children:Object(h.jsx)(p.a,{onClick:function(){return d("bottom")},type:"ghost",icon:Object(h.jsx)(pa.VerticalAlignBottomOutlined,{})})})})]})})]}):null},ga="background-url",ha="background-size",ma="background-repeat",va=function(){var e=Object(o.useState)(""),t=Object(_.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(""),i=Object(_.a)(r,2),c=i[0],s=i[1],l=Object(o.useState)(""),d=Object(_.a)(l,2),u=d[0],b=d[1],p=We(),j=p.mjmlJson,f=p.setMjmlJson,g=Ct({attribute:ga}),m=Object(_.a)(g,2),v=m[0],x=m[1],O=Ct({attribute:ha}),y=Object(_.a)(O,2),k=y[0],w=y[1],C=Ct({attribute:ma}),N=Object(_.a)(C,2),D=N[0],E=N[1];if(Object(o.useEffect)((function(){if(j){if(v){var e=R.a.get(j,x);e&&a(e.attributes[ga])}if(k){var t=R.a.get(j,w);t&&s(t.attributes[ha])}if(D){var n=R.a.get(j,E);n&&b(n.attributes[ma])}}}),[v,k,D]),!1===v&&!1===k&&!1===D)return null;return Object(h.jsx)(Sn.a.Item,{label:"Background Image:",children:Object(h.jsx)(pt.a.Group,{children:Object(h.jsxs)(S.a,{gutter:[0,4],children:[v?Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(pt.a,{addonBefore:"url",onChange:function(e){if(a(e.target.value),v&&x&&e.target.value){var t=R.a.get(j,x);if(t&&t.attributes){t.attributes[ga]=e.target.value;var n=R.a.set(j,x,t);f(Object(I.a)({},n))}}},value:n})}):null,k?Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(pt.a,{addonBefore:"size",onChange:function(e){if(s(e.target.value),k&&w&&e.target.value){var t=R.a.get(j,x);if(t&&t.attributes){t.attributes[ha]=e.target.value;var n=R.a.set(j,w,t);f(Object(I.a)({},n))}}},value:c,placeholder:"px/percent/'cover'/'contain'"})}):null,D?Object(h.jsx)(A.a,{span:24,children:Object(h.jsx)(pt.a,{addonBefore:"repeat",onChange:function(e){if(b(e.target.value),D&&E&&e.target.value){var t=R.a.get(j,x);if(t&&t.attributes){t.attributes[ma]=e.target.value;var n=R.a.set(j,E,t);f(Object(I.a)({},n))}}},value:u,placeholder:"repeat"})}):null]})})})},xa=aa.a.TabPane,Oa=Object(j.a)(aa.a)(Ee||(Ee=Object(b.a)(["\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n"]))),ya=function(){var e=We().mjmlJson,t=Ue().active,n=Object(o.useState)([]),a=Object(_.a)(n,2),r=a[0],i=a[1];return Object(o.useEffect)((function(){if(t){var n=rt(t);if(n){var a=Object(_.a)(n,2)[1],o=Q(e,a);if(o){var c=Object(_.a)(o,2),s=c[0],l=c[1];if(l=l.slice(1),s&&s.children&&s.children.length>0){for(var d=[],u=0;u<s.children.length;u++)"mj-column"===s.children[u].tagName&&d.push("".concat(l,".children[").concat(u,"]"));R.a.isEqual(r,d)||i(d)}}}}}),[t]),t?Object(h.jsx)(Oa,{centered:!0,defaultActiveKey:"0",style:{height:"100%"},destroyInactiveTabPane:!1,children:r&&r.map((function(t,n){return Object(h.jsx)(xa,{tab:"column ".concat(n+1),children:Object(h.jsx)(E.a,{style:{height:"100%"},autoHide:!0,children:Object(h.jsxs)("div",{className:"mods",onMouseDown:function(t){ye.newAction(e)},onBlur:function(t){ye.newAction(e)},children:[Object(h.jsx)(ea,{activePath:t}),Object(h.jsx)(fa,{activePath:t}),Object(h.jsx)(Zn,{activePath:t}),Object(h.jsx)(Nn,{activePath:t}),Object(h.jsx)(Nn,{label:"Inner Background:",overrideAttribute:"inner-background-color",activePath:t}),Object(h.jsx)(Jn,{activePath:t}),Object(h.jsx)(Tn,{activePath:t}),Object(h.jsx)(Bn,{activePath:t})]})})},n)}))}):null},ka=aa.a.TabPane,wa=Object(j.a)(aa.a)(Te||(Te=Object(b.a)(["\n  .ant-tabs-content {\n    height: 100%;\n  }\n"]))),Ca=function(){var e=We().mjmlJson,t=Ue().active,n=Object(o.useState)(!1),a=Object(_.a)(n,2),r=a[0],i=a[1];return Object(o.useEffect)((function(){t&&t.classList&&t.className.includes("mj-column")&&i(!0),r&&i(!1)}),[t]),Object(h.jsxs)(wa,{defaultActiveKey:"1",centered:!0,style:{height:"100%"},destroyInactiveTabPane:!0,children:[Object(h.jsx)(ka,{tab:"Attributes",children:Object(h.jsx)(D.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(h.jsx)("div",{className:Ge.a.mods,onMouseDown:function(t){ye.newAction(e)},onBlur:function(t){ye.newAction(e)},children:r?Object(h.jsxs)("div",{style:{textAlign:"center"},children:["The selected Item is a Column, to modify properties ",Object(h.jsx)("h2",{children:' check "Column Properties" Tab'})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ea,{}),Object(h.jsx)(na,{}),Object(h.jsx)(An,{}),Object(h.jsx)(fa,{}),Object(h.jsx)(qn,{}),Object(h.jsx)(Hn,{}),Object(h.jsx)(ba,{}),Object(h.jsx)(Zn,{}),Object(h.jsx)(Xn,{}),Object(h.jsx)(_n,{}),Object(h.jsx)(Nn,{}),Object(h.jsx)(va,{}),Object(h.jsx)(Tn,{}),Object(h.jsx)(Tn,{label:"Border Width",attribute_name:"border-width"}),Object(h.jsx)(Tn,{label:"Border Style",attribute_name:"border-style"}),Object(h.jsx)(Nn,{label:"Border Color",overrideAttribute:"border-color"}),Object(h.jsx)(Bn,{}),Object(h.jsx)(Jn,{}),Object(h.jsx)(Qn,{}),Object(h.jsx)(Wn,{})]})})})},"1"),Object(h.jsx)(ka,{tab:"Column Layout",children:Object(h.jsx)(D.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(h.jsx)("div",{className:Ge.a.columns,children:Object(h.jsx)(oa,{})})})},"2"),Object(h.jsx)(ka,{tab:"Column Properties",children:Object(h.jsx)(D.Scrollbars,{style:{height:"100%"},autoHide:!0,children:Object(h.jsx)(ya,{})})},"3")]})},Sa=n(2165),Aa=n(178),Na=n.n(Aa),Da=function(e){var t=e.background,n=e.label;return Object(h.jsxs)("div",{className:Na.a.wrapper,children:[Object(h.jsx)("div",{className:"".concat(Na.a.container," ").concat(Na.a[t])}),Object(h.jsx)("span",{children:n})]})},Ea=["align","background-color","border","border-bottom","border-left","border-radius","border-right","border-top","color","container-background-color","css-class","font-family","font-size","font-style","font-weight","height","href","inner-padding","letter-spacing","line-height","padding","padding-bottom","padding-left","padding-right","padding-top","rel","target","text-align","text-decoration","text-transform","title","vertical-align","width"],Ta={align:"center","background-color":"#414141",border:"none","border-bottom":"","border-left":"","border-radius":"3px","border-right":"","border-top":"",color:"#ffffff","container-background-color":"","css-class":"","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-style":"","font-weight":"normal",height:"",href:"","inner-padding":"10px 25px","letter-spacing":"","line-height":"120%",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",rel:"",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none",title:"","vertical-align":"middle",width:""},Pa={align:"center","background-color":"#414141",border:"none","border-radius":"3px",color:"#ffffff","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-weight":"normal","inner-padding":"10px 25px","line-height":"120%",padding:"10px 25px",target:"_blank","text-align":"none","text-decoration":"none","text-transform":"none","vertical-align":"middle"},Ma=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-button",attributes:Object(I.a)(Object(I.a)({},Pa),{},{"css-class":"mjml-tag identifier-mj-button"}),children:[],content:"button",mutableProperties:Ea,mutalbePropertiesWithDefaultValues:Ta};return Object(h.jsx)("div",{onDragEnd:function(e){var a=ge(t);n(Object(I.a)({},a))},onDragStart:function(e){oe(e,a)},draggable:!0,children:Object(h.jsx)(Da,{background:"button",label:"Button"})})},Ja=["color","font-family","font-size","font-style","font-weight","line-height","letter-spacing","height","text-decoration","text-transform","align","container-background-color","padding","padding-top","padding-bottom","padding-left","padding-right","css-class"],za={color:"#000000","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","font-style":"","font-weight":"","line-height":"1","letter-spacing":"none",height:"","text-decoration":"","text-transform":"",align:"left","container-background-color":"",padding:"10px 25px","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","css-class":""},_a={color:"#000000","font-family":"Ubuntu, Helvetica, Arial, sans-serif","font-size":"13px","line-height":"1","letter-spacing":"none",align:"center",padding:"10px 25px"},Ia=H.map((function(e){return e.name})).join(", "),La=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-text",attributes:Object(I.a)(Object(I.a)({},Object(I.a)(Object(I.a)({},_a),{},{"font-family":"".concat(_a["font-family"],", ").concat(Ia)})),{},{align:"left","padding-left":"0px","padding-right":"0px","css-class":"mjml-tag identifier-mj-text"}),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.",mutableProperties:Ja,mutalbePropertiesWithDefaultValues:za};return Object(h.jsx)("div",{onDragEnd:function(e){var a=ge(t);n(Object(I.a)({},a))},onDragStart:function(e){oe(e,a)},draggable:!0,children:Object(h.jsx)(Da,{background:"text",label:"Text"})})},Ra=n(2178),qa=(n(2095),["align","alt","border","border-top","border-bottom","border-left","border-right","border-radius","container-background-color","css-class","fluid-on-mobile","height","href","name","padding","padding-bottom","padding-left","padding-right","padding-top","rel","sizes","src","srcset","target","title","usemap","width"]),Ba={align:"center",alt:"",border:"none","border-top":"none","border-bottom":"none","border-left":"none","border-right":"none","border-radius":"","container-background-color":"","css-class":"","fluid-on-mobile":"",height:"auto",href:"",name:"",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",rel:"",sizes:"",src:"",srcset:"",target:"_blank",title:"",usemap:"",width:"100%"},Fa={align:"center",border:"none","border-top":"none","border-bottom":"none","border-left":"none","border-right":"none",height:"auto",padding:"10px 25px",target:"_blank",width:"100%"},Ha=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-image",attributes:Object(I.a)(Object(I.a)({},Fa),{},{"css-class":"mjml-tag identifier-mj-image",width:"auto",padding:"0px 8px",src:"https://dev.bluepie.in/dnde.png"}),children:[],mutableProperties:qa,mutalbePropertiesWithDefaultValues:Ba};return Object(h.jsx)("div",{onDragEnd:function(e){var a=ge(t);n(Object(I.a)({},a))},onDragStart:function(e){oe(e,a)},draggable:!0,children:Object(h.jsx)(Da,{background:"image",label:"Image"})})},Ua=["container-background-color","css-class","height","padding","padding-bottom","padding-left","padding-right","padding-top"],Wa={"container-background-color":"","css-class":"",height:"20px",padding:"none","padding-bottom":"","padding-left":"","padding-right":"","padding-top":""},Ya={height:"20px",padding:"none"},Xa=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-spacer",attributes:Object(I.a)(Object(I.a)({},Ya),{},{"css-class":"mjml-tag identifier-mj-spacer"}),children:[],mutableProperties:Ua,mutalbePropertiesWithDefaultValues:Wa};return Object(h.jsx)("div",{onDragEnd:function(e){var a=ge(t);n(Object(I.a)({},a))},onDragStart:function(e){oe(e,a)},draggable:!0,children:Object(h.jsx)(Da,{background:"spacer",label:"Spacer"})})},Va=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-text",attributes:{"css-class":"mjml-tag identifier-mj-html html-block",padding:"0px"},mutableProperties:["font-family"],content:'\n    <table border="1" style="width:100%; border-collapse:collapse">\n    <tr style="font-weight:bold">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align="center">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align="center">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align="center">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align="center">$8</td>\n    </tr>\n    </table>\n    '};return Object(h.jsx)("div",{onDragEnd:function(e){var a=ge(t);n(Object(I.a)({},a))},onDragStart:function(e){oe(e,a)},draggable:!0,children:Object(h.jsx)(Da,{background:"html",label:" Html"})})},Ga=["border-color","border-style","border-width","container-background-color","css-class","padding","padding-bottom","padding-left","padding-right","padding-top","width","align"],Ka={"border-color":"#000000","border-style":"solid","border-width":"4px","container-background-color":"","css-class":"",padding:"10px 25px","padding-bottom":"","padding-left":"","padding-right":"","padding-top":"",width:"100%",align:"center"},Qa={"border-color":"#000000","border-style":"solid","border-width":"4px",padding:"10px 25px",width:"100%",align:"center"},Za=function(){var e=We(),t=e.mjmlJson,n=e.setMjmlJson,a={tagName:"mj-divider",attributes:Object(I.a)(Object(I.a)({},Qa),{},{padding:"0px","css-class":"mjml-tag identifier-mj-divider"}),children:[],mutableProperties:Ga,mutalbePropertiesWithDefaultValues:Ka};return Object(h.jsx)("div",{onDragEnd:function(e){var a=ge(t);n(Object(I.a)({},a))},onDragStart:function(e){oe(e,a)},draggable:!0,children:Object(h.jsx)(Da,{background:"divider",label:"Divider"})})},$a=["align","border-radius","color","css-class","container-background-color","font-family","font-size","font-style","font-weight","icon-height","icon-size","inner-padding","line-height","mode","padding","padding-bottom","padding-left","padding-right","padding-top","icon-padding","text-padding","text-decoration"],er={tagName:"mj-social-element",attributes:{"css-class":"mjml-tag identifier-mj-social-element"},mutableProperties:["align","alt","background-color","border-radius","color","css-class","font-family","font-size","font-style","font-weight","href","icon-height","icon-size","line-height","name","padding","padding-bottom","padding-left","padding-right","padding-top","icon-padding","text-padding","sizes","src","srcset","rel","target","title","text-decoration","vertical-align"]},tr=function(){var e={tagName:"mj-social",attributes:{"css-class":"mjml-tag identifier-mj-social"},children:[Object(I.a)(Object(I.a)({},er),{},{attributes:Object(I.a)(Object(I.a)({},er.attributes),{},{name:"facebook-noshare",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/facebook.png"})}),Object(I.a)(Object(I.a)({},er),{},{attributes:Object(I.a)(Object(I.a)({},er.attributes),{},{name:"twitter-noshare",href:"https://twitter.com/aghontpi",src:"https://dev.bluepie.in/assets/twitter.png"})}),Object(I.a)(Object(I.a)({},er),{},{attributes:Object(I.a)(Object(I.a)({},er.attributes),{},{name:"youtube-noshare",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/youtube.png"})}),Object(I.a)(Object(I.a)({},er),{},{attributes:Object(I.a)(Object(I.a)({},er.attributes),{},{name:"github",href:"https://github.com/aghontpi",src:"https://dev.bluepie.in/assets/github.png"})})],mutableProperties:$a};return Object(h.jsx)("div",{onDragStart:function(t){oe(t,e)},draggable:!0,children:Object(h.jsx)(Da,{background:"social",label:"Social"})})},nr=Sa.a.Panel,ar=function(e){var t=e.title;return Object(h.jsx)("p",{className:Ge.a.title,children:t})},rr=function(){return Object(h.jsx)(E.a,{style:{height:"100%"},autoHide:!0,children:Object(h.jsxs)(Sa.a,{expandIconPosition:"right",bordered:!1,defaultActiveKey:["1","2"],style:{backgroundColor:"rgb(255,255,255)"},expandIcon:function(e){var t=e.isActive;return Object(h.jsx)(Ra.a,{rotate:t?0:180})},children:[Object(h.jsx)(nr,{header:Object(h.jsx)(ar,{title:"Drag & Drop Section"}),children:Object(h.jsx)(ue,{})},"1"),Object(h.jsx)(nr,{header:Object(h.jsx)(ar,{title:"Drag & Drop Content"}),children:Object(h.jsxs)("div",{className:Ge.a.components,children:[Object(h.jsx)(Ma,{}),Object(h.jsx)(La,{}),Object(h.jsx)(Ha,{}),Object(h.jsx)(Xa,{}),Object(h.jsx)(Za,{}),Object(h.jsx)(Va,{}),Object(h.jsx)(tr,{})]})},"2")]})})},ir=n(2157),or=n(2159),cr=(n(2096),n(2166)),sr=(n(2147),Object(j.a)(F.a).attrs({title:"Preview"})(Pe||(Pe=Object(b.a)(["\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n"])))),lr=j.a.div(Me||(Me=Object(b.a)(["\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n"]))),dr=function(e){var t=e.visible,n=e.visibleChange,a=e.inframeContent,r=Object(o.useState)("desktop"),i=Object(_.a)(r,2),c=i[0],s=i[1];return Object(h.jsxs)(sr,{visible:t,onCancel:function(){return n(!1)},onOk:function(){return n(!1)},width:"unset",style:{top:"0px",maxWidth:"unset",paddingBottom:"0px",height:"100%"},bodyStyle:{height:"100%"},maskStyle:{height:"100%"},destroyOnClose:!0,footer:null,children:[Object(h.jsx)(lr,{children:Object(h.jsx)(ur,{onChange:function(e){e.target.value&&s(e.target.value)},value:c})}),a?Object(h.jsx)("iframe",{title:"Preview",style:{margin:"0px auto"},width:"desktop"===c?"800px":"323px",height:"100%",srcDoc:a}):null]})},ur=function(e){var t=e.onChange,n=e.value;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(cr.a.Group,{onChange:t,value:n,options:[{label:"desktop",value:"desktop"},{label:"mobile",value:"mobile"}],buttonStyle:"solid",optionType:"button"})})},br=(n(325),ir.a.Content),pr=(F.a.confirm,function(){var e=We().mjmlJson,t=Object(o.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1];Object(o.useEffect)((function(){ye.reset()}),[]);return Object(h.jsxs)(S.a,{style:{height:"100%",width:"100%"},justify:"center",children:[Object(h.jsx)(A.a,{lg:24,xl:0,children:Object(h.jsx)("div",{style:{textAlign:"center",padding:"40px",paddingTop:"10%"},children:Object(h.jsxs)("h3",{children:["Sorry, You need a device with a larger screen to perform editing, atleast '",">","=1200px'"]})})}),Object(h.jsxs)(A.a,{xs:0,xl:24,children:[Object(h.jsx)(dr,{visible:a,visibleChange:function(e){return r(e)},inframeContent:a?Xe()(e).html:""}),Object(h.jsxs)(ir.a,{style:{height:"100%"},children:[Object(h.jsx)(or.a,{ghost:!1,onBack:function(){return window.history.back()},title:"dnde",subTitle:"",style:{borderBottom:"1px solid #e8e8e8"},extra:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a,{onClick:function(){return r(!0)},children:"Preview"},"3"),Object(h.jsx)(p.a,{onClick:function(t){t.preventDefault();var n=Xe()(e).html;navigator.clipboard.writeText(n),Z("html",n),Wt("Copied to clipboard & logged in devtools ")},children:"Copy as html"},"2"),Object(h.jsx)(p.a,{onClick:function(t){t.preventDefault();var n=JSON.stringify(he(R.a.cloneDeep(e)));navigator.clipboard.writeText(n),Z("json",n),Wt("Copied to Clipboard & logged in devtools ")},children:"Copy as json"},"1")]})]}),Object(h.jsx)(br,{children:Object(h.jsxs)("div",{className:Ge.a.editor,children:[Object(h.jsx)("div",{className:Ge.a.bank,children:Object(h.jsx)(rr,{})}),Object(h.jsx)("div",{className:Ge.a.view,children:Object(h.jsx)(gn,{})}),Object(h.jsx)("div",{className:Ge.a.attributes,children:Object(h.jsx)(Ca,{})})]})})]})]})]})}),jr=function(){return Object(h.jsx)(He,{children:Object(h.jsx)(Ze,{children:Object(h.jsx)(tn,{children:Object(h.jsx)(G,{children:Object(h.jsx)(Y,{children:Object(h.jsx)(qe,{children:Object(h.jsx)(pr,{})})})})})})})},fr=function(){return Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:["","/list"],component:P}),Object(h.jsx)(u.b,{path:"/template/:templateId",component:jr}),Object(h.jsx)(u.b,{path:"*",children:Object(h.jsx)(u.a,{to:"/"})})]})},gr=(n(2148),n(2149),n(2150),n(133)),hr=n(19),mr=Object(hr.d)({name:"templates",initialState:{templates:[{id:24234234,preview:"https://picsum.photos/320/550"},{id:4535345,preview:"https://picsum.photos/320/400"},{id:976824,preview:"https://picsum.photos/320/600"}]},reducers:{}}).reducer,vr=n(54),xr=Object(hr.a)({reducer:(Je={},Object(gr.a)(Je,k.reducerPath,k.reducer),Object(gr.a)(Je,"templateList",mr),Je),middleware:function(e){return e().concat(k.middleware)}}),Or=function(e){var t=e.children;return Object(h.jsx)(vr.a,{store:xr,children:t})};var yr=function(){return Object(h.jsx)(Or,{children:Object(h.jsx)(d.a,{children:Object(h.jsx)("div",{className:"my-app",children:Object(h.jsx)(fr,{})})})})},kr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,2179)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};l.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(yr,{})}),document.getElementById("root")),kr()},338:function(e,t,n){},344:function(e,t,n){},479:function(e,t,n){},480:function(e,t,n){},64:function(e,t,n){e.exports={layout:"Editor_layout__2Y-AK",editor:"Editor_editor__qGS4j",bank:"Editor_bank__3JqEw",attributes:"Editor_attributes__32n0a",components:"Editor_components__38eSg",mods:"Editor_mods__3ZWIb",columns:"Editor_columns__1Yrk0",iconsContainer:"Editor_iconsContainer__KxyJq",view:"Editor_view__eaZst",viewHolder:"Editor_viewHolder__3pzWy",title:"Editor_title__24LyS"}}},[[2151,1,2]]]);
//# sourceMappingURL=main.450a63a3.chunk.js.map