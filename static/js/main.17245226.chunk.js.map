{"version":3,"sources":["Components/UiWrapper.module.scss","Pages/Editor/Preview.module.css","Assets/Images/new_template.svg","Pages/List/Preview.tsx","Api/api.ts","Pages/List/List.tsx","Components/Mods/FontConfig.ts","Context/DragAndDrop.context.tsx","Hooks/Drag.hook.ts","Context/Ckeditor.context.tsx","Hooks/Ckeditor.hook.ts","Utils/findElementInMjmlJson.ts","Utils/logger.ts","Utils/closestParent.ts","Utils/dragStart.ts","Components/Section.tsx","Lib/base64.js","Utils/mjmlProcessor.ts","Utils/undoRedo.ts","Components/Mods/CustomInlineEditor.tsx","Context/Editor.context.tsx","Components/Mods/HeadStyle.ts","Context/Htmlwrapper.context.tsx","Hooks/Htmlwrapper.hook.ts","Hooks/Editor.hook.ts","Context/CustomEditor.context.tsx","Hooks/CustomEditor.hook.ts","Utils/detectEmptyBody.ts","Utils/findElementsParent.ts","Utils/eventElementRelation.ts","Utils/generateDropItemPlaceholder.ts","Utils/typeoftag.ts","Utils/reorderSections.ts","Utils/inlineEditorActions.ts","Components/ColorPicker.tsx","Hooks/Attribute.hook.ts","Hooks/useFonts.ts","Components/Mods/Link.tsx","Components/MoveUpDownRow.tsx","Components/HtmlWrapper.tsx","Utils/setToolbarPositions.ts","Utils/reactPropertyNames.ts","Utils/wrapWithOutline.tsx","Utils/htmlProcessor.tsx","Components/Messages.tsx","Utils/removePlaceholders.ts","Utils/operations.ts","Utils/findTextNode.ts","Context/Quill.context.tsx","Hooks/Quill.hook.ts","Components/Mods/Editor.tsx","Components/UndoRedo.tsx","Pages/Editor/View.tsx","Components/Mods/Align.tsx","Components/Mods/Background.tsx","Components/Mods/Border.tsx","Components/Mods/BorderRadius.tsx","Components/Mods/ContainerBackground.tsx","Components/Mods/Content.tsx","Components/Mods/CordinalBorder.tsx","Components/Mods/FontSize.tsx","Components/Mods/Img.tsx","Components/Mods/InnerPadding.tsx","Components/Mods/Paddings.tsx","Components/Mods/WidthHeight.tsx","Components/ColumnSelector.tsx","Components/Mods/FontFamily.tsx","Components/Mods/VerticalAlign.tsx","Components/Mods/BackgroundImage.tsx","Components/ColumnAttributes.tsx","Pages/Editor/Attributes.tsx","Components/UiWrapper.tsx","Components/Button.tsx","Components/Text.tsx","Components/Image.tsx","Components/Spacer.tsx","Components/Html.tsx","Components/Divider.tsx","Components/Social.tsx","Pages/Editor/ComponentBank.tsx","Utils/sendMail.ts","Pages/Editor/Preview.tsx","Pages/Editor/Editor.tsx","Pages/Editor/index.tsx","Pages/index.ts","Pages/index.route.tsx","Store/list.ts","Store/store.tsx","App.tsx","reportWebVitals.ts","index.tsx","Pages/Editor/Editor.module.scss"],"names":["module","exports","PreviewContainer","styled","div","NewItem","history","useHistory","path","useRouteMatch","className","PlusOutlined","style","fontSize","onClick","push","size","type","src","newTemplate","alt","Preview","image","id","skeleton","height","minWidth","maxWidth","padding","DndeApi","createApi","baseQuery","fetchBaseQuery","baseUrl","process","endpoints","builder","getTemplates","query","getTemplate","useGetTemplatesQuery","useLazyGetTemplateQuery","List","data","isLoading","isSuccess","isError","autoHide","align","justify","span","textAlign","paddingTop","md","lg","target","href","GithubFilled","position","top","gutter","map","item","key","xs","active","response","docRef","preview","FONTS_CONFIG","name","value","def","mutableAttributes","DragAndCropContext","createContext","DNDContext","props","ref","useRef","Provider","genId","current","children","useDragAndDropUniqueId","useContext","getId","CkeditorContext","Ckeditor","editorRef","ckeditorInstance","useState","editorActive","setActive","x","setX","y","setY","delActive","setDelActive","delX","setDelX","delY","setDelY","copyActive","setCopyActive","copyX","setCopyX","copyY","setCopyY","isColumn","setIsColumn","isActive","drag","copy","useCkeditor","findElementInJson","mjmljson","classidentifier","undefined","element","attributes","classNames","includes","i","length","child","res","logger","console","log","error","info","findClosestParent","closest","uniqueClassName","findUniqueIdentifier","classList","classlist","identifier","findUniqueIdentifierFromString","split","generateUniqueIdRecursively","uidGenerator","attr","css_class","uid","updatedClassNames","classNamesArr","regexMatch","trim","match","replace","replaceGeneicTagWithUniqueId","findIndexOfIdentifierInChildren","uniqueIdentifier","dragStart","e","config","dataTransfer","effectAllowed","draggingItem","setDragImage","setData","JSON","stringify","properties","assigned_default_values","columnPlaceholder","tagName","width","content","COLUMN","mutableProperties","Section","cannot_have","onDragStart","count","parseInt","_","set","dynamicRenderer","index","SectionTitle","SectionImage","draggable","Row","Generator","flexGrow","floor","display","borderRight","borderRadius","Base64","_keyStr","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","this","charAt","decode","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","cleanMjmlJson","mjmlJson","ignore","cssClass","isIgnoring","newChildren","result","exportJson","css","newCss","join","replaceContent","importJson","idGenerator","rawContent","regeneratedIdJson","cloneDeep","PageHeaderItems","UNDOREDO","undo","redo","action","isEqual","peekUndo","storeToLocalStorage","itemToApply","pop","undoAction","redoAction","peek","localStorage","setItem","window","UNDOREO","r","EditorContext","font","initialState","LOADING_KEY","EDContext","templateId","useParams","setMjmlJson","trigger","useEffect","actions","getItem","a","modalConfirmLoadLocalState","parsed","parse","processed","newAction","removeItem","restoreFromLocalStorage","then","isRestored","message","loading","duration","processedJson","destroy","setAttributes","okCallback","cancelCallback","Promise","resolve","reject","Modal","confirm","title","icon","ExclamationCircleOutlined","okText","cancelText","onOk","onCancel","HtmlContext","HtmlContextProvider","memo","uiWrapperList","setUIWrapperList","activeHover","setActiveHover","setId","uiList","useHtmlWrapper","useEditor","CustomEditorContext","status","CustomEditorProvider","useCustomEditorPosition","useCustomEditorStatus","detectEmptyElement","nodeWithReactProperties","detect","detectElement","recursivelyFindParent","node","parentClassPartial","parent","parentElement","findSectionOfElement","isEventWithTargetElement","event","pos","getBoundingClientRect","eventX","clientX","eventY","clientY","within","left","right","bottom","generateDropItemPlaceholder","columnElement","currentTarget","nearestTag","nearestElement","suggestionDirection","middle","closeToTopOrBottom","slice","lastIndexOf","parentObj","get","newOrder","childItem","placeItemPlaceHolder","updated","uniqueColumnIdentifier","cleaned","typeoftag","regExMatch","regex","moveSectionUp","directon","parentItem","parentPath","indexOfItem","childSection","nextChild","update_parent","InlineEditorActions","extras","preventDefault","stopPropagation","document","execCommand","ColorPicker","handleChange","mouseDown","color","setColor","ColorPickerContainer","onMouseDown","disableAlpha","onChange","hexCode","hex","decimalToHex","rgb","g","b","handleColorChange","alpha","Math","round","toString","useVisibility","attribute","property","customPath","visible","setVisible","setPath","pathToElement","useValue","getValue","ATTRIBUTE","defaultFonts","fonts","useFonts","setValue","_value","_fonts","Link","setValueInState","userValue","json","addonBefore","onBlur","url","addHttps","restoreSelection","restoreSel","getSelection","temp","removeAllRanges","addRange","InlineEditor","activeElement","fontlist","toolbar","querySelectorAll","forEach","addEventListener","ResetEventBehaviour","removeEventListener","editor","Event","stateChangeCallback","onKeyUp","getRangeAt","add","setAttribute","border","zIndex","backgroundColor","transition","dropdownStyle","defaultValue","Array","from","keys","Option","onFocus","overlayClassName","placement","destroyTooltipOnHide","FontColorsOutlined","BgColorsOutlined","BoldOutlined","ItalicOutlined","UnderlineOutlined","setLinkCallback","LinkItem","link","setLink","linkRef","gap","placeholder","LinkOutlined","closestParent","find","itemJson","updateToSend","html","innerHTML","MoveUpDown","idRef","upActive","setUpActive","downActive","setDownActive","lastItem","flexDirection","rowGap","disabled","VerticalAlignTopOutlined","moveSectionDown","VerticalAlignBottomOutlined","HtmlWrapper","uniqueKey","originalNode","customEditorSetX","customEditorSetY","setCustomEditorStatus","uniqueId","onHover","useMemo","mjmlTarget","delete","numberOfIcons","setToolBars","outline","outlineClick","memoFind","useCallback","tag","ItemName","createElement","background","Element","nodeName","onMouseEnter","onMouseLeave","onDragOver","debounce","nativeEvent","cleanedMjmlJson","columnObj","sectionPath","parentSection","columnChildrenNewOrder","childColumn","genereateDropItemPlaceholderForColumn","dropEffect","mode","dummyElement","cursor","possibleStandardNames","accept","acceptcharset","accesskey","allowfullscreen","as","async","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","autosave","capture","cellpadding","cellspacing","challenge","charset","checked","cite","class","classid","classname","cols","colspan","contenteditable","contextmenu","controls","controlslist","coords","crossorigin","dangerouslysetinnerhtml","datetime","default","defaultchecked","defaultvalue","defer","dir","disablepictureinpicture","disableremoteplayback","download","enctype","enterkeyhint","for","form","formmethod","formaction","formenctype","formnovalidate","formtarget","frameborder","headers","hidden","high","hreflang","htmlfor","httpequiv","innerhtml","inputmode","integrity","is","itemid","itemprop","itemref","itemscope","itemtype","keyparams","keytype","kind","label","lang","list","loop","low","manifest","marginwidth","marginheight","max","maxlength","media","mediagroup","method","min","minlength","multiple","muted","nomodule","nonce","novalidate","open","optimum","pattern","playsinline","poster","preload","profile","radiogroup","readonly","referrerpolicy","rel","required","reversed","role","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","sizes","spellcheck","srcdoc","srclang","srcset","start","step","summary","tabindex","usemap","wmode","wrap","about","accentheight","accumulate","additive","alignmentbaseline","allowreorder","alphabetic","amplitude","arabicform","ascent","attributename","attributetype","autoreverse","azimuth","basefrequency","baselineshift","baseprofile","bbox","begin","bias","by","calcmode","capheight","clip","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","cx","cy","d","datatype","decelerate","descent","diffuseconstant","direction","divisor","dominantbaseline","dur","dx","dy","edgemode","elevation","enablebackground","end","exponent","externalresourcesrequired","fill","fillopacity","fillrule","filter","filterres","filterunits","floodopacity","floodcolor","focusable","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","format","fx","fy","g1","g2","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","hanging","horizadvx","horizoriginx","ideographic","imagerendering","in2","in","inlist","intercept","k1","k2","k3","k4","k","kernelmatrix","kernelunitlength","kerning","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","local","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","mask","maskcontentunits","maskunits","mathematical","numoctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlineposition","overlinethickness","paintorder","panose1","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","points","pointsatx","pointsaty","pointsatz","prefix","preservealpha","preserveaspectratio","primitiveunits","radius","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","resource","restart","results","rotate","rx","ry","scale","security","seed","shaperendering","slope","spacing","specularconstant","specularexponent","speed","spreadmethod","startoffset","stddeviation","stemh","stemv","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","stroke","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokewidth","strokeopacity","suppresscontenteditablewarning","suppresshydrationwarning","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","to","transform","typeof","u1","u2","underlineposition","underlinethickness","unicode","unicodebidi","unicoderange","unitsperem","unselectable","valphabetic","values","vectoreffect","version","vertadvy","vertoriginx","vertoriginy","vhanging","videographic","viewbox","viewtarget","visibility","vmathematical","vocab","widths","wordspacing","writingmode","x1","x2","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlbase","xmllang","xmlns","xmlnsxlink","xmlspace","y1","y2","ychannelselector","z","zoomandpan","WrapWithOutline","domParser","DOMParser","converter","toLowerCase","el","React","httpEquiv","dangerouslySetInnerHTML","__html","reactName","toCamelCase","convertStyleStringToObject","original","childNodes","textContent","replaceAll","contains","nodeType","styleObject","styleArray","stylePair","str","$1","toUpperCase","success","msg","removePlaceholderBanner","Add","droppedConfig","droppedConfigWithUid","ObjectEquivalent","itemToInsert","insertAtPlaceholderIndicatorPosition","isUndoEmpty","Remove","ucn","movement","last","indexToRemove","Copy","parentUniqueIdentifier","next_parent","getIndexOfElementInParent","copyOfConfig","parentUniqueClassIdentifier","splice","AddAtIndex","findTextNode","textNode","closestDivToTextNode","parentNode","QuillContext","QuillEditor","QuillActive","setQuillActive","quillEditor","setQuillEditor","quillX","setQuillX","quillY","setQuillY","useQuillEditor","Editor","useUniqueIdGenerator","on","change","container","firstChild","off","hasAttribute","remove","lquill","Quill","theme","modules","getModule","clone","cloneNode","replaceChild","attach","scroll","domNode","deleteConfirm","CopyOperation","Delete","onConfirm","UndoRedo","undoCallback","redoCallback","mouseEnterDelay","UndoOutlined","isRedoEmpty","RedoOutlined","DesignContainer","View","print","viewHolder","onDrop","getData","MjmlProcessor","mjml","doc","parseFromString","htmlProcessor","mjml2html","Align","flex","Item","Background","activePath","overrideAttribute","Col","Border","attributeName","attribute_name","onKeyDown","BorderRadius","RegExp","exec","matchedValue","ContainerBackground","clicked","PROPERTY","Content","isReadOnly","setIsReadOnly","htmlBlock","setHtmlBlock","TextArea","readOnly","CordinalBorder","valuel","valuer","valueb","valuet","Group","marginBottom","FontSize","Img","InnerPadding","UpdateValue","Padding","setPadding","vertical","horizontal","Width","ATTRIBUTE_HEIGHT","Height","ColumnSelector","setCustomEditorActive","sectionIdentifier","setSectionIdentifier","section","handleClick","changeTo","existingLength","convertLength","preProcessedColumn","updatedItem","click","one","marginTop","two","three","four","Image","Select","FontFamily","fontvalue","VerticalAlign","URL","SIZE","REPEAT","BackgroundImage","setUrl","setSize","repeat","setRepeat","urlVisibility","urlPath","sizeVisibility","sizePath","repeatVisiblity","repeatPath","TabPane","Tabs","CustomTabs","ColumnAttributes","columns","setActiveColumns","uniqueSectionIdentifier","_columns","centered","defaultActiveKey","destroyInactiveTabPane","column","tab","Attributes","mods","UiWrapper","wrapper","properties_with_default_values","Button","mutalbePropertiesWithDefaultValues","onDragEnd","ExtraFontNames","Text","Spacer","Html","Divider","social_properties","social_element_config","Social","Panel","Collapse","Header","ComponentBank","expandIconPosition","bordered","expandIcon","CaretDownOutlined","header","components","require","FullscreenModal","attrs","PreviewMode","visibleChange","inframeContent","setMode","paddingBottom","bodyStyle","maskStyle","destroyOnClose","footer","margin","srcDoc","ModeSelect","options","buttonStyle","optionType","Layout","setPreview","reset","xl","flag","ghost","onBack","back","subTitle","borderBottom","extra","navigator","clipboard","writeText","to_copy","bank","view","wrapContext","Routing","exact","component","templateListReducer","createSlice","templates","reducers","reducer","store","configureStore","reducerPath","middleware","getDefaultMiddleware","concat","StoreProvider","App","Pages","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,QAAU,2BAA2B,UAAY,6BAA6B,OAAS,0BAA0B,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,wBAAwB,OAAS,0BAA0B,QAAU,2BAA2B,OAAS,4B,4CCAnTD,EAAOC,QAAU,CAAC,YAAY,2BAA2B,sBAAsB,uC,sKCDhE,MAA0B,yC,OCanCC,EAAmBC,IAAOC,IAAV,mtCA+DTC,EAAU,WACrB,IAAMC,EAAUC,cACRC,EAASC,cAATD,KAKR,OACE,eAACN,EAAD,WACE,qBAAKQ,UAAU,cAAf,SACE,cAACC,EAAA,EAAD,CAAcC,MAAO,CAAEC,SAAU,YAEnC,qBAAKH,UAAU,yBAAf,SACE,qBAAKA,UAAU,UAAf,SACE,cAAC,IAAD,CAAQI,QAXA,WACdR,EAAQS,KAAR,UAAgBP,EAAhB,mBAUgCQ,KAAK,QAAQC,KAAK,UAAUP,UAAU,aAAhE,8BAKJ,8BACE,qBAAKQ,IAAKC,EAAaC,IAAI,2BAM7BC,EAAU,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,GAAIC,EAA6B,EAA7BA,SACtBlB,EAAUC,cACRC,EAASC,cAATD,KAIR,OACE,eAACN,EAAD,WACGsB,EACC,qBAAKZ,MAAO,CAAEa,OAAQ,QAASC,SAAU,QAASC,SAAU,QAASC,QAAS,aAA9E,SAA8FJ,IAE9F,qBAAKC,OAAO,QAAQP,IAAKI,EAAOF,IAAI,YAEtC,qBAAKV,UAAU,YAAf,SACE,qBAAKA,UAAU,UAAf,SACE,cAAC,IAAD,CAAQI,QAZA,WACdR,EAAQS,KAAR,UAAgBP,EAAhB,qBAAiCe,KAWDP,KAAK,QAAQC,KAAK,UAAUP,UAAU,aAAhE,4B,0BC5FGmB,EAAUC,YAAU,CAC/BC,UAAWC,YAAe,CAAEC,QAASC,2DACrCC,UAAW,SAACC,GAAD,MAAc,CACvBC,aAAcD,EAAQE,MAAkC,CACtDA,MAAO,iCAETC,YAAaH,EAAQE,MAA+C,CAClEA,MAAO,gBAAGf,EAAH,EAAGA,GAAH,0BAAyBA,UAKvBiB,EAAkDX,EAAlDW,qBAAsBC,EAA4BZ,EAA5BY,wB,yDC9B/BC,EAAO,WAAO,IAAD,EAC+BF,IAAxCG,EADS,EACTA,KAAMC,EADG,EACHA,UAAoBC,GADjB,EACQC,QADR,EACiBD,WAElC,OACE,cAAC,IAAD,CAAYE,UAAU,EAAMnC,MAAO,CAAEa,OAAQ,QAA7C,SACE,sBAAKf,UAAU,WAAf,UACE,eAAC,IAAD,CAAKsC,MAAM,SAASC,QAAQ,SAASvC,UAAU,SAA/C,UACE,cAAC,IAAD,CAAKwC,KAAM,GAAX,SACE,cAAC,IAAD,CAAKF,MAAM,SAASC,QAAQ,SAA5B,SACE,cAAC,IAAD,UACE,sBAAMvC,UAAU,QAAhB,wBAIN,cAAC,IAAD,CAAKwC,KAAM,GAAX,SACE,cAAC,IAAD,CAAKF,MAAM,SAASC,QAAQ,SAA5B,SACE,cAAC,IAAD,CAAKrC,MAAO,CAAEuC,UAAW,UAAzB,SACE,uBAAMzC,UAAU,WAAhB,+CACoC,+CAK1C,cAAC,IAAD,CAAKE,MAAO,CAAEwC,WAAY,QAAUF,KAAM,GAA1C,SACE,cAAC,IAAD,CAAKF,MAAM,SAASC,QAAQ,SAA5B,SACE,eAAC,IAAD,CAAKvC,UAAU,OAAO2C,GAAI,GAAIC,GAAI,GAAI1C,MAAO,CAAEuC,UAAW,UAA1D,UACE,sJAIA,uBAEA,mBAAGI,OAAO,SAASC,KAAK,mCAAxB,SACE,uDACqB,cAACC,EAAA,EAAD,CAAc7C,MAAO,CAAE8C,SAAU,WAAYC,IAAK,MAAO9C,SAAU,yBAQlG,eAAC,IAAD,CAAKH,UAAU,kBAAkBsC,MAAM,SAASY,OAAQ,CAAC,EAAG,GAAIX,QAAQ,SAAxE,UACE,cAAC,IAAD,CAAKC,KAAM,GAAX,SACE,sBAAMxC,UAAU,QAAhB,kDAEF,cAAC,IAAD,CAAKwC,KAAM,GAAX,SACE,sBAAMxC,UAAU,WAAhB,0FAIJ,eAAC,IAAD,CAAKuC,QAAQ,SAASvC,UAAU,gBAAgBkD,OAAQ,CAAC,EAAG,IAA5D,UACE,cAAC,IAAD,CAAKN,GAAI,EAAT,SACE,cAAC,EAAD,MAEDV,GACC,CAAC,EAAG,GAAGiB,KAAI,SAACC,EAAMC,GAChB,OACE,cAAC,IAAD,CAAKC,GAAI,GAAIX,GAAI,GAAIC,GAAI,EAAG1C,MAAO,CAAEuC,UAAW,UAAhD,SACE,cAAC,EAAD,CAEE5B,GAAI,YACJC,SACE,qCACE,cAAC,IAAD,CAAUyC,QAAQ,IAClB,cAAC,IAAD,CAAUA,QAAQ,QALjBF,QAYdlB,GAAaF,EACVA,EAAKuB,SAASL,KAAI,SAACC,EAAMC,GACvB,OACE,cAAC,IAAD,CAAKT,GAAI,EAAT,SACE,cAAC,EAAD,CAAmB/B,GAAIuC,EAAKK,OAAQ7C,MAAOwC,EAAKM,SAAlCL,QAIpB,c,sFCvFDM,EAAe,CAC1B,CAAEC,KAAM,SAAUC,MAAO,gEACzB,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,iBAAkBC,MAAO,wEACjC,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,aAAcC,MAAO,oEAC7B,CAAED,KAAM,OAAQC,MAAO,8DACvB,CAAED,KAAM,mBAAoBC,MAAO,0EACnC,CAAED,KAAM,aAAcC,MAAO,oEAC7B,CAAED,KAAM,mBAAoBC,MAAO,0EACnC,CAAED,KAAM,kBAAmBC,MAAO,yEAClC,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,SAAUC,MAAO,gEACzB,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,cAAeC,MAAO,qEAC9B,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,SAAUC,MAAO,gEACzB,CAAED,KAAM,cAAeC,MAAO,qEAC9B,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,eAAgBC,MAAO,sEAC/B,CAAED,KAAM,mBAAoBC,MAAO,0EACnC,CAAED,KAAM,OAAQC,MAAO,8DACvB,CAAED,KAAM,QAASC,MAAO,+DACxB,CAAED,KAAM,qBAAsBC,MAAO,4EACrC,CAAED,KAAM,sBAAuBC,MAAO,6EACtC,CAAED,KAAM,QAASC,MAAO,+DACxB,CAAED,KAAM,cAAeC,MAAO,qEAC9B,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,YAAaC,MAAO,oEC5BxBC,EAAM,CACVC,kBAAmB,GACnBlD,GAAI,GACJN,KAAM,IAGKyD,EAAqBC,wBAAmBH,GAExCI,EAAiB,SAACC,GAC7B,IAAMC,EAAMC,iBAAO,GAQnB,OAAO,cAACL,EAAmBM,SAApB,CAA6BT,MAAO,CAAEU,MAN/B,WACZ,GAAIH,EAAII,SAAkC,kBAAhBJ,EAAII,QAC5B,QAASJ,EAAII,UAIV,SAAgDL,EAAMM,YChBzDC,EAAyB,WAAO,IAC5BH,EAAUI,qBAAWX,GAArBO,MACR,MAAO,CACLK,MAAO,kBAAML,OCJJM,EAAkBZ,wBAAmB,MAErCa,EAAe,SAACX,GAC3B,IAAMY,EAAYV,iBAAO,MACnBW,EAAmBX,iBAAO,MAFK,EAGHY,oBAAS,GAHN,mBAG9BC,EAH8B,KAGhBC,EAHgB,OAInBF,mBAAS,GAJU,mBAI9BG,EAJ8B,KAI3BC,EAJ2B,OAKnBJ,mBAAS,GALU,mBAK9BK,EAL8B,KAK3BC,EAL2B,OAMHN,oBAAS,GANN,mBAM9BO,EAN8B,KAMnBC,EANmB,OAObR,mBAAS,GAPI,mBAO9BS,EAP8B,KAOxBC,EAPwB,OAQbV,mBAAS,GARI,mBAQ9BW,EAR8B,KAQxBC,EARwB,OASDZ,oBAAS,GATR,mBAS9Ba,EAT8B,KASlBC,EATkB,OAUXd,mBAAS,GAVE,mBAU9Be,EAV8B,KAUvBC,EAVuB,OAWXhB,mBAAS,GAXE,mBAW9BiB,EAX8B,KAWvBC,EAXuB,OAYLlB,oBAAS,GAZJ,mBAY9BmB,EAZ8B,KAYpBC,EAZoB,KAerC,OACE,cAACxB,EAAgBP,SAAjB,CACET,MAAO,CACLO,IAAKW,EACLuB,SAAUpB,EACVC,YACAC,IACAE,IACAD,OACAE,OACAG,OACAE,OACAD,UACAE,UACAU,KAAM,CACJH,WACAC,eAEFG,KAAM,CACJV,aACAC,gBACAC,QACAC,WACAC,QACAC,YAEFX,YACAC,eACAT,oBA3BJ,SA8BGb,EAAMM,YC/CAgC,EAAc,WAEzB,OADiB9B,qBAAWE,ICJjB6B,EAAoB,SAApBA,EAAqBC,EAAeC,GAA0C,IAApB9G,EAAmB,uDAAZ,GAC5E,QAAiB+G,IAAbF,EACF,OAAO,KAET,IAAMG,EAAUH,EAChB,GAAIG,EAAQC,YAAcD,EAAQC,WAAW,aAAc,CACzD,IAAMC,EAAqBF,EAAQC,WAAW,aAC9C,GAAIC,EAAWC,SAASL,GACtB,MAAO,CAACE,EAAShH,GAGrB,GAAIgH,EAAQrC,SACV,IAAK,IAAIyC,EAAI,EAAGA,EAAIJ,EAAQrC,SAAS0C,OAAQD,IAAK,CAChD,IAAME,EAAQN,EAAQrC,SAASyC,GACzBG,EAAMX,EAAkBU,EAAOR,EAAiB9G,EAAI,oBAAgBoH,EAAhB,MAC1D,GAAIG,EACF,OAAOA,EAKb,OAAO,MCrBHC,EACC,WAAmB,IAAD,GACrB,EAAAC,SAAQC,IAAR,oBAFEF,EAIG,WAAmB,IAAD,GACvB,EAAAC,SAAQE,MAAR,oBALEH,GAOE,WAAmB,IAAD,GACtB,EAAAC,SAAQG,KAAR,oBCJEC,GAAoB,SAACb,GACzB,IAAMc,EAAUd,EAAQc,QAAQ,aAC5BC,EAAkB,KAEtB,OAAKD,IAKLC,EAAkBC,GAAqBF,EAASA,EAAQG,aAGtDT,GAAY,6BAGPO,IAVLP,GAAY,0BACLO,IAYLC,GAAuB,SAAChB,EAAkBkB,GAE9C,IAFyG,IAAlCC,EAAiC,uDAApB,gBAChFJ,EAAkB,KACbX,EAAI,EAAGc,GAAad,EAAIc,EAAUb,OAAQD,IAAK,CACtD,IAAM1C,EAAUwD,EAAUd,GAC1B,GAAI1C,EAAQyC,SAASgB,GAAa,CAChCJ,EAAkBrD,EAClB,OAGJ,OAAOqD,GAGHK,GAAiC,SAACH,GACtC,OAAOD,GAAqB,KAA4BC,EAAUI,MAAM,OAiCpEC,GAA8B,SAA9BA,EAA+BhF,EAAWiF,GAC9C,GAAKjF,EAAL,CAIA,IAAK,IAAI8D,EAAI,EAAG9D,EAAI,UAAgB8D,EAAI9D,EAAI,SAAa+D,OAAQD,IAC/D9D,EAAI,SAAa8D,GAAKkB,EAA4BhF,EAAI,SAAa8D,GAAImB,GAGzE,IAAIC,EAAOlF,EAAI,WACf,GAAIkF,EAAM,CACR,IAAIC,EAAYD,EAAK,aACrBC,EA1CiC,SAACvB,EAAoBwB,GACxD,IAAIC,EAAoB,GACxB,GAA0B,kBAAfzB,EAET,OADAM,EAAA,0FAA8FN,EAA9F,aACO,KAGT,IADA,IAAI0B,EAAgB1B,EAAWmB,MAAM,KAC5BjB,EAAI,EAAGA,EAAIwB,EAAcvB,OAAQD,IAAK,CAC7C,IAAI1C,EAAUkE,EAAcxB,GAC5B,GAAI1C,EAAQyC,SAAS,iBAAkB,CAKrC,IAAM0B,GAJNnE,EAAUA,EAAQoE,QAISC,MAAM,UAC3BrB,EAAMhD,EAEVA,EADEmE,EACQnE,EAAQsE,QAAQH,EAAW,GAA3B,WAAmCH,IAEtC,WAAOhE,EAAP,YAAkBgE,GAE3BlB,EAAA,0BAA8BE,EAA9B,eAAwChD,EAAxC,MAEFiE,GAAiB,WAAQjE,GAE3B,OAAOiE,EAiBOM,CAA6BR,EAAWF,KACpDC,EAAK,aAAeC,EAKtB,OAFAnF,EAAI,WAAiBkF,EAEdlF,IAGH4F,GAAkC,SAACvE,EAAiBwE,GACxD,IAAK,IAAI/B,EAAI,EAAG+B,GAAoBxE,GAAYA,EAAS0C,OAAS,GAAKD,EAAIzC,EAAS0C,OAAQD,IAAK,CAC/F,IAAME,EAAQ3C,EAASyC,GACvB,GAAIE,GAASA,EAAK,YAAkBA,EAAK,WAAe,aAAaH,SAASgC,GAC5E,OAAO/B,EAGX,OAAQ,GChGJgC,GAAY,SAACC,EAAcC,GAC/B,GAAID,GAAKA,EAAEE,aAAc,CACvBF,EAAEE,aAAaC,cAAgB,OAC/B,IAAMC,EAAeJ,EAAEtG,OACvBsG,EAAEE,aAAaG,aAAaD,GAAe,GAAI,GAC/CJ,EAAEE,aAAaI,QAAQ,SAAUC,KAAKC,UAAUP,MCM9CQ,GAAa,CAAC,mBAAoB,sBAAuB,wBAAyB,wBAAyB,oBAAqB,kBAAmB,iBAAkB,SAAU,gBAAiB,cAAe,gBAAiB,eAAgB,aAAc,YAAa,YAAa,aAAc,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,cAMnXC,GAA2B,CAAC,MAAS,SAAU,mBAAoB,UAAW,OAAU,OAAQ,gBAAiB,MAAO,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,cAAe,SAAU,gBAAiB,YAAa,cAAe,OAAQ,QAAW,YAAa,OAAU,SAAU,aAAc,OAAQ,kBAAmB,OAAQ,iBAAkB,OAAQ,iBAAkB,UAWxaC,GAAoB,CAC/B,CACEC,QAAS,WACThD,WAAY,CACVvG,IAAK,mDACL,YAAa,iBACbwJ,MAAO,UAGX,CACED,QAAS,UACThD,WAAY,CACV,cAAe,MACf,YAAa,OACbzE,MAAO,SACP,YAAa,kBAEf2H,QAAS,wCAIAC,GAAS,CACpBH,QAAS,YACThD,WAAY,CACV,YAAa,gCACb7F,QAAS,WAEXuD,SAAS,GAAD,OAAMqF,IACdK,kBApCwB,CAAC,mBAAoB,yBAA0B,SAAU,gBAAiB,cAAe,eAAgB,aAAc,gBAAiB,eAAgB,sBAAuB,oBAAqB,qBAAsB,mBAAoB,sBAAuB,QAAS,iBAAkB,UAAW,cAAe,iBAAkB,eAAgB,gBAAiB,cAuC1XC,GAAU,WACrB,IAAIhB,EAAS,CACXW,QAAS,aACThD,WAAW,2BACN8C,IADK,IAER,YAAa,iCACb,gBAAiB,MACjB,mBAAoB,OACpB,aAAc,WAEhBpF,SAAU,GACV4F,YAAa,CAAC,aAAc,aAC5BF,kBAAmBP,IAIXvD,EACNI,IADFF,KAAQF,YAGJiE,EAAc,SAACnB,GACnB,IAAMtG,EAASsG,EAAEtG,OACXoF,EAAaH,GAAqBjF,EAAQA,EAAOkF,UAAW,cAClE,GAAIE,EAAY,CACd,IAAMY,EAAQZ,EAAWY,MAAM,mBAC/B,GAAIA,EAAO,CAGT,IAFA,IAAI0B,EAAQC,SAAS3B,EAAM,IACvBpE,EAAW,GACR8F,EAAQ,GACb9F,EAASpE,KAAK6J,IACdK,IAEFnB,EAASqB,IAAEC,IAAItB,EAAQ,WAAY3E,IAGvCyE,GAAUC,EAAUC,GACpB/C,GAAY,IAGVsE,EAAkB,CAAC,EAAG,EAAG,EAAG,GAAGxH,KAAI,SAACU,EAAO+G,GAC7C,OACE,eAAC,WAAD,WACE,cAACC,GAAD,UACE,8BAAIhH,EAAJ,cADiBA,EAAQ+G,EAAQ,SAGnC,cAACE,GAAD,CAEE9K,UAAS,qBAAgB6D,GACzBkH,WAAW,EACXT,YAAaA,EAJf,SAME,qBAAKtK,UAAS,UAAd,SACE,qBAAKA,UAAU,SAAf,SACE,cAAC,GAAD,CAAWmH,OAAQtD,SAPlBA,EAAQ+G,EAAQ,aALV/G,MAmBnB,OAAO,mCAAG8G,KAGNE,GAAepL,YAAOuL,IAAPvL,CAAH,2NAYZqL,GAAerL,YAAOuL,IAAPvL,CAAH,8yBAqCZwL,GAAY,SAAC,GAIjB,IAJqD,IAAlC9D,EAAiC,EAAjCA,OACf8C,EAAU,GACRiB,EAAWC,gBAAM,IAAMhE,GAEpBD,EAAI,EAAGA,EAAIC,EAAQD,IAC1B+C,EAAQ5J,KACN,qBAEEH,MAAO,CACLkL,QAAS,OACTF,WACAnK,OAAQ,OACRsK,YAAanE,IAAMC,EAAS,EAAI,GAAK,4BACrCmE,aAAc,QANXpE,EAAIgE,IAWf,OAAO,mCAAGjB,KCpLCsB,GAAS,CAEpBC,QAAS,oEAGTC,OAAQ,SAAUC,GAChB,IACIC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EADpCC,EAAS,GAEThF,EAAI,EAIR,IAFAwE,EAAQH,GAAOY,aAAaT,GAErBxE,EAAIwE,EAAMvE,QAKf2E,GAJAH,EAAOD,EAAMU,WAAWlF,OAIT,EACf6E,GAAgB,EAAPJ,IAAa,GAJtBC,EAAOF,EAAMU,WAAWlF,OAIY,EACpC8E,GAAgB,GAAPJ,IAAc,GAJvBC,EAAOH,EAAMU,WAAWlF,OAIa,EACrC+E,EAAc,GAAPJ,EAEHQ,MAAMT,GACRI,EAAOC,EAAO,GACLI,MAAMR,KACfI,EAAO,IAGTC,EACEA,EACAI,KAAKd,QAAQe,OAAOT,GACpBQ,KAAKd,QAAQe,OAAOR,GACpBO,KAAKd,QAAQe,OAAOP,GACpBM,KAAKd,QAAQe,OAAON,GAGxB,OAAOC,GAITM,OAAQ,SAAUd,GAChB,IACIC,EAAMC,EAAMC,EACNE,EAAMC,EAAMC,EAFlBC,EAAS,GAGThF,EAAI,EAGR,IADAwE,EAAQA,EAAM5C,QAAQ,sBAAuB,IACtC5B,EAAIwE,EAAMvE,QAMfwE,EALOW,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOrF,OAKzB,GAJhB6E,EAAOO,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOrF,QAIX,EAC9B0E,GAAgB,GAAPG,IAAc,GAJvBC,EAAOM,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOrF,QAIJ,EACrC2E,GAAgB,EAAPG,IAAa,GAJtBC,EAAOK,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOrF,OAMzCgF,GAAkBQ,OAAOC,aAAahB,GAE1B,IAARK,IACFE,GAAkBQ,OAAOC,aAAaf,IAG5B,IAARK,IACFC,GAAkBQ,OAAOC,aAAad,IAM1C,OAFAK,EAASX,GAAOqB,aAAaV,IAM/BC,aAAc,SAAUU,GACtB,IAAIC,EAAU,GACdD,EAASA,EAAO/D,QAAQ,QAAS,MAEjC,IAAK,IAAIiE,EAAI,EAAGA,EAAIF,EAAO1F,OAAQ4F,IAAK,CACtC,IAAIC,EAAIH,EAAOT,WAAWW,GAEtBC,EAAI,IACNF,GAAWJ,OAAOC,aAAaK,GACtBA,EAAI,KAAOA,EAAI,MACxBF,GAAWJ,OAAOC,aAAcK,GAAK,EAAK,KAC1CF,GAAWJ,OAAOC,aAAkB,GAAJK,EAAU,OAE1CF,GAAWJ,OAAOC,aAAcK,GAAK,GAAM,KAC3CF,GAAWJ,OAAOC,aAAeK,GAAK,EAAK,GAAM,KACjDF,GAAWJ,OAAOC,aAAkB,GAAJK,EAAU,MAI9C,OAAOF,GAITF,aAAc,SAAUE,GACtB,IAEIE,EAAOC,EAAIC,EAFXL,EAAS,GACT3F,EAAI,EAIR,IAFA8F,EAASC,EAAK,EAEP/F,EAAI4F,EAAQ3F,SACjB6F,EAAIF,EAAQV,WAAWlF,IAEf,KACN2F,GAAUH,OAAOC,aAAaK,GAC9B9F,KACS8F,EAAI,KAAOA,EAAI,KACxBC,EAAKH,EAAQV,WAAWlF,EAAI,GAC5B2F,GAAUH,OAAOC,cAAmB,GAAJK,IAAW,EAAW,GAALC,GACjD/F,GAAK,IAEL+F,EAAKH,EAAQV,WAAWlF,EAAI,GAC5BgG,EAAKJ,EAAQV,WAAWlF,EAAI,GAC5B2F,GAAUH,OAAOC,cAAmB,GAAJK,IAAW,IAAa,GAALC,IAAY,EAAW,GAALC,GACrEhG,GAAK,GAIT,OAAO2F,IC3HLM,GAAgB,SAAhBA,EAAiBC,GAAwC,IAAzBC,EAAwB,uDAAP,GACrD,IAAKD,EACH,OAAO,KAGT,GAAIA,EAAQ,YAAkBA,EAAQ,WAAe,aAAc,CACjE,IAAME,EAAWF,EAAQ,WAAe,aACxC,GAAIE,EAASrG,SAAS,yBACpB,OAAO,KAaX,IAPA,IAAMsG,EACJF,GACAD,EAAQ,YACRA,EAAQ,WAAe,cACvBA,EAAQ,WAAe,aAAanG,SAASoG,GAE3CG,EAAmB,GACdtG,EAAI,EAAGkG,EAAQ,UAAgBlG,EAAIkG,EAAQ,SAAajG,OAAQD,IAAK,CAC5E,IAAM9D,EAAOgK,EAAQ,SAAalG,GAE5BuG,EAASF,EAAanK,EAAO+J,EAAc/J,EAAMiK,GACnDI,GACFD,EAAYnN,KAAKoN,GAcrB,OARIL,GAAoC,cAAxBA,EAAQ,SAAsD,IAAvBI,EAAYrG,QACjEqG,EAAYnN,KAAZ,MAAAmN,EAAW,YAAS1D,KAGlB0D,EAAYrG,SACdiG,EAAQ,SAAeI,GAGlBJ,GAGHM,GAAa,SAAbA,EAAchC,GAClB,GAAKA,EAAL,CAMA,GAAIA,EAAK,YAAkBA,EAAK,WAAe,aAAc,CAC3D,IAAIiC,EAAMjC,EAAK,WAAe,aAC9BiC,EAAMA,EAAIxF,MAAM,KAEhB,IADA,IAAIyF,EAAS,GACJ1G,EAAI,EAAGA,EAAIyG,EAAIxG,OAAQD,IAAK,CACnC,IAAM1C,EAAkBmJ,EAAIzG,GAE1B1C,EAAQyC,SAAS,kBACjBzC,EAAQyC,SAAS,mBACjBzC,EAAQyC,SAAS,0BAInB2G,EAAOvN,KAAKmE,GAEVoJ,EAAOzG,SACTwG,EAAMC,EAAOC,KAAK,MAIlBnC,EAAK,UAEPA,EAAK,QAAcH,GAAOE,OAAOC,EAAK,UAIxC,IADA,IAAIjH,EAAgB,GACXyC,EAAI,EAAGwE,EAAK,UAAgBxE,EAAIwE,EAAK,SAAavE,OAAQD,IAAK,CACtE,IAAME,EAAQsE,EAAK,SAAaxE,GAC1BuD,EAAIiD,EAAWtG,GACjBqD,GACFhG,EAASpE,KAAKoK,GAQlB,OAJIhG,EAAS0C,SACXuE,EAAK,SAAejH,GAGfiH,IAGT,SAASoC,GAAepC,GACtB,GAAKA,EAAL,CAIIA,EAAK,UACPA,EAAK,QAAcH,GAAOiB,OAAOd,EAAK,UAIxC,IADA,IAAIjH,EAAgB,GACXyC,EAAI,EAAGwE,EAAK,UAAgBxE,EAAIwE,EAAK,SAAavE,OAAQD,IAAK,CACtE,IACMuD,EAAIqD,GADIpC,EAAK,SAAaxE,IAE5BuD,GACFhG,EAASpE,KAAKoK,GAQlB,OAJIhG,EAAS0C,SACXuE,EAAK,SAAejH,GAGfiH,GAGT,IAAMqC,GAAa,SAACrC,EAAYsC,GAA4D,IAAjCC,EAAgC,wDACrFC,EAAoB9F,GAA4BsD,EAAOsC,GAc3D,OATEE,GACAA,EAAkBnE,SACY,SAA9BmE,EAAkBnE,SAClBmE,EAAkBzJ,UAClByJ,EAAkBzJ,SAAS0C,OAAS,IAEpC+G,EAAkBzJ,SAAS,GAAGA,SAAWgG,IAAE0D,UAAUC,KAGhDH,EAAaC,EAAoBJ,GAAeI,I,oBCpCrDG,GAAW,I,WA9Fb,aAAe,0BAHRC,UAGO,OAFdC,UAEc,EACZjC,KAAKgC,KAAO,GACZhC,KAAKiC,KAAO,G,8CAGd,SAAiBC,GACXlC,KAAKgC,KAAKnH,OAAS,GAAKsD,IAAEgE,QAAQD,EAAQlC,KAAKoC,YACjDpH,EAAW,yEAGbgF,KAAKgC,KAAKjO,KAAKiM,KAAK9F,KAAKgI,IACzBlC,KAAKqC,sBACLrC,KAAKiC,KAAO,M,wBAGd,WAA8C,IAA5B/J,EAA2B,wDAC3C,GAAI8H,KAAKgC,KAAKnH,OAAS,EACrB,OAAO,EAGT,IAAMyH,EAActC,KAAK9F,KAAK8F,KAAKgC,KAAKO,OAGxC,OAFAvC,KAAKiC,KAAKlO,KAAKuO,GAEXpK,GAAWiG,IAAEgE,QAAQG,EAAapK,IACpC8C,EAAW,iFACJgF,KAAKwC,WAAWtK,IAGlBoK,I,wBAGT,WAA8C,IAA5BpK,EAA2B,wDAC3C,GAAI8H,KAAKiC,KAAKpH,OAAS,EACrB,OAAO,EAGT,IAAMyH,EAActC,KAAK9F,KAAK8F,KAAKiC,KAAKM,OAExC,OADAvC,KAAKgC,KAAKjO,KAAKuO,GACXpK,GAAWiG,IAAEgE,QAAQG,EAAapK,IACpC8C,EAAW,iFACJgF,KAAKyC,WAAWvK,IAElBoK,I,sBAGT,WACE,IAAII,GAAsB,EAI1B,OAHI1C,KAAKgC,KAAKnH,OAAS,IACrB6H,EAAO1C,KAAK9F,KAAK8F,KAAKgC,KAAKhC,KAAKgC,KAAKnH,OAAS,KAEzC6H,I,sBAGT,WACE,IAAIA,GAAsB,EAI1B,OAHI1C,KAAKiC,KAAKpH,OAAS,IACrB6H,EAAO1C,KAAKiC,KAAKjC,KAAKiC,KAAKpH,OAAS,IAE/B6H,I,yBAGT,WACE,OAA4B,IAArB1C,KAAKgC,KAAKnH,S,yBAGnB,WACE,OAA4B,IAArBmF,KAAKiC,KAAKpH,S,mBAGnB,WACEmF,KAAKgC,KAAO,GACZhC,KAAKiC,KAAO,K,mBAGd,WACEjH,EAAW,aAAcgF,KAAKgC,KAAMhC,KAAKiC,Q,iCAG3C,WACE,IACEU,aAAaC,QAAQ,UAAWxF,KAAKC,UAAU2C,KAAKgC,OACpD,MAAOnF,GACP7B,EAAW,4CACXA,EAAW,8FACXgF,KAAKgC,KAAO,CAAChC,KAAKgC,KAAKhC,KAAKgC,KAAKnH,OAAS,IAC1C8H,aAAaC,QAAQ,UAAWxF,KAAKC,UAAU2C,KAAKgC,U,kBAIxD,SAAalL,GACX,OAAOqH,IAAE0D,UAAU/K,O,MAMtB+L,OAAeC,QAAUf,G,OCjFtBgB,G,wCCTSC,GAAgBrL,wBAAmB,MAEnCmK,GAAe,CAC1B,CAAErE,QAAS,WAAYhD,WAAY,GAAItC,SAAU,IACjD,CAAEsF,QAAS,WAAYE,QCjBA,oDDeG,mBAGvBtG,EAAaR,KAAI,SAACoM,GACnB,MAAO,CACLxF,QAAS,UACThD,WAAY,CACVnD,KAAM2L,EAAK3L,KACXd,KAAMyM,EAAK1L,aAMb2L,GAAe,CACnBzF,QAAS,OACTtF,SAAU,CACR,CACEsF,QAAS,UACThD,WAAY,GACZtC,SAAU2J,IAEZ,CACErE,QAAS,UACThD,WAAY,CAAE,YAAa,8BAA+B,mBAAoB,OAAQiD,MAAO,SAC7FvF,SAAU,KAGdsC,WAAY,IAGR0I,GAAc,UAEPC,GAAgB,SAACvL,GAAW,IAC/BwL,EAAmDC,cAAnDD,WACA/K,EAAUF,IAAVE,MAF8B,EAGNK,mBAAc,MAHR,mBAG/BmI,EAH+B,KAGrByC,EAHqB,OAIqB9N,IAJrB,mBAI/B+N,EAJ+B,YAIpB7N,EAJoB,EAIpBA,KAAMG,EAJc,EAIdA,QAASF,EAJK,EAILA,UAAWC,EAJN,EAIMA,UAE5C4N,qBAAU,WAER,IAAMC,EAAUf,aAAagB,QAAQ,WAFvB,4CAId,4BAAAC,EAAA,yDACMzC,GAAS,GACTuC,EAFN,gCAGmBG,IACb,WACE,IAAMC,EAAS1G,KAAK2G,MAAML,GACpBM,EAAYvC,GAAWqC,EAAOA,EAAOjJ,OAAS,GAAIvC,GAAO,GAC/DyJ,GAASkC,UAAU9F,IAAE0D,UAAUmC,IAC/BT,EAAYS,MAEd,WACET,EAAYpF,IAAE0D,UAAUqB,KACxBnB,GAASkC,UAAU9F,IAAE0D,UAAUqB,KAC/BP,aAAauB,WAAW,cAbhC,OAGI/C,EAHJ,uCAiBSA,GAjBT,4CAJc,kEAwBdgD,GAA0BC,MAAK,SAACC,GAC1BA,IAGiB,QAAfhB,GAA8C,qBAAfA,GACjCtB,GAASkC,UAAU9F,IAAE0D,UAAUqB,KAC/BK,EAAYpF,IAAE0D,UAAUqB,MAEpBG,IACFiB,IAAQC,QAAQ,CAAE5G,QAAS,uBAAwB5G,IAAKoM,GAAaqB,SAAU,IAC/EhB,EAAQ,CAAEjP,GAAI8O,WAKrB,IAEHI,qBAAU,WACR,GAAI5N,GAAaF,EACf,IACE,IAAM8O,EAAgBhD,GAAWrE,KAAK2G,MAAMpO,EAAKuB,SAASvB,MAAO2C,GACjEiL,EAAYkB,GACZ1C,GAASkC,UAAU9F,IAAE0D,UAAU4C,IAC/B,MAAO5H,GACPyH,IAAQnJ,MAAM,0BAA2B,QAElCtF,IAAcF,GACvB2O,IAAQnJ,MAAM,oBAAqB,GAEjCtF,GACFyO,IAAQI,QAAQvB,IAEdrN,GACFwO,IAAQlJ,KAAK,uCAAwC,KAEtD,CAACtF,EAASF,EAAWC,EAAWF,IAjEG,MAmEFgD,mBAAc,IAnEZ,mBAmE/B8B,EAnE+B,KAmEnBkK,EAnEmB,KAqEtC,OACE,cAAC3B,GAAchL,SAAf,CACET,MAAO,CACLuJ,SAAUA,EACVyC,cACA9I,aACAkK,iBALJ,SAQG9M,EAAMM,YAKP0L,GAA0B,uCAAG,WAAOe,EAAwBC,GAA/B,SAAAjB,EAAA,+EAC1B,IAAIkB,SAAiB,SAACC,EAASC,GACpCC,IAAMC,QAAQ,CACZC,MAAO,UACPC,KAAM,cAACC,GAAA,EAAD,IACN1H,QAAS,2CACT2H,OAAQ,UACRC,WAAY,SACZC,KAAM,WACJZ,IACAG,GAAQ,IAEVU,SAAU,WACRZ,IACAE,GAAQ,UAdmB,2CAAH,wDEhInBW,GAAc/N,wBAAmB,MAEjCgO,GAA0BC,gBAAK,SAAC/N,GAAW,IAAD,EACXc,mBAAS,IADE,mBAC9CkN,EAD8C,KAC/BC,EAD+B,OAGfnN,qBAHe,mBAG9CoN,EAH8C,KAGjCC,EAHiC,OAKzBrN,qBALyB,mBAK9C1B,EAL8C,KAKtC4B,EALsC,KAO/Cf,EAAMC,iBAAY,GAP6B,EASjCY,mBAAc,GATmB,mBAS9CpE,EAT8C,KAS1C0R,EAT0C,KAkBrD,OACE,eAACP,GAAY1N,SAAb,CACET,MAAO,CACL2O,OAAQL,EACRC,mBACAC,cACAC,iBACA/O,SACA4B,YACAtE,KACA0R,QACA3N,MAlBQ,WACZ2N,EAAM1R,EAAK,GACXyG,EAAW,QAASzG,KAMpB,UAaE,8BAAM,qCAAGyG,EAAW,uBAAwBlD,EAAII,WAA1C,SACLL,EAAMM,eCnCAgO,GAAiB,WAE5B,OADoB9N,qBAAWqN,KCIpBU,GAAY,WAEvB,OADgB/N,qBAAW2K,K,mDCLhBqD,GAAsB1O,wBAGhC,CAAEjB,SAAU,CAAEoC,EAAG,EAAGE,EAAG,EAAGD,KAAM,aAAUE,KAAM,cAAYqN,OAAQ,CAAErP,QAAQ,EAAO4B,UAAW,gBAEtF0N,GAA2B,SAAC1O,GAAW,IAAD,EAC/Bc,mBAAS,GADsB,mBAC1CG,EAD0C,KACvCC,EADuC,OAE/BJ,mBAAS,GAFsB,mBAE1CK,EAF0C,KAEvCC,EAFuC,OAGrBN,oBAAS,GAHY,mBAG1C1B,EAH0C,KAGlC4B,EAHkC,KAIjD,OACE,cAACwN,GAAoBrO,SAArB,CAA8BT,MAAO,CAAEb,SAAU,CAAEoC,IAAGE,IAAGD,OAAME,QAAQqN,OAAQ,CAAErP,SAAQ4B,cAAzF,SACGhB,EAAMM,YCZPqO,GAA0B,WAE9B,OADqBnO,qBAAWgO,IAAxB3P,UAIJ+P,GAAwB,WAE5B,OADmBpO,qBAAWgO,IAAtBC,QCTJI,GAAqB,SAACC,EAA8BC,GACxD,OACEC,GAAcF,EAAyBC,IACvCD,EAAwBxO,UACxBwO,EAAwBxO,SAAW,GAIjC0O,GAAgB,SAACF,EAA8BC,GACnD,IAAKA,EACH,OAAO,EACF,GAAe,SAAXA,EACTA,EAAS,0BACJ,GAAe,YAAXA,EACTA,EAAS,4BACJ,IAAe,WAAXA,EAGT,OAAO,EAFPA,EAAS,uBAKX,OACED,EAAwB9O,OACxB8O,EAAwB9O,MAAxB,WACsD,kBAA/C8O,EAAwB9O,MAAxB,WACP8O,EAAwB9O,MAAxB,UAA2C8C,SAASiM,ICvBlDE,GAAwB,SAAxBA,EAAyBC,EAAyBC,GACtD,IAAKD,EACH,OAAO,KAET,IAAIE,EAASF,EAAKzL,QAAQ,aAC1B,GAAI2L,GAAUA,EAAOxL,UAAW,CAC9B,IAAMkB,EAAmBnB,GAAqByL,EAAQA,EAAOxL,WAC7D,GAAIkB,GAAoBA,EAAiBhC,SAASqM,GAChD,MAAO,CAACC,EAAQtK,GAElBsK,EAASA,EAAOC,cAGlB,OAAOJ,EAAsBG,EAAQD,IAOjCG,GAAuB,SAACJ,GAC5B,OAAOD,GAAsBC,EAAM,eCrB/BK,GAA2B,SAACC,EAAY9Q,GAC5C,IAAM+Q,EAAM/Q,EAAOgR,wBACbC,EAASH,EAAMI,QACfC,EAASL,EAAMM,QAEjBC,EAASN,GAAOE,GAAUE,IAAU,EAUxC,OARIF,EAASF,EAAIO,MAAQL,EAASF,EAAIQ,SACpCF,GAAS,IAGPF,EAASJ,EAAI3Q,KAAO+Q,EAASJ,EAAIS,UACnCH,GAAS,GAGJA,GCDHI,GAA8B,SAAC,GAOI,IANvClH,EAMsC,EANtCA,SACAyC,EAKsC,EALtCA,YACA0E,EAIsC,EAJtCA,cACOpL,EAG+B,EAHtCwK,MACAa,EAEsC,EAFtCA,cACAC,EACsC,EADtCA,WAEA,GAAIF,GAAiBE,EAAY,CAC/B,IAAMC,EAAiBF,EAAc5M,QAAd,WAA0B6M,IACjD,GAAIC,GAAkBH,GAChBb,GAAyBvK,EAAGoL,GAAgB,CAC9C,IAAMI,EDRa,SAAChB,EAAY9Q,GACtC,IAAM+Q,EAAM/Q,EAAOgR,wBACbG,EAASL,EAAMM,QAErB,GAAIP,GAAyBC,EAAO9Q,GAAS,CAC3C,IAAM+R,EAASzJ,iBAAOyI,EAAIS,OAAST,EAAI3Q,KAAO,GAAK2Q,EAAI3Q,IACvD,GAAI+Q,EAASY,EACX,MAAO,MACF,GAAIZ,EAASY,EAClB,MAAO,SAIX,OAAO,ECL2BC,CAAmB1L,EAAGuL,GAClD,GAAIC,EAAqB,CACvB,IAAIvR,EAAOsD,EAAkB+D,IAAE0D,UAAUf,GAAWqH,GACpD,GAAIrR,EAAM,CAMR,IANS,IACAtD,EADD,YACwBsD,EADxB,MAGFmQ,EAASzT,EAAKgV,MAAM,EAAGhV,EAAKiV,YAAY,cAC1CC,EAAYvK,IAAEwK,IAAIxK,IAAE0D,UAAUf,GAAWmG,GACzC2B,EAAW,GACNhO,EAAI,EAAG8N,GAAaA,EAAUvQ,UAAYyC,EAAI8N,EAAUvQ,SAAS0C,OAAQD,IAAK,CACrF,IAAIiO,EAAYH,EAAS,SAAa9N,GACtCI,EAAW6N,GACX,IAAM7H,EAAW6H,EAAUpO,YAAcoO,EAAS,WAAe,aAE7D7H,GAAYA,EAASrG,SAAS,2BAG9BqG,GAAYA,EAASrG,SAASwN,GACJ,QAAxBE,EACFO,EAAS7U,KAAK+U,GAAsBD,GACH,WAAxBR,GACTO,EAAS7U,KAAK8U,EAAWC,IAI7BF,EAAS7U,KAAK8U,IAGhB,GAAIH,GAAaE,EAAS/N,OAAS,EAAG,CAEpC6N,EAAUvQ,SAAWyQ,EACrB,IAAMG,EAAU5K,IAAEC,IAAID,IAAE0D,UAAUf,GAAWmG,EAAQyB,GAC/CM,EAAyBxN,GAC7ByM,EACAA,EAAcxM,UACd,wBAEF,GAAIuN,EAAwB,CAC1B,IAAMC,EAAUpI,GAAckI,EAASC,GAClC7K,IAAEgE,QAAQrB,EAAUmI,GAIvBjO,EAAW,qEAHXA,EAAW,aAAc8F,EAAUmI,GACnC1F,EAAY,eAAK0F,UAKd9K,IAAEgE,QAAQrB,EAAUiI,GAIvB/N,EAAW,qEAHXA,EAAW,aAAc8F,EAAUiI,GACnCxF,EAAY,eAAKwF,WAqF7BD,GAAuB,CAC3BrL,QAAS,UACThD,WAAY,CACVzE,MAAO,SACP,YAAa,yBAEf2H,QAAS,gBCvKLuL,GAAY,SAACxV,GACjB,IAAIyV,EAAa,UACbC,EAAQ1V,EAAU6I,MAAM,sBAW5B,OAVI6M,KACFD,EAAaC,EAAM,IACJzO,SAAS,oBACtBwO,EAAaA,EAAW3M,QAAQ,iBAAkB,SAGhD2M,EAAWxO,SAAS,OACtBwO,EAAaA,EAAWtN,MAAM,KAAK,KAGhCsN,G,sBCRHE,GAAgB,SAAC3V,EAAmBoN,EAAeyC,GAAuC,IAArB+F,EAAoB,uDAAT,KAC9E/N,EAAkBK,GAA+BlI,GACvD,GAAI6H,EAAiB,CACnB,IAAMT,EAAQV,EAAkB0G,EAAUvF,GACpC0L,EAAS7M,EAAkB0G,EAAU,sBAC3C,GAAIhG,GAASmM,EAAQ,CAMnB,IANoB,IAAD,cACcA,EADd,GACZsC,EADY,KACAC,EADA,mBAEC1O,EAFD,GAEZ+N,EAFY,KAIfD,EAAW,GACXa,GAAe,EACV7O,EAAI,EAAG2O,EAAWpR,SAAS0C,OAAS,GAAKD,EAAI2O,EAAWpR,SAAS0C,OAAQD,IAAK,CACrF,IAAM8O,EAAeH,EAAWpR,SAASyC,GACzC,GAAI8O,GAAgBA,EAAajP,YAAciP,EAAajP,WAAW,aAAaE,SAASY,GAAkB,CAC7GkO,EAAc7O,EACd,OAIJ,IAAqB,IAAjB6O,EACF,IAAK,IAAI7O,EAAI,EAAG2O,EAAWpR,SAAS0C,OAAS,GAAKD,EAAI2O,EAAWpR,SAAS0C,OAAQD,IAAK,CACrF,IAAM8O,EAAeH,EAAWpR,SAASyC,GACzC,GAAI8O,GAA6B,OAAbJ,EAAmB,CAErC,GAAI1O,IAAM6O,EAAc,EAAG,CACzBb,EAAS7U,KAAK8U,GACdD,EAAS7U,KAAK2V,GACd9O,GAAK,EACL,SAEFgO,EAAS7U,KAAK2V,GAEhB,GAAIA,GAA6B,SAAbJ,EAAqB,CAEvC,GAAI1O,IAAM6O,EAAa,CACrB,IAAME,EAAYJ,EAAWpR,SAASyC,EAAI,GAC1CgO,EAAS7U,KAAK4V,GACdf,EAAS7U,KAAK8U,GACdjO,GAAK,EACL,SAEFgO,EAAS7U,KAAK2V,IAIpB,GAAId,EAAS/N,OAAS,EAAG,CACvB,IAAI+O,EAAgBzL,IAAE0D,UAAU0H,GAChCK,EAAczR,SAAWgG,IAAE0D,UAAU+G,GACrC,IAAMG,EAAU5K,IAAEC,IAAI0C,EAAU0I,EAAWhB,MAAM,GAAIoB,GACrD7H,GAASkC,UAAU8E,GACnBxF,EAAY,eAAKwF,Q,kGCrDnBc,GAAsB,SAAChN,EAAQ5I,GAA+B,IAAjB6V,EAAgB,uDAAP,GAM1D,OALIjN,IACFA,EAAEkN,iBACFlN,EAAEmN,mBAEJhP,EAAW,iBAAkB/G,EAAM6V,GAC3B7V,GACN,IAAK,OACHgW,SAASC,YAAY,QACrB,MACF,IAAK,YACHD,SAASC,YAAY,aACrB,MACF,IAAK,UACHD,SAASC,YAAY,UACrB,MACF,IAAK,OACHD,SAASC,YAAY,YAAY,EAAOJ,GACxC,MACF,IAAK,QACHG,SAASC,YAAY,aAAa,EAAOJ,GACzC,MACF,IAAK,YACHG,SAASC,YAAY,aAAa,EAAOJ,GACzC,MACF,IAAK,aACHG,SAASC,YAAY,YAAY,EAAOJ,GACxC,MACF,QACE9O,GAAA,2BAAgC/G,IAEpC,OAAO,G,UCxBIkW,GAAc,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,aAAcC,EAAkC,EAAlCA,UAAkC,EAClD1R,oBAAS,iBAAM,UADmC,mBACrE2R,EADqE,KAC9DC,EAD8D,KAS5E,OACE,cAACC,GAAD,CACEC,YAAa,SAAC5N,GACPwN,IACHxN,EAAEkN,iBACFlN,EAAEmN,oBAGNM,MAAOA,EAPT,SASE,qBAAK5W,UAAU,UAAf,SACE,cAAC,KAAD,CAAcgX,cAAc,EAAOJ,MAAOA,EAAOK,SAAU,SAACL,GAAD,OAjBvC,SAACA,GACzB,IAAMM,EAAO,UAAMN,EAAMO,KAAZ,OAAkBC,GAAaR,EAAMS,IAAInH,IACtD2G,EAASK,GACTR,EAAa,QAAD,OAASE,EAAMS,IAAIhI,EAAnB,YAAwBuH,EAAMS,IAAIC,EAAlC,YAAuCV,EAAMS,IAAIE,EAAjD,YAAsDX,EAAMS,IAAInH,EAAhE,MAcmEsH,CAAkBZ,WAM/FQ,GAAe,SAACK,GAAD,OAA8B,IAAVA,EAAc,KAAOC,KAAKC,MAAM,IAAMF,GAAOG,SAAS,KAEzFd,GAAuBrX,IAAOC,IAAV,8GCxBpBmY,GAAgB,SAAC,GAA4F,IAA1FC,EAAyF,EAAzFA,UAAWC,EAA8E,EAA9EA,SAAUC,EAAoE,EAApEA,WAAoE,EAClF/S,oBAAyB,GADyD,mBACzGgT,EADyG,KAChGC,EADgG,KAGxG3U,EAAWkP,KAAXlP,OAHwG,EAKxF0B,mBAAS,IAL+E,mBAKzGnF,EALyG,KAKnGqY,EALmG,KAOxG/K,EAAasF,KAAbtF,SAqCR,OAnCA2C,qBAAU,WACR,GAAIxM,EAAQ,CACV,IAAM0F,EAAmBnB,GAAqBvE,EAAQA,EAAOwE,WAC7D,GAAIkB,EAAkB,CACpB,IAAInJ,EAAO4G,EAAkB0G,EAAUnE,GAMvC,GAJI+O,IACFlY,EAAO,CAAC,KAAM,IAAMkY,IAGlBlY,EAAM,CAAC,IAAD,EACkBA,EAAjBsY,EADD,oBAKR,GAHIA,EAAcjR,OAAS,GACzBgR,EAAQC,EAActD,MAAM,IAE1BgD,EAAW,CACb,IAAM1U,EAAOqH,IAAEwK,IAAI7H,EAAUgL,EAActD,MAAM,IACjD,GAAI1R,GAAQA,EAAK+G,mBAAqB/G,EAAK+G,kBAAkBlD,SAAS6Q,GAEpE,YADAI,GAAW,QAGR,GAAIH,EAAU,CACnB,IAAM3U,EAAOqH,IAAEwK,IAAI7H,EAAUgL,EAActD,MAAM,IACjD,GAAI1R,GAAQA,EAAK2U,GAEf,YADAG,GAAW,MAOrBA,GAAW,GACXC,EAAQ,MACP,CAAC5U,IAEG,CAAC0U,EAASnY,EAAMyD,IASnB8U,GAAW,SAAC,GAAiD,IAA/CvY,EAA8C,EAA9CA,KAAMmY,EAAwC,EAAxCA,QAASH,EAA+B,EAA/BA,UACzB1K,EAAasF,KAAbtF,SAaR,MAAO,CAAEkL,SAXQ,WACf,IAAIzU,EAAQ,GACZ,GAAI/D,GAAQmY,EAAS,CACnB,IAAInR,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC1BgH,GAAWA,EAAQC,aACrBlD,EAAQiD,EAAQC,WAAW+Q,IAG/B,OAAOjU,KCzEL0U,GAAY,cACZC,GAAe,CAAC,SAAU,YAAa,QAAS,cAChDC,GAAQ9U,EAAaR,KAAI,SAACoM,GAAD,OAAUA,EAAK3L,KAAKgF,UAE7C8P,GAAW,WAA2B,IAAD,EACjBb,GAAc,CAAEC,UAAWS,KADV,mBAClCN,EADkC,KACzBnY,EADyB,KAEjCwY,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWS,KAAlDD,SAFiC,EAGfrT,mBAAS,IAHM,mBAGlCpB,EAHkC,KAG3B8U,EAH2B,KAezC,OAVA5I,qBAAU,WACR,GAAIkI,EAAS,CACX,IAAMW,EAASN,IACf,GAAIM,GAAUA,EAAOnM,QAAQ,KAAM,CACjC,IAAMoM,EAASD,EAAOzQ,MAAM,KAAK,GACjCwQ,EAASE,OAGZ,CAACP,IAEG,CAAC,GAAD,OAAKE,GAAL,YAAsBC,KAAQ5U,I,qBChBjC0U,GAAY,OAEZO,GAAO,WAAO,IAAD,EACOjB,GAAc,CAAEC,UAAWS,KADlC,mBACVN,EADU,KACDnY,EADC,OAEiB4S,KAA1BtF,EAFS,EAETA,SAAUyC,EAFD,EAECA,YACVyI,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWS,KAAlDD,SAHS,EAISrT,mBAAS,IAJlB,mBAIVpB,EAJU,KAIH8U,EAJG,KAMjB5I,qBAAU,WACJkI,GACFU,EAASL,OAEV,CAACL,EAASnY,IAEb,IAOMiZ,EAAkB,SAACC,GACvB,IAAIC,EACAnS,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAR,KAAgCiS,EAChCC,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,KAanB,OAAOhB,EACL,cAAC,KAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAKzV,KAAM,GAAX,SACE,cAAC,KAAD,CAAO0W,YAAaX,GAAWY,OAZxB,SAAChQ,GACd,GAAIA,GAAKA,EAAEtG,QAAUsG,EAAEtG,OAAOgB,MAAO,CACnC,IAAMuV,EAAMC,GAASlQ,EAAEtG,OAAOgB,OAC9BkV,EAAgBK,GAChBT,EAASS,KAQ0CnC,SA7BlC,SAAC9N,GACpBwP,EAASxP,EAAEtG,OAAOgB,OACd/D,GAAQmY,GACVc,EAAgB5P,EAAEtG,OAAOgB,QA0BkDA,MAAOA,UAIlF,MAGAwV,GAAW,SAACD,GAKhB,QAJAA,EAAMA,EAAIxQ,SACEwQ,EAAInS,SAAS,aAAgBmS,EAAInS,SAAS,aACpDmS,EAAG,kBAAcA,IAEZA,GlBtCHE,GAAmB,WACvB,IAAIC,EAAapK,OAAOqK,eACxB,GAAKD,EAAL,CAGA,IAAME,EAAOpK,GACH,OAAVkK,QAAU,IAAVA,KAAYG,kBACF,OAAVH,QAAU,IAAVA,KAAYI,SAAStK,IACrBA,GAAIoK,IAGAG,GAAe,WACnB,IAAMxV,EAAMC,iBAAY,MADC,EAERyO,KAAT1N,EAFiB,EAEjBA,EAAGE,EAFc,EAEdA,EACH/B,EAAWwP,KAAXxP,OACQsW,EAA8CpH,KAAtDlP,OAJiB,EAKSmP,KAA1BtF,EALiB,EAKjBA,SAAUyC,EALO,EAKPA,YALO,EAMN6I,KAAZoB,EANkB,oBAkEzB,OAzDA/J,qBAAU,WACR,GAAI3L,EAAII,QAAS,CACf,IAAMuV,EAAUxD,SAASyD,iBAAiB,uCAC1C,GAAID,EAKF,OAJAA,EAAQE,SAAQ,SAAC7W,GACfkE,EAAW,+CACXlE,EAAK8W,iBAAiB,QAASC,OAE1B,kBACLJ,EAAQE,SAAQ,SAAC7W,GACfkE,EAAW,8CACXlE,EAAKgX,oBAAoB,QAASD,WAIzC,CAAC/V,IAEJ2L,qBAAU,WACR,GAAIxM,GAAUsW,EAAe,CAC3B,IAAM5Q,EAAmBnB,GAAqB+R,EAAeA,EAAc9R,WAC3E,UAAIkB,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBhC,SAAS,WAAY,CACzC,IAAIoT,EAAcR,EAAcpV,SAAS,GAAGA,SAAS,GAE/C6V,EAAQ,SAACnR,GACboR,GAAoBF,EAAQjN,EAAUyC,IAOlC2K,EAAU,WAAO,IAAD,EACpBnL,GAAC,UAAGF,OAAOqK,sBAAV,aAAG,EAAuBiB,WAAW,IAexC,OAZAJ,EAAOH,iBAAiB,WAAYI,GAAO,GAC3CD,EAAOH,iBAAiB,QAASM,GAAS,GAC1CH,EAAOH,iBAAiB,QAASM,GAAS,GAE1CH,EAAOtS,UAAU2S,IAAI,iBACrBL,EAAOM,aAAa,kBAAmB,QACvCN,EAAOM,aAAa,aAAc,SAM3B,WACLrT,EAAW,iDACX+S,EAAOD,oBAAoB,WAAYE,GAAO,GAC9CD,EAAOD,oBAAoB,QAASI,GAAS,GAC7CH,EAAOD,oBAAoB,QAASI,GAAS,QAIlD,CAACX,EAAezM,IAGjB,sBACElN,MAAO,CACLkL,QAAS7H,EAAS,QAAU,OAC5BP,SAAU,QACVC,IAAI,GAAD,OAAKqC,EAAL,MACH6O,KAAK,GAAD,OAAK/O,EAAL,MACJlE,QAAS,UACT0Z,OAAQ,kBACRC,OAAQ,IACRC,gBAAiB,OACjBC,WAAY,iDAEdla,GAAG,gBACHuD,IAAKA,EACL2S,YAAaoD,GAdf,UAgBE,cAAC,KAAD,CACE7Z,KAAK,QACL0a,cAAe,CAAEha,SAAU,QAC3Bia,aAAc,EACd/a,MAAO,CAAEC,SAAU,QACnB8W,SAAU,SAACpT,GACTsS,GAAoB,KAAM,OAAQtS,IANtC,SASGqX,MAAMC,KAAKD,MAAM,GAAGE,QAAQjY,KAAI,SAAC+D,GAAD,OAC/B,cAAC,KAAOmU,OAAR,CACEtE,YAAaoD,GACbmB,QAASnB,GACTja,MAAO,CAAEC,SAAU,QACnB0D,MAAOqD,EAAI,EAJb,SAME,sBAAM6P,YAAaoD,GAAqBmB,QAASnB,GAAjD,SACGjT,EAAI,WAKb,cAAC,KAAD,CACE5G,KAAK,QACL2a,aAAc,SACdD,cAAe,CAAEha,SAAU,QAC3Bd,MAAO,CAAEC,SAAU,QACnB8W,SAAU,SAACpT,GACTsS,GAAoB,KAAM,aAActS,IAE1CkT,YAAaoD,GARf,SAUGL,EAAS3W,KAAI,SAACoM,GAAD,OACZ,cAAC,KAAO8L,OAAR,CACEtE,YAAaoD,GACbmB,QAASnB,GACTja,MAAO,CAAEC,SAAU,QACnB0D,MAAO0L,EAJT,SAME,sBAAMwH,YAAaoD,GAAqBmB,QAASnB,GAAjD,SACG5K,WAMT,cAAC,KAAD,CACEgM,iBAAiB,qCACjBzL,QAAQ,QACR0L,UAAU,SACVvR,QACE,cAAC,GAAD,CACEyM,aAAc,SAACE,GACbT,GAAoB,KAAM,YAAaS,IAEzCD,WAAW,IAGf8E,sBAAsB,EAZxB,SAcE,cAAC,IAAD,CAAQ/J,KAAM,cAACgK,GAAA,EAAD,IAAwBxb,MAAO,CAAEC,SAAU,QAAUG,KAAK,YAE1E,cAAC,KAAD,CACEib,iBAAiB,qCACjBzL,QAAQ,QACR0L,UAAU,SACVvR,QACE,cAAC,GAAD,CACEyM,aAAc,SAACE,GACbT,GAAoB,KAAM,QAASS,IAErCD,WAAW,IAGf8E,sBAAsB,EAZxB,SAcE,cAAC,IAAD,CAAQ/J,KAAM,cAACiK,GAAA,EAAD,IAAsBzb,MAAO,CAAEC,SAAU,QAAUG,KAAK,YAExE,cAAC,IAAD,CACEoR,KAAM,cAACkK,GAAA,EAAD,IACNxb,QAAS,SAAC+I,GAAD,OAAOgN,GAAoBhN,EAAG,SACvCjJ,MAAO,CAAEC,SAAU,QACnBG,KAAK,UAEP,cAAC,IAAD,CACEoR,KAAM,cAACmK,GAAA,EAAD,IACNzb,QAAS,SAAC+I,GAAD,OAAOgN,GAAoBhN,EAAG,YACvCjJ,MAAO,CAAEC,SAAU,QACnBG,KAAK,UAEP,cAAC,IAAD,CACEoR,KAAM,cAACoK,GAAA,EAAD,IACN1b,QAAS,SAAC+I,GAAD,OAAOgN,GAAoBhN,EAAG,cACvCjJ,MAAO,CAAEC,SAAU,QACnBG,KAAK,UAEP,cAAC,GAAD,CAAUyb,gBAAiB,SAAC5S,GAAD,OAAOgN,GAAoBhN,EAAG,eASzD6S,GAAW,SAAC,GAAuC,EAArCD,gBAAsC,IAAD,EAC3B9W,oBAAS,GADkB,mBAChD1B,EADgD,KACxC4B,EADwC,OAE/BF,mBAAS,IAFsB,mBAEhDgX,EAFgD,KAE1CC,EAF0C,KAGjDC,EAAU9X,iBAAY,MAU5B,OACE,cAAC,KAAD,CACE4T,QAAS1U,EACT0G,QACE,sBAAK/J,MAAO,CAAEkL,QAAS,OAAQgR,IAAK,OAApC,UACE,cAAC,KAAD,CACEpc,UAAU,qBACVoE,IAAK+X,EACLtY,MAAOoY,EACPlF,YAbU,SAAC5N,GACnBmQ,MAaQrC,SAlBO,SAAC9N,GAChB+S,EAAQ/S,EAAEtG,OAAOgB,QAkBTwY,YAAY,SAEd,cAAC,IAAD,CACE9b,KAAK,UACLwW,YAAaoD,GACb/Z,QAAS,WACP+E,GAAU,GACVmU,KACA/C,SAASC,YACP,cACA,EACA,YAAc6C,GAAS4C,GAAQ,qBAAuB1F,SAASiD,eAAiB,SATtF,uBAiBJ1J,QAAQ,QACR0L,UAAU,SA9BZ,SAgCE,cAAC,IAAD,CACEtb,MAAO,CAAEC,SAAU,QACnBC,QAAS,SAAC+I,GACRgR,GAAoBhR,GACpBhE,GAAW5B,GACX2Y,EAAQ,KAEV5b,KAAK,QACLoR,KAAM,cAAC4K,GAAA,EAAD,SAMR/B,GAAsB,SAACnX,EAAWgK,EAAeyC,GACrDvI,EAAA,iDACA,IAAMiV,EAAgB5U,GAAkBvE,GACxC,GAAKmZ,EAAL,CAGA,IAAMtT,EAAmBsT,EACzB,UAAItT,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBhC,SAAS,WAAY,CACzC,IAAMuV,EAAO9V,EAAkB0G,EAAUnE,GACzC,GAAIuT,EAAM,CAAC,IACA1c,EADD,YACS0c,EADT,MAEJC,EAAWhS,IAAEwK,IAAI7H,EAAUtN,EAAKgV,MAAM,IAC1C,GAAI2H,EAAU,CACZ,IAAIC,EAAejS,IAAE0D,UAAUsO,GAC/BnV,EAAW,0BAA2BlE,GACtC,IAAMuZ,EAAOvZ,EAAKwZ,UAClBF,EAAazS,QAAU0S,EACvB,IAAMtH,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAKgV,MAAM,GAAI4H,GAC/C7M,EAAY,eAAKwF,SAMZ8E,GAAsB,SAAChR,GAElC,GADA7B,EAAW,UAAW6B,EAAEtG,UAEtBsG,EAAEtG,QACmB,UAArBsG,EAAEtG,OAAOkH,SACTZ,EAAEtG,OAAO7C,WACTmJ,EAAEtG,OAAO7C,UAAUiH,SAAS,uBAQ9B,OAHAK,EAAW,2BAA4B6B,EAAEtG,QACzCsG,EAAEkN,iBACFlN,EAAEmN,mBACK,EANLhP,EAAW,uBmB5STuV,GAAa,SAAC,GAAmD,IAAjD7c,EAAgD,EAAhDA,UAAW8c,EAAqC,EAArCA,MAAOvZ,EAA8B,EAA9BA,OAA8B,EAClCmP,KAA1BtF,EAD4D,EAC5DA,SAAUyC,EADkD,EAClDA,YADkD,EAEpC5K,oBAAS,GAF2B,mBAE7D8X,EAF6D,KAEnDC,EAFmD,OAGhC/X,oBAAS,GAHuB,mBAG7DgY,EAH6D,KAGjDC,EAHiD,KAKpEnN,qBAAU,WACR,GAAI+M,EAAMtY,UAAYjB,EAAQ,CAC5B,IAAMsE,EAAkBK,GAA+BlI,GACvD,GAAI6H,EAAiB,CACnB,IAAMT,EAAQV,EAAkB0G,EAAUlF,GAA+BlI,IACnEuT,EAAS7M,EAAkB0G,EAAU,sBAC3C,GAAIhG,GAASmM,EAAQ,CAAC,IACbsC,EADY,YACEtC,EADF,kBAECnM,EAFD,MAKnB,GAAIyO,GAAcA,EAAWpR,UAA2C,IAA/BoR,EAAWpR,SAAS0C,OAG3D,OAFA6V,GAAY,QACZE,GAAc,GAET,GAAIrH,GAAcA,EAAWpR,UAAYoR,EAAWpR,SAAS0C,OAAS,EAE3E,IADA,IAAMgW,EAAWtH,EAAWpR,SAAS0C,OAAS,EACrCD,EAAI,EAAGA,EAAI2O,EAAWpR,SAAS0C,OAAQD,IAAK,CACnD,IAAM8O,EAAeH,EAAWpR,SAASyC,GACzC,GACE8O,GACAA,EAAajP,YACbiP,EAAajP,WAAW,cACxBiP,EAAajP,WAAW,aAAaE,SAASY,GAC9C,CACA,GAAIX,IAAMiW,EAAU,CAClBD,GAAc,GACdF,GAAY,GACZ,MACK,GAAU,IAAN9V,EAAS,CAClB8V,GAAY,GACZE,GAAc,GACd,cAQb,CAAC9P,EAAU0P,EAAOvZ,IAYrB,OACE,qBACEwT,YAAaoD,GACbja,MAAO,CAAE8C,SAAU,WAAYoI,QAAS7H,IAAWuZ,EAAMtY,QAAU,QAAU,QAF/E,SAIE,sBACEtE,MAAO,CACL8C,SAAU,WACVmR,MAAO,GACPE,OAAQ,EACRjJ,QAAS,OACTgS,cAAe,SACfC,OAAQ,OAPZ,UAUE,cAAC,IAAD,CACE9c,KAAK,UACL+c,UAAWP,EACX3c,QA5BO,SAAC+I,GACdgR,GAAoBhR,GACpBwM,GAAc3V,EAAWoN,EAAUyC,IA2B7B6B,KAAM,cAAC6L,GAAA,EAAD,CAA0Brd,MAAO,CAAEC,SAAU,YAErD,cAAC,IAAD,CACEI,KAAK,UACL+c,UAAWL,EACX7c,QA7BS,SAAC+I,GAChBgR,GAAoBhR,GNPA,SAACtB,EAAyBuF,EAAeyC,GACxD8F,GAAc9N,EAAiBuF,EAAUyC,EAAa,QMO3D2N,CAAgBxd,EAAWoN,EAAUyC,IA4B/B6B,KAAM,cAAC+L,GAAA,EAAD,CAA6Bvd,MAAO,CAAEC,SAAU,kBCxEnDud,GAAcxL,gBAAK,YAAoD,IAAjDyL,EAAgD,EAAhDA,UAAWC,EAAqC,EAArCA,aAAqC,EAE/EnL,KADwBtN,GADuD,EACzEiN,iBADyE,EACvDjN,WAAWmN,EAD4C,EAC5CA,eAAgB/O,EAD4B,EAC5BA,OAAQ8O,EADoB,EACpBA,YAAaxR,EADO,EACPA,GAAW+D,GADJ,EACH2N,MADG,EACI3N,OADJ,KACW4N,OAQxF/L,KALFhB,EAJ+E,EAI/EA,aACAE,EAL+E,EAK/EA,QACAE,EAN+E,EAM/EA,QACAW,EAP+E,EAO/EA,KACQJ,EARuE,EAQ/EG,KAAQH,SARuE,EAU/CsM,KAA1BtF,EAVyE,EAUzEA,SAAUyC,EAV+D,EAU/DA,YAV+D,EAWtBiD,KAA7C+K,EAXmE,EAWzExY,KAA8ByY,EAX2C,EAWjDvY,KACbwY,EAA0BhL,KAArC5N,UACF2X,EAAQzY,iBAAOxD,GACfmd,EAAW3Z,iBAAOxD,GAEhBoF,EAAsCO,EAAtCP,SAAUF,EAA4BS,EAA5BT,cAAeI,EAAaK,EAAbL,SAEjC4J,qBAAU,WACRnL,MACC,IAGHmL,qBAAU,WACO,OAAXxM,IACFwC,GAAc,GACdN,GAAa,GACbsY,GAAsB,MAEvB,CAACxa,IAEJ,IAAM0a,EAAUC,mBACd,kBAAM,SAAC/U,GACLmJ,EAAewK,EAAMtY,YAEvB,CAACsY,IAGG1c,EAAU8d,mBACd,kBACEpB,EAAMtY,UAAY6N,EACd,SAAClJ,GAEKA,GAAKA,EAAEtG,QAA+B,MAArBsG,EAAEtG,OAAOkH,SAC5BZ,EAAEkN,iBAEJlR,EAAU2X,EAAMtY,SAChB,IACM2Z,EADchV,EAAEtG,OACS+E,QAAQ,aACvC,GAAIuW,EAAY,CACd,IAAMvK,EAAMuK,EAAWtK,wBAGjB5L,EAAaH,GAAqBqW,EAAYA,EAAWpW,WAC/D,UAAIE,QAAJ,IAAIA,OAAJ,EAAIA,EAAYhB,SAAS,QAAS,CAChC,IAAM7B,EAAIwO,EAAIO,KACR7O,EAAIsO,EAAI3Q,IAAM,GAEpB8a,GAAsB,GACtBF,EAAiBzY,GACjB0Y,EAAiBxY,QAEjByY,GAAsB,GAIxBtY,GAAa,GACbM,GAAc,GC5ER,SAAC,GAA2F,IAAzF6N,EAAwF,EAAxFA,IAAwF,IAAnFwK,OAAUzY,EAAyE,EAAzEA,QAASE,EAAgE,EAAhEA,QAAgE,IAArDW,KAAQP,EAA6C,EAA7CA,SAAUE,EAAmC,EAAnCA,SAG1E,GAAIyN,EAAK,CACPjO,EAAQiO,EAAIQ,MAAQ,GACpB,IAAMQ,EAASzJ,iBAAOyI,EAAIS,OAAST,EAAI3Q,KAAO,GAAKob,GACnDxY,EAAQ+N,EAAI3Q,IAAM2R,GAClB3O,EAAS2N,EAAIQ,MAAQ,GAErBjO,EAASyN,EAAI3Q,IAAM2R,EARJ,GAQwB,IDqE7B0J,CAAY,CAAE1K,MAAKwK,OAAQ,CAAEzY,UAASE,WAAWW,KAAM,CAAEP,WAAUE,gBAGvE,OACN,CAAC2W,EAAOzK,IAEJtH,EAAYsH,IAAgByK,EAAMtY,UAAYsY,EAAMtY,QAAQxE,UAAUiH,SAAS,WAE/EsX,GADcL,mBAAQ,kBAAO7L,IAAgByK,EAAMtY,QAAU,UAAY,YAAY,CAAC6N,EAAayK,IACzFzK,IAAgByK,EAAMtY,QAAU,gCAAkC,SAC5Ega,EAAejb,IAAWuZ,EAAMtY,QAAU,+BAAiC,QAG7EwO,GAAmB4K,EAAc,SACnCtW,GAAY,uBAGV0L,GAAmB4K,EAAc,YACnCtW,GAAY,0BAGd,IA0BMmX,EAAWC,uBAAY,SAACvV,GAAD,OXzHtBiK,GWyH8DjK,EXzHlC,eWyHsC,IAuCnEwV,EAAMnJ,GAAUoI,EAAazZ,MAAMnE,WAEnC4e,EAAWC,wBACf,MACA,CACE3e,MAAO,CACL8C,SAAU,WACVoR,OAAQ,EACRC,QAAS,GACTwG,OAAQ,IACRzP,QAAiB,mBAARuT,EAA2B,QAAU,OAC9C3d,SAAU,GACVyB,UAAW,SAEbsI,WAAW,GAGbsH,IAAgByK,EAAMtY,SAAWjB,IAAWuZ,EAAMtY,QAC9Cqa,wBACE,OACA,CAAE3e,MAAO,CAAEgB,QAAS,UAAW4d,WAAY,UAAWlI,MAAO,QAASzW,SAAU,SAChFqV,GAAUoI,EAAazZ,MAAMnE,YAE/B,MAGA+e,EAAUF,wBACdjB,EAAaoB,SADc,YAAC,eAGvBpB,EAAazZ,OAHS,IAIzB8a,aAAchB,EACdiB,aAAcjB,EACdkB,WAAY1U,IAAE2U,UApEC,SAACjW,GAClB,IAAI/C,EAAJ,CAIA,IAAMoO,EAAgBrL,EAAEkW,YAAYxc,OAC9B4R,EAAa9M,GAAkB6M,GAErC,KAAc,OAAVC,QAAU,IAAVA,OAAA,EAAAA,EAAYxN,SAAS,gBAArB,OAAqCwN,QAArC,IAAqCA,OAArC,EAAqCA,EAAYxN,SAAS,kBAC5DK,EAAW,gCACPmN,EAAWxN,SAAS,cAAc,CAEpC,IAAmB,ITlEmB,SAAC,GAI6C,IAH1FmG,EAGyF,EAHzFA,SACAyC,EAEyF,EAFzFA,YACA4E,EACyF,EADzFA,WAEA,GAAIA,EAAY,CACd,IAAI+H,EAAO9V,EAAkB0G,EAAUqH,GACvC,GAAI+H,EAAM,CACR,IAAM8C,EAAkBnS,GAAc1C,IAAE0D,UAAUf,IAClD9F,EAAW,mBAAoB8F,EAAUkS,GAIzC,IANQ,IAGCxf,EAHD,YAGwB0c,EAHxB,MAIJ+C,EAAY9U,IAAEwK,IAAIxK,IAAE0D,UAAUmR,GAAkBxf,EAAKgV,MAAM,IAC3DI,EAAW,GACNhO,EAAI,EAAGqY,GAAaA,EAAU9a,UAAYyC,EAAIqY,EAAU9a,SAAS0C,OAAQD,IAAK,CACrF,IAAMiO,EAAYoK,EAAS,SAAarY,GAClCoG,EAAW6H,EAAUpO,YAAcoO,EAAS,WAAe,aAE7D7H,GAAYA,EAASrG,SAAS,0BAI9BqG,GAAYA,EAASrG,SAAS,mBAGlCiO,EAAS7U,KAAK8U,GAIhB,GAAID,EAAS/N,OAAS,EAGpB,OAAO,EAIT+N,EAAS7U,KAAK+U,IAEd,IAAIoK,EAAc1f,EAAKgV,MAAM,EAAGhV,EAAKiV,YAAY,cACjD,GAAIwK,EAAW,CAGbA,EAAU9a,SAAWyQ,EAGrB,IAFA,IAAIuK,EAAgBhV,IAAEwK,IAAIxK,IAAE0D,UAAUmR,GAAkBE,GACpDE,EAAyB,GACpBxY,EAAI,EAAGuY,GAAiBA,EAAchb,UAAYyC,EAAIuY,EAAchb,SAAS0C,OAAQD,IAAK,CACjG,IAAMyY,EAAcF,EAAa,SAAavY,GACxCoG,EAAWqS,EAAY5Y,YAAc4Y,EAAW,WAAe,aAC7CzX,GAA+BoF,KAG/BmH,EAIxBiL,EAAuBrf,KAAKsf,GAH1BD,EAAuBrf,KAAKkf,GAKhCE,EAAchb,SAAWib,EACzB,IAAMrK,EAAU5K,IAAEC,IAAI4U,EAAiBE,EAAaC,GAOpD,OANKhV,IAAEgE,QAAQrB,EAAUiI,GAIvB/N,EAAW,qEAHXA,EAAW,aAAcgY,EAAiBjK,GAC1CxF,EAAY,eAAKwF,MAIZ,KSCYuK,CAAsC,CAAExS,WAAUqH,aAAY5E,gBAG/E,YADAvI,EAAW,+DAGbA,EAAW,0FAIf,IAAIiN,EAAgBkK,EAASjK,GAE7B,GAAID,EAAe,CAAC,IAAD,EACCA,EAAjBA,EADgB,oBAGnBjN,EAAW,sCACXgN,GAA4B,CAC1BlH,WACAqH,aACAF,gBACAC,gBACA3E,cACA8D,MAAOxK,OAoC4B,KACnCmB,YAlGgB,SAACnB,GACf5F,GACF4B,EAAU,MAEZgE,EAAEE,aAAawW,WAAa,OAC5B,IAAMhY,EAAkBF,GAAkBwB,EAAEtG,QACtC2Z,EAAO9V,EAAkB0G,EAAUvF,GACzC,GAAI2U,EAAM,CAAC,IACA1c,EADD,YACS0c,EADT,MAEJpZ,EAAOqH,IAAEwK,IAAI7H,EAAUtN,EAAKgV,MAAM,IACtC1R,EAAO,CAAE0c,KAAM,OAAQjY,gBAAiBA,EAAiBuB,OAAQqB,IAAE0D,UAAU/K,IAO7E,IAAM2c,EAAexJ,SAASsI,cAAc,OAE5C1V,EAAEE,aAAaG,aAAauW,EAAc,EAAG,GAC7C5W,EAAEE,aAAaI,QAAQ,SAAUC,KAAKC,UAAUvG,SAEhDkE,GAAA,iEAAsEO,KA6EtEkD,YACA3G,IAAK0Y,EACLjc,GAAImd,EAASxZ,QACbpE,UACAiD,IAAKsa,EACLzd,MAAM,2BACD0d,EAAazZ,MAAMjE,OADnB,IAEH8f,OAAQ,UACRzB,QAAShb,IAAWuZ,EAAMtY,QAAUga,EAAeD,EACnDvb,SAAU,eAGd4a,EAAanZ,SAAb,sBAA4BmZ,EAAanZ,UAAzC,CAAmDma,IAAY,MAIjE,OAAIhB,GAAgBA,EAAazZ,MAAMnE,UAAUiH,SAAS,cAEtD,qCACG8X,EACD,cAAC,GAAD,CAAY/e,UAAW4d,EAAazZ,MAAMnE,UAAW8c,MAAOA,EAAOvZ,OAAQA,OAK1Ewb,KEwQMkB,GA3eoB,CAEjCC,OAAQ,SACRC,cAAe,gBACf,iBAAkB,gBAClBC,UAAW,YACX5R,OAAQ,SACR6R,gBAAiB,kBACjB3f,IAAK,MACL4B,MAAO,QACPge,GAAI,KACJC,MAAO,QACPC,eAAgB,iBAChBC,aAAc,eACdC,YAAa,cACbC,UAAW,YACXC,SAAU,WACVC,SAAU,WACVC,QAAS,UACTC,YAAa,cACbC,YAAa,cACbC,UAAW,YACXC,QAAS,UACTC,QAAS,UACT1c,SAAU,WACV2c,KAAM,OACNC,MAAO,YACPC,QAAS,UACTC,UAAW,YACXC,KAAM,OACNC,QAAS,UACTxX,QAAS,UACTyX,gBAAiB,kBACjBC,YAAa,cACbC,SAAU,WACVC,aAAc,eACdC,OAAQ,SACRC,YAAa,cACbC,wBAAyB,0BACzB/f,KAAM,OACNggB,SAAU,WACVC,QAAS,UACTC,eAAgB,iBAChBC,aAAc,eACdC,MAAO,QACPC,IAAK,MACLhF,SAAU,WACViF,wBAAyB,0BACzBC,sBAAuB,wBACvBC,SAAU,WACV1X,UAAW,YACX2X,QAAS,UACTC,aAAc,eACdC,IAAK,UACLC,KAAM,OACNC,WAAY,aACZC,WAAY,aACZC,YAAa,cACbC,eAAgB,iBAChBC,WAAY,aACZC,YAAa,cACbC,QAAS,UACTriB,OAAQ,SACRsiB,OAAQ,SACRC,KAAM,OACNxgB,KAAM,OACNygB,SAAU,WACVC,QAAS,UACTC,UAAW,YACX,aAAc,YACd/R,KAAM,OACN7Q,GAAI,KACJ6iB,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,GAAI,KACJC,OAAQ,SACRC,SAAU,WACVC,QAAS,UACTC,UAAW,YACXC,SAAU,WACVC,UAAW,YACXC,QAAS,UACTC,KAAM,OACNC,MAAO,QACPC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,IAAK,MACLC,SAAU,WACVC,YAAa,cACbC,aAAc,eACdC,IAAK,MACLC,UAAW,YACXC,MAAO,QACPC,WAAY,aACZC,OAAQ,SACRC,IAAK,MACLC,UAAW,YACXC,SAAU,WACVC,MAAO,QACP1hB,KAAM,OACN2hB,SAAU,WACVC,MAAO,QACPC,WAAY,aACZC,KAAM,OACNC,QAAS,UACTC,QAAS,UACTvJ,YAAa,cACbwJ,YAAa,cACbC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,WAAY,aACZC,SAAU,WACVC,eAAgB,iBAChBC,IAAK,MACLC,SAAU,WACVC,SAAU,WACVC,KAAM,OACNC,KAAM,OACNC,QAAS,UACTC,QAAS,UACTC,MAAO,QACPC,OAAQ,SACRC,UAAW,YACXC,SAAU,WACVC,SAAU,WACVC,MAAO,QACP1mB,KAAM,OACN2mB,MAAO,QACPzkB,KAAM,OACN0kB,WAAY,aACZ1mB,IAAK,MACL2mB,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACRC,MAAO,QACPC,KAAM,OACNrnB,MAAO,QACPsnB,QAAS,UACTC,SAAU,WACV5kB,OAAQ,SACR4O,MAAO,QACPlR,KAAM,OACNmnB,OAAQ,SACR7jB,MAAO,QACPmG,MAAO,QACP2d,MAAO,QACPC,KAAM,OAGNC,MAAO,QACPC,aAAc,eACd,gBAAiB,eACjBC,WAAY,aACZC,SAAU,WACVC,kBAAmB,oBACnB,qBAAsB,oBACtBC,aAAc,eACdC,WAAY,aACZC,UAAW,YACXC,WAAY,aACZ,cAAe,aACfC,OAAQ,SACRC,cAAe,gBACfC,cAAe,gBACfC,YAAa,cACbC,QAAS,UACTC,cAAe,gBACfC,cAAe,gBACf,iBAAkB,gBAClBC,YAAa,cACbC,KAAM,OACNC,MAAO,QACPC,KAAM,OACNC,GAAI,KACJC,SAAU,WACVC,UAAW,YACX,aAAc,YACdC,KAAM,OACNC,SAAU,WACV,YAAa,WACbC,cAAe,gBACfC,SAAU,WACV,YAAa,WACb3S,MAAO,QACP4S,mBAAoB,qBACpB,sBAAuB,qBACvBC,0BAA2B,4BAC3B,8BAA+B,4BAC/BC,aAAc,eACd,gBAAiB,eACjBC,eAAgB,iBAChB,kBAAmB,iBACnBC,kBAAmB,oBACnBC,iBAAkB,mBAClB7J,OAAQ,SACR8J,GAAI,KACJC,GAAI,KACJC,EAAG,IACHC,SAAU,WACVC,WAAY,aACZC,QAAS,UACTC,gBAAiB,kBACjBC,UAAW,YACXjf,QAAS,UACTkf,QAAS,UACTC,iBAAkB,mBAClB,oBAAqB,mBACrBC,IAAK,MACLC,GAAI,KACJC,GAAI,KACJC,SAAU,WACVC,UAAW,YACXC,iBAAkB,mBAClB,oBAAqB,mBACrBC,IAAK,MACLC,SAAU,WACVC,0BAA2B,4BAC3BC,KAAM,OACNC,YAAa,cACb,eAAgB,cAChBC,SAAU,WACV,YAAa,WACbC,OAAQ,SACRC,UAAW,YACXC,YAAa,cACbC,aAAc,eACd,gBAAiB,eACjBC,WAAY,aACZ,cAAe,aACfC,UAAW,YACXC,WAAY,aACZ,cAAe,aACfC,SAAU,WACV,YAAa,WACbC,eAAgB,iBAChB,mBAAoB,iBACpBC,YAAa,cACb,eAAgB,cAChBC,UAAW,YACX,aAAc,YACdC,YAAa,cACb,eAAgB,cAChBC,WAAY,aACZ,cAAe,aACfC,OAAQ,SACR9Q,KAAM,OACN+Q,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,UAAW,YACX,aAAc,YACdC,2BAA4B,6BAC5B,+BAAgC,6BAChCC,yBAA0B,2BAC1B,6BAA8B,2BAC9BC,SAAU,WACVC,kBAAmB,oBACnBC,cAAe,gBACfC,QAAS,UACTC,UAAW,YACX,cAAe,YACfC,aAAc,eACd,iBAAkB,eAClBC,YAAa,cACbC,eAAgB,iBAChB,kBAAmB,iBACnBC,IAAK,MACLC,GAAI,KACJC,OAAQ,SACRC,UAAW,YACXC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,EAAG,IACHC,aAAc,eACdC,iBAAkB,mBAClBC,QAAS,UACTC,UAAW,YACXC,WAAY,aACZC,SAAU,WACVC,aAAc,eACdC,cAAe,gBACf,iBAAkB,gBAClBC,cAAe,gBACf,iBAAkB,gBAClBC,kBAAmB,oBACnBC,MAAO,QACPC,UAAW,YACX,aAAc,YACdC,aAAc,eACdC,UAAW,YACX,aAAc,YACdC,YAAa,cACb,eAAgB,cAChBC,YAAa,cACbC,YAAa,cACbC,KAAM,OACNC,iBAAkB,mBAClBC,UAAW,YACXC,aAAc,eACdhP,KAAM,OACNiP,WAAY,aACZC,OAAQ,SACRC,QAAS,UACTC,SAAU,WACVC,MAAO,QACPC,OAAQ,SACRC,YAAa,cACbC,OAAQ,SACRC,SAAU,WACVC,iBAAkB,mBAClB,oBAAqB,mBACrBC,kBAAmB,oBACnB,qBAAsB,oBACtBC,WAAY,aACZ,cAAe,aACfC,QAAS,UACT,WAAY,UACZC,WAAY,aACZC,oBAAqB,sBACrBC,iBAAkB,mBAClBC,aAAc,eACdC,cAAe,gBACf,iBAAkB,gBAClBC,OAAQ,SACRC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,OAAQ,SACRC,cAAe,gBACfC,oBAAqB,sBACrBC,eAAgB,iBAChBzY,SAAU,WACV1I,EAAG,IACHohB,OAAQ,SACRC,KAAM,OACNC,KAAM,OACNC,gBAAiB,kBACjB,mBAAoB,kBACpBC,YAAa,cACbC,UAAW,YACXC,mBAAoB,qBACpBC,iBAAkB,mBAClBC,SAAU,WACVC,QAAS,UACTzjB,OAAQ,SACR0jB,QAAS,UACTC,OAAQ,SACRC,GAAI,KACJC,GAAI,KACJC,MAAO,QACPC,SAAU,WACVC,KAAM,OACNC,eAAgB,iBAChB,kBAAmB,iBACnBC,MAAO,QACPC,QAAS,UACTC,iBAAkB,mBAClBC,iBAAkB,mBAClBC,MAAO,QACPC,aAAc,eACdC,YAAa,cACbC,aAAc,eACdC,MAAO,QACPC,MAAO,QACPC,YAAa,cACbC,UAAW,YACX,aAAc,YACdC,YAAa,cACb,eAAgB,cAChBC,sBAAuB,wBACvB,yBAA0B,wBAC1BC,uBAAwB,yBACxB,0BAA2B,yBAC3B5lB,OAAQ,SACR6lB,OAAQ,SACRC,gBAAiB,kBACjB,mBAAoB,kBACpBC,iBAAkB,mBAClB,oBAAqB,mBACrBC,cAAe,gBACf,iBAAkB,gBAClBC,eAAgB,iBAChB,kBAAmB,iBACnBC,iBAAkB,mBAClB,oBAAqB,mBACrBC,YAAa,cACb,eAAgB,cAChBC,cAAe,gBACf,iBAAkB,gBAClBC,+BAAgC,iCAChCC,yBAA0B,2BAC1BC,aAAc,eACdC,eAAgB,iBAChBC,YAAa,cACbC,QAAS,UACTC,QAAS,UACTC,WAAY,aACZ,cAAe,aACfC,eAAgB,iBAChB,kBAAmB,iBACnBC,WAAY,aACZC,cAAe,gBACf,iBAAkB,gBAClBC,GAAI,KACJC,UAAW,YACXC,OAAQ,SACRC,GAAI,KACJC,GAAI,KACJC,kBAAmB,oBACnB,qBAAsB,oBACtBC,mBAAoB,qBACpB,sBAAuB,qBACvBC,QAAS,UACTC,YAAa,cACb,eAAgB,cAChBC,aAAc,eACd,gBAAiB,eACjBC,WAAY,aACZ,eAAgB,aAChBC,aAAc,eACdC,YAAa,cACb,eAAgB,cAChBC,OAAQ,SACRC,aAAc,eACd,gBAAiB,eACjBC,QAAS,UACTC,SAAU,WACV,aAAc,WACdC,YAAa,cACb,gBAAiB,cACjBC,YAAa,cACb,iBAAkB,gBAClB,gBAAiB,cACjBC,SAAU,WACV,YAAa,WACbC,aAAc,eACd,gBAAiB,eACjBC,QAAS,UACTC,WAAY,aACZC,WAAY,aACZC,cAAe,gBACf,iBAAkB,gBAClBC,MAAO,QACPC,OAAQ,SACRC,YAAa,cACb,eAAgB,cAChBC,YAAa,cACb,eAAgB,cAChBC,GAAI,KACJC,GAAI,KACJvwB,EAAG,IACHwwB,iBAAkB,mBAClBC,QAAS,UACT,WAAY,UACZC,aAAc,eACd,gBAAiB,eACjBC,aAAc,eACd,gBAAiB,eACjBC,UAAW,YACX,aAAc,YACdC,UAAW,YACX,aAAc,YACdC,UAAW,YACX,aAAc,YACdC,WAAY,aACZ,cAAe,aACfC,UAAW,YACX,aAAc,YACdC,QAAS,UACT,WAAY,UACZC,QAAS,UACT,WAAY,UACZC,MAAO,QACP,YAAa,WACbC,WAAY,aACZ,cAAe,aACfC,SAAU,WACVC,GAAI,KACJC,GAAI,KACJrxB,EAAG,IACHsxB,iBAAkB,mBAClBC,EAAG,IACHC,WAAY,cC1eRC,GAAkB,SAAC,GAA6D,IAA3D/X,EAA0D,EAA1DA,SAAU7a,EAAgD,EAAhDA,MAAOM,EAAyC,EAAzCA,SAAU5D,EAA+B,EAA/BA,GACpD,OAAOge,wBACLG,EADkB,YAAC,eAEd7a,GAFa,IAENd,IAAKxC,EAAIX,MAAM,2BAAMiE,EAAMjE,OAAb,IAAoBqe,QAAS,kCACvD9Z,ICLEuyB,GAAiB,IAAIC,UAiBrBC,GAAY,SAAZA,EAAapwB,GAAmC,IAAbzD,EAAY,uDAAN,EAC7C,QAAgBwD,IAAZC,EAAJ,CAIA,IAAIkY,EAAWlY,EAAQkY,SAASmY,cAGhC,GACe,WAAbnY,GACa,UAAbA,GACa,SAAbA,GACa,SAAbA,GACa,UAAbA,GACa,OAAbA,EACA,CACA,GAAiB,SAAbA,EAAqB,CACvB,IAAIoY,EAAKtwB,EACT,OAAOuwB,IAAMxY,cACXG,EACA,CAAEsY,UAAWF,EAAGE,UAAWrtB,QAASmtB,EAAGntB,QAAS5G,IAAK2b,EAAW3b,KAChE,MAGJ,GAAiB,SAAb2b,EAAqB,CACvB,IAAIoY,EAAKtwB,EACLvG,EAAO,KAIX,OAHI62B,EAAG72B,OACLA,EAAO62B,EAAG72B,MAEL82B,IAAMxY,cACXG,EACA,CACElc,KAAMs0B,EAAGt0B,KACTsjB,IAAKgR,EAAGhR,IACR7lB,OACA8C,IAAK2b,EAAW3b,KAElB,MAGJ,MAAiB,OAAb2b,EACKqY,IAAMxY,cAAcG,EAAU,CAAE3b,IAAK2b,EAAW3b,KAAS,MAG3Dg0B,IAAMxY,cAAcG,EAAU,CACnCuY,wBAAyB,CAAEC,OAAQ1wB,EAAQ8V,UAAWvZ,IAAK2b,EAAW3b,OAM1E,IAFA,IAAI0D,EAA0E,GAErEG,EAAI,EAAGJ,EAAQC,YAAcG,EAAIJ,EAAQC,WAAWI,OAAQD,IAAK,CACxE,IAAI4Q,EAAYhR,EAAQC,WAAWG,GAC/BuwB,EAAYxX,GAAsBnI,EAAUlU,MAEhD,QAAkBiD,IAAd4wB,EAAyB,CAC3BA,EAAYC,GAAY5f,EAAUlU,MACzB,sBAAkBkU,EAAUlU,KAA5B,8DACD6zB,EADC,aAKX,IAAI5zB,EAA2B,UAAnBiU,EAAUlU,KAAmB+zB,GAA2B7f,EAAUjU,OAASiU,EAAUjU,MAAM+E,OAEvG7B,EAAW0wB,GAAa5zB,EAG1BkD,EAAU,IAAU1D,IAEpB,IAAIoB,EAAwB,GAE5B,GAAIqC,EAAQ9G,WAAa8G,EAAQ9G,UAAUiH,SAAS,WAAY,CAI9D,IAAM2wB,EAAW,CACf5Y,WACA7a,MAAM,eAAM4C,GACZtC,SAAU,CAACoa,wBAAc,OAAQ,CAAE0Y,wBAAyB,CAAEC,OAAQ1wB,EAAQ8V,eAGhF,OAAO,cAACc,GAAD,CAAaC,UAAWta,IAAOua,aAAcga,IAGtD,IAAK,IAAI1wB,EAAI,EAAGA,EAAIJ,EAAQ+wB,WAAW1wB,OAAQD,IAAK,CAClD,IAAIE,EAAQN,EAAQ+wB,WAAW3wB,GAE/B,GAA0B,UAAtBE,EAAK,SAYiB,aAAtBA,EAAK,UAIQ,WAAb4X,GAAsC,UAAbA,GAC3Bva,EAASpE,KAAK62B,EAAU9vB,EAAsB/D,WAhB9C,GAAI+D,EAAM0wB,YAAa,CAGrB,IAAM7tB,EAAU7C,EAAM0wB,YAAYC,WAAW,KAAM,IAAInvB,OACnDqB,GACFxF,EAASpE,KAAK4J,IActB,GAAInD,EAAQiB,WAAajB,EAAQiB,UAAUiwB,SAAS,YAAa,CAG/D,IAAMJ,EAAW,CAAE5Y,WAAU7a,MAAM,eAAM4C,GAActC,YAEvD,OAAO,cAACiZ,GAAD,CAAaC,UAAWta,IAAOua,aAAcga,IAMtD,OAAI9wB,EAAQiB,WAAajB,EAAQiB,UAAUiwB,SAAS,yBAC3C,cAAC,GAAD,CAAiBn3B,GAAIwC,IAAO2b,SAAUA,EAAU7a,MAAK,eAAO4C,GAActC,SAAUA,KAK5E,cAAbua,IACFA,EAAW,OAII,MAAbA,WACKjY,EAAU,YACVA,EAAU,QAIF,QAAbiY,EACKqY,IAAMxY,cAAcG,EAApB,aAAgC3b,IAAKA,KAAU0D,GAAc,MACtC,IAArBD,EAAQmxB,SACVZ,IAAMxY,cAAcG,EAApB,2BAAmCjY,GAAnC,IAA+C1D,IAAKA,MAASyD,EAAQgxB,aAGvET,IAAMxY,cAAcG,EAAUjY,EAAYtC,MAG7CkzB,GAA6B,SAACz3B,GAQlC,IAPA,IAAIg4B,EAAyC,GAKzCC,EAAaj4B,EAAMiI,MAAM,kBAEpBjB,EAAI,EAAGA,EAAIixB,EAAWhxB,OAAQD,IACrC,GAAsB,KAAlBixB,EAAWjxB,GAAf,CAD0C,MAOnBixB,EAAWjxB,GAAGiB,MAAM,KAPD,kBAStCiwB,EAAY,CAT0B,gBASbvqB,KAAK,MAC9BkK,EAAWqgB,EAAU,GAAGxvB,OAC5BmP,EAAW2f,GAAY3f,GACvB,IAAIlU,EAAQu0B,EAAU,GAAGxvB,OACzBsvB,EAAYngB,GAAYlU,EAG1B,OAAOq0B,GAGHR,GAAc,SAACW,GACnB,OAAOA,EAAIvvB,QAAQ,iBAAiB,SAACwvB,GACnC,OAAOA,EAAGC,cAAczvB,QAAQ,IAAK,IAAIA,QAAQ,IAAK,Q,WCrMpD0vB,GAAU,SAACC,GACf7nB,IAAQ4nB,QAAQC,ICFZC,GAA0B,SAACt1B,GAS/B,OARIA,GAAQA,EAAKqB,WACfrB,EAAKqB,SAAWrB,EAAKqB,SAAS2mB,QAAO,SAAChiB,GACpC,QAAIA,GAAUA,EAAM,YAAkBA,EAAM,WAAe,gBACjDA,EAAM,WAAe,aAAanC,SAAS,sBAKlD7D,GCcHu1B,GAAM,SAAC,GAAqE,IAAnE91B,EAAkE,EAAlEA,OAAQ+1B,EAA0D,EAA1DA,cAAe/oB,EAA2C,EAA3CA,YAAazC,EAA8B,EAA9BA,SAAU5E,EAAoB,EAApBA,IACvDX,EAAkBF,GAAkB9E,GAExC,IAAKgF,EAAiB,CACpB,IAAMyX,EAAkBnS,GAAcC,GAEtC,OADAyC,EAAY,eAAKyP,IACV,KAGT,GAA8B,eAA1BsZ,EAAc7uB,UACQ,uBAApBlC,GAAgE,0BAApBA,GAA6C,CAC3F,IAAMyX,EAAkBnS,GAAcC,GAGtC,OAFAyC,EAAY,eAAKyP,IF9BT,SAACmZ,GACb7nB,IAAQnJ,MAAMgxB,GE8BVhxB,CAAM,4CACC,KAIX,GAAImxB,EAAc7uB,SAAqC,eAA1B6uB,EAAc7uB,SACjB,uBAApBlC,EAA0C,CAC5C,IAAM4wB,EAAM,yDAGZ,OAFA7nB,IAAQlJ,KAAK+wB,QACbnxB,EAAA,yBAA6BmxB,IAKjC,IAAII,EAAuBpuB,IAAE0D,UAAUyqB,GACvCC,EAAuBzwB,GAA4BywB,EAAsBrwB,GAEzE,IAAMswB,EAAmBpyB,EAAkB+D,IAAE0D,UAAUf,GAAWvF,GAElE,IAAKixB,EACH,OAAO,KAjCsE,kBAoC5DA,EApC4D,GAoC1E11B,EApC0E,KAoCpEtD,EApCoE,KAqC/EwH,GAAY,iCAAkClE,EAAM,kBAAmBtD,GAIvEsD,EDpD2C,SAACA,EAAW21B,GACvD,GAAqB,YAAjB31B,EAAK2G,SAAyB3G,EAAKqB,SAAS0C,OAG9C,IAAK,IAAID,EAAI,EAAGA,EAAI9D,EAAKqB,SAAS0C,OAAQD,IAAK,CAC7C,IAAME,EAAQhE,EAAKqB,SAASyC,GACtBoG,EAAWlG,EAAML,WAAW,aAC9BuG,GAAYA,EAASrG,SAAS,yBAChC7D,EAAKqB,SAASyC,GAAK6xB,EAGrB31B,EAAKqB,SAASyC,GAAKE,OAIrBhE,EAAKqB,SAASpE,KAAK04B,GAGrB,OAAO31B,ECkCA41B,CAFP51B,EAAOs1B,GAAwBt1B,GAEmBy1B,GAE9CxqB,GAAS4qB,eACX5qB,GAASkC,UAAUpD,GAAc1C,IAAE0D,UAAUf,KAG/C,IAAIiI,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAKgV,MAAM,GAAI1R,GAC7CiS,EAAUlI,GAAckI,GACxBhH,GAASkC,UAAU8E,GACnBxF,EAAY,eAAKwF,KAoEb6jB,GAAS,SAAC,GASI,IACdrxB,EATJhF,EAQiB,EARjBA,OACiBs2B,EAOA,EAPjBtxB,gBACAuF,EAMiB,EANjBA,SACAyC,EAKiB,EALjBA,YACApK,EAIiB,EAJjBA,aACAM,EAGiB,EAHjBA,cACAZ,EAEiB,EAFjBA,UACAi0B,EACiB,EADjBA,SAGA,GAAIv2B,EACFgF,EAAkBF,GAAkB9E,OAC/B,KAAIs2B,EAMT,YAHA7xB,GAAA,4GAFAO,EAAkBsxB,EAOpB,IAAKtxB,EACH,OAAO,KAGT,IAAMixB,EAAmBpyB,EAAkB0G,EAAUvF,GACrD,IAAKixB,EACH,OAAO,KAlBQ,IAsBbvlB,EAtBa,YAqBaulB,EArBb,MAsBM3wB,MAAM,KACvBkxB,EAAe9lB,EAAO1E,MAC5B0E,EAASA,EAAO1F,KAAK,KACrB,IAAIzK,EAAOqH,IAAEwK,IAAI7H,EAAUmG,EAAOuB,MAAM,IAClCW,EAAa4jB,EAAKxwB,MAAM,aAE9B,GAAI4M,EAAY,CAGd,IAFA,IAAM6jB,EAAgB9uB,SAASiL,EAAW,IACtCjI,EAAc,GACTtG,EAAI,EAAG9D,GAAQA,EAAKqB,UAAYyC,EAAI9D,EAAKqB,SAAS0C,OAAQD,IAC7DA,IAAMoyB,GACR9rB,EAAYnN,KAAK+C,EAAKqB,SAASyC,IAKnC,GAAIqM,EAAQ,CACV,IAAMsC,EAAapL,IAAEwK,IAAI7H,EAAUmG,EAAOuB,MAAM,IAE5Ce,EAAW9L,SAAkC,cAAvB8L,EAAW9L,SAAkD,IAAvByD,EAAYrG,SAC1EqG,EAAc1D,IAIlB1G,EAAKqB,SAAW+I,EAGlBrI,EAAU,MACV,IAAMkQ,EAAU5K,IAAEC,IAAI0C,EAAUmG,EAAOuB,MAAM,GAAI1R,GAC7CiS,GACF5P,GAAa,GACbM,GAAc,GACd8J,EAAY,eAAKwF,IAKZ+jB,GACH/qB,GAASkC,UAAU8E,IAGrB/N,GAAY,gDA+BViyB,GAAO,SAAC,GAAwG,IAAtGnsB,EAAqG,EAArGA,SAAUjI,EAA2F,EAA3FA,UAAW0K,EAAgF,EAAhFA,YAAa9J,EAAmE,EAAnEA,cAAeN,EAAoD,EAApDA,aAAc5C,EAAsC,EAAtCA,OAAQwF,EAA8B,EAA9BA,aAC/EY,EAAmBnB,GAAqBjF,EAAQA,EAAOkF,WACzDyxB,EAAyB,GACzB5uB,GAAS,EAEb,GAAI3B,EAAkB,CACpB,IAAMwB,EjCxJwB,SAAC4I,EAAmBjG,EAAenE,GACnE,IAAI2B,GAAS,EACT2I,EAASF,EAAKzL,QAAQ,aAO1B,IALI2L,IAAWF,IACbE,EAASF,EAAKG,gBAIE,IAAX5I,GAAgB2I,GAAQ,CAC7B,IAAMimB,EAAyB1xB,GAAqByL,EAAQA,EAAOxL,WACnE,GAAIyxB,EAAwB,CAC1B,IAAI1yB,EAAUJ,EAAkB0G,EAAUosB,GAC1C,GAAI1yB,EAAS,CAAC,IAAD,EACCA,EAEZ,GAFCA,EADU,qBAGI,KADf8D,EAAQ5B,GAAgClC,EAAQrC,SAAUwE,IAExD,OAKN,IAAMwwB,EAAclmB,EAAO3L,QAAQ,aAC/B6xB,GAAeA,IAAgBlmB,EAC7BA,EAAOC,gBACTD,EAASA,EAAOC,cAAc5L,QAAQ,cAGxC2L,EAASkmB,EAKb,MAAO,CAAC7uB,EADiB2I,GAAUA,EAAOxL,UAAYD,GAAqByL,EAAQA,EAAOxL,WAAa,MiCwH3F2xB,CAA0B72B,EAAQuK,EAAUnE,GACtD,IAAIwB,GAAqB,kBAATA,EAAE,IAAmC,kBAATA,EAAE,GAI5C,YADAmG,IAAQnJ,MAAM,0BAHgD,IAAD,cAC3BgD,EAD2B,GAC5DG,EAD4D,KACrD4uB,EADqD,KAQjE,IAAIG,EAAejzB,EAAkB0G,EAAUnE,GAC/C,GAAI0wB,GAAgB/uB,GAAS,EAAG,CAAC,IAAD,EACb+uB,EAKjB,OALCA,EAD6B,oBAE9B5zB,GAAc,GACdN,GAAa,GACbN,EAAU,MAnLK,SAAC,GAOI,IANtByzB,EAMqB,EANrBA,cACA/oB,EAKqB,EALrBA,YACAzC,EAIqB,EAJrBA,SACA5E,EAGqB,EAHrBA,IACAoxB,EAEqB,EAFrBA,4BACAhvB,EACqB,EADrBA,MAEI/C,EAAkB+xB,EAEtB,IAAK/xB,EAAiB,CACpB,IAAMyX,EAAkBnS,GAAcC,GAEtC,OADAyC,EAAY,eAAKyP,IACV,KAGT,IAAIuZ,EAAuBpuB,IAAE0D,UAAUyqB,GACvCC,EAAuBzwB,GAA4BywB,EAAsBrwB,GAEzE,IAAMswB,EAAmBpyB,EAAkB0G,EAAUvF,GAErD,IAAKixB,EACH,OAAO,KAfY,kBAkBFA,EAlBE,GAkBhB11B,EAlBgB,KAkBVtD,EAlBU,KAwBrB,GALAwH,GAAY,iCAAkClE,EAAM,kBAAmBtD,GAEvEsD,EAAOs1B,GAAwBt1B,GAG3BwH,GAAS,EACX,IAAK,IAAI1D,EAAI,EAAG9D,GAAQA,EAAKqB,UAAYyC,EAAI9D,EAAKqB,SAAS0C,OAAQD,IAC7DA,IAAM0D,GACRxH,EAAKqB,SAASo1B,OAAO3yB,EAAG,EAAG2xB,GAIjC,IAAIxjB,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAKgV,MAAM,GAAI1R,GAC7CiS,EAAUlI,GAAckI,GAExBhH,GAASkC,UAAU8E,GACnBxF,EAAY,eAAKwF,IA2IRykB,CAAW,CAChBlB,cAAenuB,IAAE0D,UAAUwrB,GAC3B9pB,cACAzC,WACA5E,IAAKH,EACLuC,QACAgvB,4BAA6BJ,MCjR7BO,GAAe,SAAfA,EAAgB1mB,GACpB,GAAsB,IAAlBA,EAAK4kB,SACP,OAAO5kB,EAGT,IAAK,IAAInM,EAAI,EAAGmM,EAAKwkB,YAAc3wB,EAAImM,EAAKwkB,WAAW1wB,OAAQD,IAAK,CAClE,IAAM8yB,EAAWD,EAAa1mB,EAAKwkB,WAAW3wB,IAC9C,GAAI8yB,EACF,OAAOC,GAAqBD,KAK5BC,GAAuB,SAAvBA,EAAwB5mB,GAC5B,IAAKA,EACH,OAAO,KAET,GAAsB,IAAlBA,EAAK4kB,SACP,OAAOgC,EAAqB5mB,EAAK6mB,YAGnC,IAAMpzB,EAAUuM,EAEhB,OAAyB,IAArBvM,EAAQmxB,SACSnxB,EAAQc,QAAQ,OAI9Bd,G,qBC1BIqzB,GAAel2B,wBAAmB,MAElCm2B,GAAkB,SAACj2B,GAAW,IAAD,EACFc,oBAAS,GADP,mBACjCo1B,EADiC,KACpBC,EADoB,OAEFr1B,mBAAc,MAFZ,mBAEjCs1B,EAFiC,KAEpBC,EAFoB,OAGZv1B,mBAAS,GAHG,mBAGjCw1B,EAHiC,KAGzBC,EAHyB,OAIZz1B,mBAAS,GAJG,mBAIjC01B,EAJiC,KAIzBC,EAJyB,KAMxC,OACE,cAACT,GAAa71B,SAAd,CACET,MAAO,CACLw2B,cACAC,iBACAC,cACAC,iBACAC,SACAE,SACAD,YACAE,aATJ,SAYGz2B,EAAMM,YCpBAo2B,GAAiB,WAE5B,OADcl2B,qBAAWw1B,K,0CCedW,GAAS,WAAO,IAAD,EACiDr0B,IAA9CjB,GADH,EAClBpB,IADkB,EACbkC,SADa,EACHlB,EADG,EACAE,EADA,EACGE,WAAWE,EADd,EACcA,KAAME,EADpB,EACoBA,KAAMH,EAD1B,EAC0BA,aAAce,EADxC,EACwCA,KADxC,EAEQkM,KAA1BtF,EAFkB,EAElBA,SAAUyC,EAFQ,EAERA,YAFQ,EAGI4C,KAAtBlP,EAHkB,EAGlBA,OAAQ4B,EAHU,EAGVA,UAHU,EAI8C01B,KAAhER,EAJkB,EAIlBA,YAA6BG,GAJX,EAILC,OAJK,EAIGE,OAJH,EAIWH,gBAC/BD,GALoB,EAI2BD,eAC/BO,KAAhBN,aACEz0B,EAA4CU,EAA5CV,WAAYC,EAAgCS,EAAhCT,cAAeC,EAAiBQ,EAAjBR,MAAOE,EAAUM,EAAVN,MAClCtB,EAAUm2B,IAAVn2B,MAERmL,qBAAU,WACR,GAAIwqB,EAAa,CACf,IAAMtyB,EAAaH,GAAqBvE,EAAQA,EAAOwE,WACvDwyB,EAAYS,GAAG,eAAe,WAC5B,IAAMC,EAASV,EAAYW,UAAUC,WAAWve,UAEhD,GADAtV,EAAW2zB,GACPhzB,EAAY,CACd,IAAIjF,EAAW0D,EAAkB0G,EAAUnF,GAC3C,GAAIjF,EAAU,CAAC,IACNlD,EADK,YACGkD,EADH,MAERI,EAAOqH,IAAEwK,IAAI7H,EAAUtN,EAAKgV,MAAM,IACtC1R,EAAK6G,QAAUgxB,EACf,IAAM5lB,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAKgV,MAAM,GAAI1R,GAC/CyM,EAAY,eAAKwF,SAKzB,OAAO,kBAAMklB,GAAeA,EAAYa,IAAI,kBAC3C,CAACb,IAEJxqB,qBAAU,WACR,GAAIxM,GAAU82B,EAAa,CACzB,IAAIL,EAAWD,GAAax2B,GAO5B,GALIg3B,GAEFA,EAAYa,IAAI,eAGdpB,EAAU,CAEZ,KAAOA,EAASxmB,cAAczL,UAAUiwB,SAAS,iBAAmBgC,EAASqB,aAAa,eACxFrB,EAAWA,EAASxmB,cAElBwmB,EAASjyB,UAAUiwB,SAAS,kBAC9BgC,EAASjyB,UAAUuzB,OAAO,gBAC1BtB,EAASjyB,UAAUuzB,OAAO,YAG5B,IAAIC,EAAc,IAAIC,KAAMxB,EAAU,CAAEyB,MAAO,OAAQC,QAAS,CAAE3hB,QAAS,uBAK3EwhB,EAAOI,UAAU,WAAWT,UAAUrD,WAAW5d,SAAQ,SAACnT,GACxD,IAAM80B,EAAQ90B,EAAQ+0B,WAAU,GAChC/0B,EAAQozB,WAAW4B,aAAaF,EAAO90B,MAGzC,IAAIiT,EAAUwhB,EAAOI,UAAU,WAE/B5hB,EAAQmhB,UAAUrD,WAAW5d,SAAQ,SAACvO,GACpCqO,EAAQgiB,OAAOrwB,KACdqO,GAEHygB,EAAee,GACfA,EAAOlhB,OAAO2hB,OAAOC,QAAQl0B,UAAUuzB,OAAO,aAG9CC,EAAOL,UAAUz2B,SAAS,GAAG62B,SAC7BC,EAAOL,UAAUz2B,SAAS,GAAG62B,SAC7BC,OAAS10B,MAGZ,CAACtD,IAEJ,IAAM24B,EAAgBhe,mBACpB,kBAAM,WACA3a,GAEF21B,GAAO,CAAEr2B,OAAQU,EAAQ6J,WAAUyC,cAAapK,eAAcN,YAAWY,qBAG7E,CAACxC,IAiBH,OACE,qCAsDE,cAAC,GAAD,CACErD,MAAO,CACL2a,OAAQ,IACRzP,QAAS5F,EAAY,QAAU,OAC/BxC,SAAU,QACVmR,KAAK,GAAD,OAAKzO,EAAL,MACJzC,IAAI,GAAD,OAAK2C,EAAL,OAELs2B,cAAeA,IAEjB,cAAC,GAAD,CACE97B,QAhFa,WACbmD,GACF44B,GAAc,CACZ/uB,WACAjI,YACA0K,cACA9J,gBACAN,eACA5C,OAAQU,EACR8E,aAAczD,KAwEd1E,MAAO,CACL2a,OAAQ,IACRzP,QAAStF,EAAa,QAAU,OAChC9C,SAAU,QACVmR,KAAK,GAAD,OAAKnO,EAAL,MACJ/C,IAAI,GAAD,OAAKiD,EAAL,aAYPk2B,GAAS,SAAC,GAA2C,IAAzCl8B,EAAwC,EAAxCA,MAAOg8B,EAAiC,EAAjCA,cACvB,OACE,cAAC,KAAD,CAAY1gB,UAAU,QAAQ/J,MAAM,iBAAiBG,OAAO,SAASC,WAAW,SAASwqB,UAAWH,EAApG,SACE,cAAC,IAAD,CAAQh8B,MAAOA,EAAOK,KAAK,UAAUmR,KAAM,cAAC,KAAD,SAU3C6nB,GAAO,SAAC,GAAmC,IAAjCr5B,EAAgC,EAAhCA,MAAOE,EAAyB,EAAzBA,QACrB,OAAO,cAAC,IAAD,CAAQF,MAAOA,EAAOE,QAASA,EAASG,KAAK,UAAUmR,KAAM,cAAC,KAAD,O,+CChNhE4qB,GAAW,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,aAAcC,EAAkC,EAAlCA,aAChC,OACE,sBAAKt8B,MAAO,CAAE8C,SAAU,QAAS9B,QAAS,MAAOkK,QAAS,OAAQgS,cAAe,SAAUC,OAAQ,OAAnG,UACE,cAAC,KAAD,CAASof,gBAAiB,GAAK7lB,MAAM,OAAOnF,MAAM,OAAO+J,UAAU,QAAnE,SACE,cAAC,IAAD,CACE8B,SAAUjP,GAAS4qB,cACnB74B,QAASm8B,EACTh8B,KAAK,UACLD,KAAK,QACLJ,MAAO,CAAE4e,WAAY,QACrBpN,KAAM,cAACgrB,GAAA,EAAD,QAIV,cAAC,KAAD,CAASD,gBAAiB,GAAK7lB,MAAM,OAAOnF,MAAM,OAAO+J,UAAU,QAAnE,SACE,cAAC,IAAD,CACE8B,SAAUjP,GAASsuB,cACnBv8B,QAASo8B,EACTj8B,KAAK,UACLL,MAAO,CAAE4e,WAAY,QACrBxe,KAAK,QACLoR,KAAM,cAACkrB,GAAA,EAAD,YCRVC,GAAkBp9B,YAAO,MAAPA,CAAH,kGAQRq9B,GAAO,SAAC34B,GAAsB,IAAD,EACNuO,KAA1BtF,EADgC,EAChCA,SAAUyC,EADsB,EACtBA,YACVjL,EAAUF,IAAVE,MAFgC,EAGV6N,KAAtBtN,EAHgC,EAGhCA,UAAW5B,EAHqB,EAGrBA,OAHqB,EAQpCkD,IAHFhB,EALsC,EAKtCA,aACAe,EANsC,EAMtCA,KANsC,IAOtCD,KAAQF,EAP8B,EAO9BA,YAAaD,EAPiB,EAOjBA,SAEfL,EAAkBS,EAAlBT,cAERgK,qBAAU,WACR1B,GAAS0uB,UACR,CAAC3vB,IAEJ,IAmBM+R,EAAaT,uBACjB,SAACvV,GACK5F,GACF4B,EAAU,MAEZgE,EAAEkN,mBAEJ,CAAClR,EAAW5B,IA+Bd,OACE,eAAC,IAAD,CAAYrD,MAAO,CAAEa,OAAQ,QAA7B,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CAAUw7B,aA7DO,WACnB,IAAM/tB,EAASH,GAASS,WAAW1B,GAC/BoB,IACFqB,EAAY,eAAKrB,IACjBrJ,EAAU,MACVM,GAAa,GACbM,GAAc,KAuDwBy2B,aApDrB,WACnB,IAAMhuB,EAASH,GAASU,WAAW3B,GAC/BoB,IACFrJ,EAAU,MACV0K,EAAY,eAAKrB,IACjB/I,GAAa,GACbM,GAAc,OA+Cd,cAAC82B,GAAD,CACE78B,UAAS,UAAK2N,KAAIqvB,WAAT,6CACTC,OAnCS,SAAC9zB,GACdA,EAAEkN,iBACFjQ,GAAYC,GAAY,GACxB,IAAI+C,EAASM,KAAK2G,MAAMlH,EAAEE,aAAa6zB,QAAQ,WAC3C9zB,GAAUA,EAAO0W,MAAwB,SAAhB1W,EAAO0W,MAAmB1W,EAAM,SAE3D8vB,GAAO,CACLrxB,gBAAiBuB,EAAOvB,gBACxBuF,WACAyC,cACA1K,YACAM,eACAM,gBACAqzB,UAAU,IAEZ9xB,GAAA,kFACc8B,EAAOvB,gBADrB,MAEAuB,EAASA,EAAM,QAEjBuvB,GAAI,CACF91B,OAAQsG,EAAEkW,YAAYxc,OACtB+1B,cAAexvB,EACfgE,WACAyC,cACArH,IAAK5D,KAYHua,WAAYA,EAHd,SAKE,cAACge,GAAD,CAAeC,KAAMhwB,EAAUhH,SAAUA,UAM3C+2B,GAAgBjrB,gBAAK,YAA2D,IAAxDkrB,EAAuD,EAAvDA,KAAuD,EAAjDh3B,SAClC,OAAOg3B,GT7GoB,SAACzgB,GAC5B,GAAoB,kBAATA,EAET,OADArV,EAAa,oCACN+vB,IAAMxY,cAAc,MAAO,GAAI,oCAGxC,IAAIwe,EAAMrG,GAAUsG,gBAAgB3gB,EAAM,aAE1C,OAAY,OAAR0gB,GACF/1B,EAAa,mDACN+vB,IAAMxY,cAAc,IAAK,GAAI,qCAE/BqY,GAAUmG,EAA+B,GSiGjCE,CAAcC,KAAUJ,GAAMzgB,S,+FC3GlC8gB,GAAQ,WAAO,IAAD,EACD5lB,GAAc,CAAEC,UAHxB,UAES,mBAClBG,EADkB,KACTnY,EADS,OAES4S,KAA1BtF,EAFiB,EAEjBA,SAAUyC,EAFO,EAEPA,YACVtM,EAAWkP,KAAXlP,OAEFnD,EAAU,SAACkC,GACf,GAAIiB,GAAU0U,GAAWnY,EAAM,CAC7B,IAAIsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GAC3B,GAAIsD,GAAQA,EAAK2D,YAAc3D,EAAK2D,WAAY,CAC9C3D,EAAK2D,WAAL,MAA2BzE,EAC3B,IAAM+S,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAMsD,GACtCyM,EAAY,eAAKwF,OAKvB,OAAO4C,EACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAKylB,KAAK,IAAV,SACE,cAAC,KAAKC,KAAN,CAAWrZ,MAAM,YAEnB,cAAC,IAAD,CAAKoZ,KAAK,IAAV,SACE,eAAC,IAAD,CAAKn7B,QAAQ,gBAAb,UACE,cAAC,KAAD,CAASkP,MAAM,OAAf,SACE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,SAASG,KAAK,QAAQmR,KAAM,cAAC,KAAD,QAG7D,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,UAAf,SACE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,YAAYG,KAAK,QAAQmR,KAAM,cAAC,KAAD,UAIlE,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,SAAf,SACE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,WAAWG,KAAK,QAAQmR,KAAM,cAAC,KAAD,UAIjE,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,QAAf,SACE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,UAAUG,KAAK,QAAQmR,KAAM,cAAC,KAAD,kBAMpE,MC1COksB,GAAa,SAAC,GAA+D,IAA7DC,EAA4D,EAA5DA,WAAYvZ,EAAgD,EAAhDA,MACjCxM,EADiF,EAAzCgmB,mBAP9B,mBAOuE,EAErDprB,KAA1BtF,EAF+E,EAE/EA,SAAUyC,EAFqE,EAErEA,YAFqE,EAG3D5K,oBAAS,kBAAM,KAH4C,mBAGhF1B,EAHgF,KAGxE4B,EAHwE,OAI7DF,oBAAS,iBAAM,UAJ8C,mBAIhF2R,EAJgF,KAIzEC,EAJyE,OAK/DgB,GAAc,CAAEC,YAAWE,WAAY6lB,IALwB,mBAKhF5lB,EALgF,KAKvEnY,EALuE,KAOvFiQ,qBAAU,WACR,GAAIkI,GAAWnY,EAAM,CACnB,IAAMsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GACzBsD,GAAQA,EAAK2D,YAAc3D,EAAK2D,WAAW+Q,IAC7CjB,EAASzT,EAAK2D,WAAW+Q,IAG7BxQ,EAAW,wBAAyBxH,EAAMmY,KACzC,CAACnY,EAAMmY,IAcV,OAAOA,EACL,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKylB,KAAK,OAAV,SACE,cAAC,KAAKC,KAAN,CAAWrZ,MAAOA,GAAgB,iBAGpC,eAAC,GAAD,CAAa1N,MAAOA,EAAO8mB,KAAK,OAAhC,UACE,qBAAK19B,UAAU,SAASI,QAAS,kBAAM+E,GAAU,IAAjD,SACE,qBAAKnF,UAAU,YAEhBuD,EACC,sBAAKvD,UAAU,UAAf,UACE,qBAAKA,UAAU,QAAQI,QAAS,kBAAM+E,GAAU,MAChD,cAAC,KAAD,CAAc6R,cAAc,EAAOJ,MAAOA,EAAOK,SAAU,SAACL,GAAD,OA1B7C,SAACA,GACzB,IAAMM,EAAO,UAAMN,EAAMO,KAAZ,OAAkBC,GAAaR,EAAMS,IAAInH,IAEtD,GADA2G,EAASK,GACLpX,GAAQmY,EAAS,CACnB,IAAInR,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAW+Q,GAAaZ,EAChC,IAAI+B,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAEjC+I,EAAY,eAAKoJ,KAkBkEzB,CAAkBZ,SAE7F,aAIR,MAGAQ,GAAe,SAACK,GAAD,OAA8B,IAAVA,EAAc,KAAOC,KAAKC,MAAM,IAAMF,GAAOG,SAAS,KAEzFnB,GAAchX,YAAOs+B,IAAPt+B,CAAH,wgBAKC,SAAC0E,GAAD,OAAWA,EAAMyS,SC9DtBonB,GAAS,SAAC,GAAwD,IAAtDH,EAAqD,EAArDA,WAAYvZ,EAAyC,EAAzCA,MAC/B2Z,EADwE,EAAlCC,gBAR1B,SAQ4D,EAEpDrmB,GAAc,CAAEC,UAAWmmB,EAAejmB,WAAY6lB,IAFF,mBAErE5lB,EAFqE,KAE5DnY,EAF4D,OAG1C4S,KAA1BtF,EAHoE,EAGpEA,SAAUyC,EAH0D,EAG1DA,YACVyI,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWmmB,IAAlD3lB,SAJoE,EAMlDrT,mBAAS,IANyC,mBAMrEpB,EANqE,KAM9D8U,EAN8D,KAQ5E5I,qBAAU,WACJkI,GACFU,EAASL,OAEV,CAACL,IAaJ,OAAOA,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAOA,GAAgB,SAAlC,SACE,cAAC,KAAD,CAAOrN,SAbU,SAAC9N,GAEpB,GADAwP,EAASxP,EAAEtG,OAAOgB,OACdoU,GAAWnY,GAAQqJ,EAAEtG,OAAOgB,MAAO,CACrC,IAAIoV,EACAnS,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAWk3B,GAAiB90B,EAAEtG,OAAOgB,MAC7CoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,MAMcpV,MAAOA,EAAOs6B,UAAWA,OAExD,MAGAA,GAAY,SAACh1B,GACoB,IAAjCA,EAAEqL,cAAc3Q,MAAMsD,QAA0B,cAAVgC,EAAE9F,MAC1C8F,EAAEqL,cAAc3Q,MAAQ,KC3CtB0U,GAAY,gBAML6lB,GAAe,SAAC,GAAuC,IAArCP,EAAoC,EAApCA,WAAoC,EAC/BnrB,KAA1BtF,EADyD,EACzDA,SAAUyC,EAD+C,EAC/CA,YAD+C,EAEzCgI,GAAc,CAAEC,UAAWS,GAAWP,WAAY6lB,IAFT,mBAE1D5lB,EAF0D,KAEjDnY,EAFiD,KAa3D6Y,EAAW,SAAC9U,GAChB,GAAI/D,EAAM,CACM,KAAV+D,IACFA,EAAQ,QAEV,IAAIiD,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAWwR,iBAAa1U,EAChC,IAAMoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GACnC+I,EAAY,eAAKoJ,MA4BjBpV,EAAQ,GAKZ,OAJIoU,IACFpU,EAAQ4G,IAAEwK,IAAI7H,EAAUtN,EAAO,6BAG1BmY,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,gBAAjB,SACE,cAAC,KAAD,CAAOrN,SApDU,SAAC9N,GAChB8O,GAAW9O,EAAEtG,OAAOgB,QACC,KAAnBsF,EAAEtG,OAAOgB,QACXsF,EAAEtG,OAAOgB,MAAQ,QAEnB8U,EAASxP,EAAEqL,cAAc3Q,SA+CMA,MAAOA,EAAOs6B,UA/B/B,SAACh1B,GAKjB,GAJqC,IAAjCA,EAAEqL,cAAc3Q,MAAMsD,QAA0B,cAAVgC,EAAE9F,MAC1C8F,EAAEqL,cAAc3Q,MAAQ,KAGZ,YAAVsF,EAAE9F,KAA+B,cAAV8F,EAAE9F,OAC3B8F,EAAEkN,iBACE4B,GAAS,CACX,IACIpU,EADe4G,IAAEwK,IAAI7H,EAAUtN,EAAO,cACnB,iBAEjB+I,EADK,IAAIw1B,OAAO,QACLC,KAAKz6B,GAClB06B,EAAe11B,EAAQ2B,SAAS3B,EAAM,IAAM,EAClC,YAAVM,EAAE9F,IACJQ,EAAQA,EAAMiF,QAAQ,OAAQy1B,EAAe,GAC1B,cAAVp1B,EAAE9F,KAAuBk7B,EAAe,IACjD16B,EAAQA,EAAMiF,QAAQ,OAAQy1B,EAAe,IAE/Cp1B,EAAEqL,cAAc3Q,MAAQA,EACxB8U,EAAS9U,SAcX,MC3DA0U,GAAY,6BAELimB,GAAsB,WAAO,IAAD,EACL9rB,KAA1BtF,EAD+B,EAC/BA,SAAUyC,EADqB,EACrBA,YADqB,EAEX5K,oBAAS,kBAAM,KAFJ,mBAEhC1B,EAFgC,KAExB4B,EAFwB,OAGbF,oBAAS,iBAAM,UAHF,mBAGhC2R,EAHgC,KAGzBC,EAHyB,KAIvB4nB,EAAYhsB,KAApBlP,OAJ+B,EAKfsU,GAAc,CAAEC,UAAWS,KALZ,mBAKhCN,EALgC,KAKvBnY,EALuB,KAOvCiQ,qBAAU,WACR,GAAI0uB,GAAWxmB,EACb,IACE,GAAInY,EAAM,CACR,IAAIsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GACvBsD,EAAK+G,kBAAkBlD,SAASsR,KAClC1B,EAASzT,EAAK2D,WAAWwR,gCAG7B,MAAOpP,GACP7B,GAAY,uCAAwC6B,MAGvD,CAACs1B,IAcJ,OAAOxmB,EACL,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKylB,KAAK,OAAV,SACE,cAAC,KAAKC,KAAN,CAAWrZ,MAAM,2BAGnB,eAAC,GAAD,CAAa1N,MAAOA,EAAO8mB,KAAK,OAAhC,UACE,qBAAK19B,UAAU,SAASI,QAAS,kBAAM+E,GAAU,IAAjD,SACE,qBAAKnF,UAAU,YAEhBuD,EACC,sBAAKvD,UAAU,UAAf,UACE,qBAAKA,UAAU,QAAQI,QAAS,kBAAM+E,GAAU,MAChD,cAAC,KAAD,CAAc6R,cAAc,EAAOJ,MAAOA,EAAOK,SAAU,SAACL,GAAD,OA1B7C,SAACA,GACzB,IAAMM,EAAO,UAAMN,EAAMO,KAAZ,OAAkBC,GAAaR,EAAMS,IAAInH,IAEtD,GADA2G,EAASK,GACLpX,GAAQmY,EAAS,CACnB,IAAInR,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAW,8BAAgCmQ,EACnD,IAAI+B,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAEjC+I,EAAY,eAAKoJ,KAkBkEzB,CAAkBZ,SAE7F,aAIR,MAGAQ,GAAe,SAACK,GAAD,OAA8B,IAAVA,EAAc,KAAOC,KAAKC,MAAM,IAAMF,GAAOG,SAAS,KAEzFnB,GAAchX,YAAOs+B,IAAPt+B,CAAH,wgBAKC,SAAC0E,GAAD,OAAWA,EAAMyS,SCrE7B8nB,GAAW,UAEJC,GAAU,WAAO,IAAD,EACH9mB,GAAc,CAAEE,SAAU2mB,KADvB,mBACpBzmB,EADoB,KACXnY,EADW,OAEO4S,KAA1BtF,EAFmB,EAEnBA,SAAUyC,EAFS,EAETA,YAFS,EAGD5K,mBAAS,IAHR,mBAGpBpB,EAHoB,KAGb8U,EAHa,OAIS1T,mBAAyB,MAJlC,mBAIpB25B,EAJoB,KAIRC,EAJQ,OAKO55B,oBAAS,GALhB,mBAKpB65B,EALoB,KAKTC,EALS,KAMRtsB,KAAXlP,OAERwM,qBAAU,WACR,GAAIkI,GAAWnY,EAAM,CACnB,IAAIsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GAC3B,GAAIsD,EAAM,CAIR,GAHAuV,EAASvV,EAAK6G,QAAU7G,EAAK6G,QAAU,IAGlB,YAAjB7G,EAAK2G,QAAuB,CAC9B,GAAI3G,EAAK2D,YAAc3D,EAAK2D,WAAW,cAAgB3D,EAAK2D,WAAW,aAAaE,SAAS,cAG3F,OAFA43B,GAAc,QACdE,GAAa,GAGfF,GAAc,QAEdA,GAAc,GAEhBE,GAAa,OAGhB,CAAC9mB,EAASnY,IAEb,IAAM4W,EAAe,SAACvN,GACpB,IAAItF,EAAQsF,EAAEqL,cAAc3Q,MAE5B,GADA8U,EAAS9U,GACL/D,GAAQmY,EAAS,CACnB,IAAInR,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAE9B,GAAIgH,GACEA,EAAO,UAAejD,EAAO,CAC/BiD,EAAO,QAAajD,EACpB,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAMgH,GACtC+I,EAAY,eAAKwF,OAMzB,OAAO4C,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,UAAjB,SACGwa,EACC,cAAC,KAAME,SAAP,CAAgBxY,KAAM,GAAIvP,SAAUP,EAAc7S,MAAOA,IAEzD,cAAC,KAAMm7B,SAAP,CACE1hB,SAAUshB,IAA0B,EACpCK,SAAUL,IAA0B,EACpCpY,KAAM,EACNvP,SAAUP,EACV7S,MAAOA,MAIX,MC7DOq7B,GAAiB,SAAC,GAAyC,IAAvCrB,EAAsC,EAAtCA,WAAsC,EACnCnrB,KAA1BtF,EAD6D,EAC7DA,SAAUyC,EADmD,EACnDA,YADmD,EAE7CgI,GAAc,CAAEC,UAAW,aAAcE,WAAY6lB,IAFR,mBAE9D5lB,EAF8D,KAErDnY,EAFqD,KAI/D4W,EAAe,SAACvN,EAAwCkhB,GACxDpS,GAAWnY,GAAQqJ,EAAEtG,OAAOgB,QACP,KAAnBsF,EAAEtG,OAAOgB,QACXsF,EAAEtG,OAAOgB,MAAQ,IAEnB8U,EAAS0R,EAAWlhB,EAAEtG,OAAOgB,SAI3B8U,EAAW,SAAC0R,EAAmBxmB,GACnC,GAAI/D,EAAM,CACM,KAAV+D,IACFA,EAAQ,QAEV,IAAIiD,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAR,iBAA6BsjB,IAAexmB,EAC5C,IAAMoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GACnC+I,EAAY,eAAKoJ,MAIfklB,EAAY,SAACh1B,EAA0CkhB,GAK3D,GAJqC,IAAjClhB,EAAEqL,cAAc3Q,MAAMsD,QAA0B,cAAVgC,EAAE9F,MAC1C8F,EAAEqL,cAAc3Q,MAAQ,KAGZ,YAAVsF,EAAE9F,KAA+B,cAAV8F,EAAE9F,OAC3B8F,EAAEkN,iBACE4B,GAAS,CACX,IACIpU,EADe4G,IAAEwK,IAAI7H,EAAUtN,EAAO,cACnB,UAAYuqB,GAE7BxhB,EADK,IAAIw1B,OAAO,QACLC,KAAKz6B,GAClB06B,EAAe11B,EAAQ2B,SAAS3B,EAAM,IAAM,EAClC,YAAVM,EAAE9F,IACJQ,EAAQA,EAAMiF,QAAQ,OAAQy1B,EAAe,GAC1B,cAAVp1B,EAAE9F,KAAuBk7B,EAAe,IACjD16B,EAAQA,EAAMiF,QAAQ,OAAQy1B,EAAe,IAE/Cp1B,EAAEqL,cAAc3Q,MAAQA,EAExB8U,EAAS0R,EAAWlhB,EAAEqL,cAAc3Q,SAKrCs7B,EAAmC,GAA3BC,EAA+B,GAAvBC,EAA2B,GAAnBC,EAAuB,GAQpD,OAPIrnB,IACFknB,EAAS10B,IAAEwK,IAAI7H,EAAUtN,EAAO,0BAChCs/B,EAAS30B,IAAEwK,IAAI7H,EAAUtN,EAAO,2BAChCw/B,EAAS70B,IAAEwK,IAAI7H,EAAUtN,EAAO,yBAChCu/B,EAAS50B,IAAEwK,IAAI7H,EAAUtN,EAAO,6BAG3BmY,EACL,eAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,oBAAjB,UACE,cAAC,KAAMib,MAAP,CAAar/B,MAAO,CAAEs/B,aAAc,OAApC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKh9B,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE9V,YAAY,MACZilB,UAAW,SAACh1B,GAAD,OAAOg1B,EAAUh1B,EAAG,QAC/B8N,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,QACjCtF,MAAOy7B,MAGX,cAAC,IAAD,CAAK98B,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE9V,YAAY,QACZilB,UAAW,SAACh1B,GAAD,OAAOg1B,EAAUh1B,EAAG,UAC/B8N,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,UACjCtF,MAAOu7B,WAKf,cAAC,KAAMG,MAAP,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAK/8B,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE9V,YAAY,SACZilB,UAAW,SAACh1B,GAAD,OAAOg1B,EAAUh1B,EAAG,WAC/B8N,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,WACjCtF,MAAOw7B,MAIX,cAAC,IAAD,CAAK78B,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE9V,YAAY,OACZilB,UAAW,SAACh1B,GAAD,OAAOg1B,EAAUh1B,EAAG,SAC/B8N,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,SACjCtF,MAAOs7B,cAMf,MCxGA5mB,GAAY,YAELknB,GAAW,WAAO,IAAD,EACJ5nB,GAAc,CAAEC,UAAWS,KADvB,mBACrBN,EADqB,KACZnY,EADY,OAEM4S,KAA1BtF,EAFoB,EAEpBA,SAAUyC,EAFU,EAEVA,YACVyI,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWS,KAAlDD,SAaR,OAAOL,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,WAAjB,SACE,cAAC,KAAD,CAAOrN,SAbU,SAAC9N,GACpB,IAAItF,EAAQsF,EAAEqL,cAAc3Q,MAC5B,GAAI/D,GAAQmY,EAAS,CACnB,IAAIgB,EACAnS,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAWwR,aAAa1U,EAChCoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,MAMcpV,MAAOyU,QAEtC,MCtBAC,GAAY,MAEZmnB,GAAM,WAAO,IAAD,EACQ7nB,GAAc,CAAEC,UAAWS,KADnC,mBACTN,EADS,KACAnY,EADA,OAEkB4S,KAA1BtF,EAFQ,EAERA,SAAUyC,EAFF,EAEEA,YAEVyI,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWS,KAAlDD,SAeR,OAAOL,EACL,cAAC,IAAD,UACE,cAAC,IAAD,CAAKzV,KAAM,GAAX,SACE,cAAC,KAAD,CAAO0W,YAAY,MAAMjC,SAAU,SAAC9N,GAAD,OAdpB,SAACA,GACpB,IAAItF,EAAQsF,EAAEqL,cAAc3Q,MAC5B,GAAI/D,GAAQmY,EAAS,CACnB,IAAIgB,EACAnS,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAR,IAAgClD,EAChCoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,KAO2BvC,CAAavN,IAAItF,MAAOyU,UAGpE,MCzBAC,GAAY,gBAEZonB,GAAe,WAAO,IAAD,EACH9nB,GAAc,CAAEC,UAAWS,KADxB,mBACpBN,EADoB,KACXnY,EADW,OAES4S,KAA1BtF,EAFiB,EAEjBA,SAAUyC,EAFO,EAEPA,YAFO,EAGC5K,qBAHD,mBAGlBpB,EAHkB,KAGX8U,EAHW,KAKzB5I,qBAAU,WACR,GAAIkI,GAAWnY,EAAM,CACnB,IAAMsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GACzBsD,GAAQA,EAAK2D,YAAc3D,EAAK2D,WAAWwR,kBAC7CI,EAASvV,EAAK2D,WAAWwR,qBAG5B,CAACN,EAASnY,IAEbiQ,qBAAU,WACRlM,GhB0MgB,SAAC,GAAkF,IAAhFoU,EAA+E,EAA/EA,QAASnY,EAAsE,EAAtEA,KAAMsN,EAAgE,EAAhEA,SAAUyC,EAAsD,EAAtDA,YAAaiI,EAAyC,EAAzCA,UAAWjU,EAA8B,EAA9BA,MACtE,GAAIoU,GAAWnY,EAAM,CACnB,IAAIsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,EAAMmY,GACjC,GAAI7U,GACEA,EAAI,YAAkBA,EAAI,WAAe0U,KAAejU,EAAO,CACjET,EAAI,WAAe0U,GAAajU,EAChC,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAMsD,GACtCyM,EAAY,eAAKwF,MgBjNZuqB,CAAY,CAAE3nB,UAASnY,OAAMsN,WAAUyC,cAAahM,QAAOiU,UAAWS,OAC9E,CAAC1U,IAUJ,OAAOoU,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,kBAAjB,SACE,cAAC,KAAD,CAAOrN,SAVU,SAAC9N,GACpB,IAAMtF,EAAQsF,EAAEqL,cAAc3Q,MAC9ByD,EAAW,sBAAuBzD,GAC9B/D,GAAQmY,GACVU,EAAS9U,IAMsBtD,KAAK,OAAOsD,MAAOA,MAElD,MC9BAg8B,GAAU,SAAC,GAAkC,IAAhChC,EAA+B,EAA/BA,WAA+B,EAClBhmB,GAAc,CAAEC,UAAW,UAAWE,WAAY6lB,IADhC,mBAC3C5lB,EAD2C,KAClCnY,EADkC,KAC5ByD,EAD4B,OAEdmP,KAA1BtF,EAFwC,EAExCA,SAAUyC,EAF8B,EAE9BA,YAEZ6G,EAAe,SAACvN,EAAkCkhB,GACxB,KAA1BlhB,EAAEqL,cAAc3Q,QAClBsF,EAAEqL,cAAc3Q,MAAQ,KAK1Bi8B,EAAWzV,EAAWlhB,EAAEqL,cAAc3Q,QAGlCi8B,EAAa5hB,mBACjB,kBAAM,SAACmM,EAAmBxmB,GACxB,GAAI/D,GAAQmY,EAAS,CACnB,IAAIgB,EAAO,GAEX,GAAIoR,EAAW,CACb,IAAIvjB,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAR,kBAA8BsjB,IAAexmB,EAC7CoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,SAIvB,CAAChB,EAASnY,IAKNwY,EAAW,SAAC+R,GAChB,IAAIxmB,EAAQ,GAGZ,GAAI/D,GAAQmY,GAAW1U,EAAQ,CAC7B,IAAIuD,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9B,IAAKgH,EACH,OAGF,KADAjD,EAAQiD,EAAQC,WAAaD,EAAQC,WAAR,kBAA8BsjB,IAAe,QAExExmB,EAAQiD,EAAQC,WAAR,SACG,CAAC,IAAD,EACsBlD,EAAMsE,MAAM,KADlC,mBACF43B,EADE,KACQC,EADR,KAET,OAAQ3V,GACN,IAAK,MACL,IAAK,SACH,OAAO0V,EACT,IAAK,OACL,IAAK,QACH,OAAOC,IAKjB,OAAOn8B,GAGT,OAAOoU,EACL,eAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,YAAjB,UACE,cAAC,KAAMib,MAAP,CAAar/B,MAAO,CAAEs/B,aAAc,OAApC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKh9B,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO9V,YAAY,MAAMjC,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,QAAQtF,MAAOyU,EAAS,WAEpF,cAAC,IAAD,CAAK9V,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO9V,YAAY,QAAQjC,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,UAAUtF,MAAOyU,EAAS,kBAI5F,cAAC,KAAMinB,MAAP,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAK/8B,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO9V,YAAY,SAASjC,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,WAAWtF,MAAOyU,EAAS,cAG1F,cAAC,IAAD,CAAK9V,KAAM,GAAIwsB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO9V,YAAY,OAAOjC,SAAU,SAAC9N,GAAD,OAAOuN,EAAavN,EAAG,SAAStF,MAAOyU,EAAS,oBAK1F,MCxFAC,GAAY,QAML0nB,GAAQ,SAAC,GAAsC,IAApCpC,EAAmC,EAAnCA,WAAmC,EACjChmB,GAAc,CAAEC,UAAWS,GAAWP,WAAY6lB,IADjB,mBAClD5lB,EADkD,KACzCnY,EADyC,OAGvB4S,KAA1BtF,EAHiD,EAGjDA,SAAUyC,EAHuC,EAGvCA,YAHuC,EAI/B5K,mBAAiB,IAJc,mBAIlDpB,EAJkD,KAI3C8U,EAJ2C,KAKjDL,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWS,KAAlDD,SAERvI,qBAAU,WACJkI,GACFU,EAASL,OAEV,CAACL,IAqBJ,OAAOA,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,QAAjB,SACE,cAAC,KAAD,CAAOrN,SArBU,SAAC9N,GAKpB,GAJAwP,EAASxP,EAAEtG,OAAOgB,OACK,KAAnBsF,EAAEtG,OAAOgB,OAAmC,MAAnBsF,EAAEtG,OAAOgB,QACpCsF,EAAEtG,OAAOgB,MAAQ,KAEfoU,GAAWnY,GAAQqJ,EAAEtG,OAAOgB,MAAO,CACrC,IAAIoV,EACAnS,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAR,MAAgCoC,EAAEtG,OAAOgB,MACzCoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,MAWcpV,MAAOA,EAAOs6B,UAR/B,SAACh1B,GACoB,IAAjCA,EAAEqL,cAAc3Q,MAAMsD,QAA0B,cAAVgC,EAAE9F,MAC1C8F,EAAEqL,cAAc3Q,MAAQ,SAQxB,MAGAq8B,GAAmB,SAEZC,GAAS,WAAO,IAAD,EACFtoB,GAAc,CAAEC,UAAWooB,KADzB,mBACnBjoB,EADmB,KACVnY,EADU,OAEQ4S,KAA1BtF,EAFkB,EAElBA,SAAUyC,EAFQ,EAERA,YACVyI,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWooB,KAAlD5nB,SAHkB,EAIArT,mBAAS,IAJT,mBAInBpB,EAJmB,KAIZ8U,EAJY,KAM1B5I,qBAAU,WACJkI,GACFU,EAASL,OAEV,CAACL,IAqBJ,OAAOA,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,SAAjB,SACE,cAAC,KAAD,CAAOrN,SArBU,SAAC9N,GAKpB,GAJAwP,EAASxP,EAAEtG,OAAOgB,OACK,KAAnBsF,EAAEtG,OAAOgB,OAAmC,MAAnBsF,EAAEtG,OAAOgB,QACpCsF,EAAEtG,OAAOgB,MAAQ,IAEfoU,GAAWnY,GAAQqJ,EAAEtG,OAAOgB,MAAO,CACrC,IAAIoV,EACAnS,EAAU2D,IAAEwK,IAAI7H,EAAUtN,GAC9BgH,EAAQC,WAAR,OAAuCoC,EAAEtG,OAAOgB,MAChDoV,EAAOxO,IAAEC,IAAI0C,EAAUtN,EAAMgH,GAC7B+I,EAAY,eAAKoJ,MAWcpV,MAAOA,EAAOs6B,UAR/B,SAACh1B,GACoB,IAAjCA,EAAEqL,cAAc3Q,MAAMsD,QAA0B,cAAVgC,EAAE9F,MAC1C8F,EAAEqL,cAAc3Q,MAAQ,SAQxB,M,WCxEA3D,GAAQ,CACZkL,QAAS,OACTrK,OAAQ,OACRuK,aAAc,OAGVD,GAAc,4BAEd+0B,GAAiB,WAAO,IACpB78B,EAAWkP,KAAXlP,OADmB,EAEOmP,KAA1BtF,EAFmB,EAEnBA,SAAUyC,EAFS,EAETA,YAFS,EAMvBpJ,IAFFhB,EAJyB,EAIzBA,aACQM,EALiB,EAKzBS,KAAQT,cAESs6B,EAA0BttB,KAArC5N,UACAP,EAAUF,IAAVE,MARmB,EASGK,oBAAS,GATZ,mBASpBgT,EAToB,KASXC,EATW,OAUuBjT,qBAVvB,mBAUpBq7B,EAVoB,KAUDC,EAVC,KAY3BxwB,qBAAU,WACR,GAAIxM,EAAQ,CACV,IAAMi9B,EAAU/sB,GAAqBlQ,GACrC,GAAIi9B,EAAS,CAAC,IACHv3B,EADE,YACkBu3B,EADlB,MAIX,OAFAtoB,GAAW,QACXqoB,EAAqBt3B,IAIzBiP,GAAW,KACV,CAAC3U,EAAQ0U,IAEZ,IAAMwoB,EAAc,SAACC,GACnB,GAAIzoB,GAAWqoB,EAAmB,CAChC,IAAM9jB,EAAO9V,EAAkB0G,EAAUkzB,GACzC,GAAI9jB,EAAM,CAAC,IAAD,cACaA,EADb,GACDpZ,EADC,KACKtD,EADL,KAER,GAAIsD,GAAQtD,GAAQsD,EAAKqB,UAAYi8B,EAASv5B,OAAS,EAAG,CASxD,IARA,IAAMw5B,EAAiBv9B,EAAKqB,SAAS0C,OAC/By5B,EAAgBF,EAASv5B,OAI3BqG,EAAc,GAGTtG,EAAI,EAAGA,EAAIy5B,GAAkBz5B,EAAI05B,EAAe15B,IAAK,CAC5D,IAAIE,EAAQqD,IAAE0D,UAAU/K,EAAKqB,SAASyC,IAClCE,GAASA,EAAML,aAEjBK,EAAML,WAAWiD,MAAQ02B,EAASx5B,GAClCsG,EAAYnN,KAAK+G,IAKrB,IAAK,IAAIF,EAAIy5B,EAAgBz5B,EAAI05B,EAAe15B,IAAK,CACnD,IAAI25B,EAAqBz4B,GAA4BqC,IAAE0D,UAAUjE,IAAStF,GAC1Ei8B,EAAmB95B,WAAWiD,MAAQ02B,EAASx5B,GAC/CsG,EAAYnN,KAAKwgC,GAInB,IAAMC,EAAW,2BAAQ19B,GAAR,IAAcqB,SAAU+I,IAGzClG,EAAW,kBAAmBw5B,GAE9B,IAAMzrB,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAKgV,MAAM,GAAIgsB,GAE3CzrB,IACFhH,GAASkC,UAAU8E,GACnB5P,GAAa,GACbM,GAAc,GACds6B,GAAsB,GACtBxwB,EAAY,eAAKwF,SAO3B,OAAO4C,EACL,qCACE,gCACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAO8oB,MAAO,kBAAMN,EAAY,CAAC,UAAUO,IAAK,SAElD,sBAAK9gC,MAAO,CAAE+gC,UAAW,QAAzB,UACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOF,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,QAEjE,sBAAKhhC,MAAO,CAAE+gC,UAAW,QAAzB,UACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOF,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,KACjF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,QAAS,KAAM,WAAWO,IAAK,KAAME,IAAK,EAAGC,MAAO,OACrF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,KACjF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,KACjF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,QAEnF,sBAAKjhC,MAAO,CAAE+gC,UAAW,QAAzB,UACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOF,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,GAAIC,KAAM,WAItG,qBAAKlhC,MAAO,CAAEuC,UAAW,UAAzB,2CAIE4+B,GAAQ,SAAC,GAYR,IAXLN,EAWI,EAXJA,MACAC,EAUI,EAVJA,IACAE,EASI,EATJA,IACAC,EAQI,EARJA,MACAC,EAOI,EAPJA,KAQA,OACE,qCACE,cAAC,IAAD,CAAKlhC,MAAO,CAAEs/B,aAAc,UAC5B,cAAC,GAAD,CAAcp/B,QAAS2gC,QAAgBl6B,EAAvC,SACE,qBAAK7G,UAAU,UAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBAAKE,MAAK,2BAAOA,IAAP,IAAcgL,SAAU81B,EAAK31B,YAAa61B,EAAM71B,GAAc,YACvE61B,EAAM,qBAAKhhC,MAAK,2BAAOA,IAAP,IAAcgL,SAAUg2B,EAAK71B,YAAa81B,EAAQ91B,GAAc,YAAoB,KACpG81B,EACC,qBAAKjhC,MAAK,2BAAOA,IAAP,IAAcgL,SAAUi2B,EAAO91B,YAAa+1B,EAAO/1B,GAAc,YACzE,KACH+1B,EAAO,qBAAKlhC,MAAK,2BAAOA,IAAP,IAAcgL,SAAUg2B,MAAgB,gBAQhEr2B,GAAepL,YAAOuL,IAAPvL,CAAH,+OAaZqL,GAAerL,YAAOuL,IAAPvL,CAAH,gzBClLZ8Y,GAAY,cAEV8C,GAAWimB,KAAXjmB,OAEKkmB,GAAa,WAAO,IAAD,EACN1pB,GAAc,CAAEC,UAAWS,KADrB,mBACvBN,EADuB,KACdnY,EADc,OAEI4S,KAA1BtF,EAFsB,EAEtBA,SAAUyC,EAFY,EAEZA,YACVyI,EAAaD,GAAS,CAAEvY,OAAMmY,UAASH,UAAWS,KAAlDD,SAHsB,EAIAI,KAJA,mBAIvBoB,EAJuB,KAIb0nB,EAJa,KAmB1B39B,EAAQ,GASZ,OAPIoU,GAAWnY,IACb+D,EAAQyU,MACKzU,EAAM4I,QAAQ,MAAQ,IACjC5I,EAAQA,EAAMsE,MAAM,KAAK,IAItB8P,EACL,cAAC,KAAK0lB,KAAN,CAAWrZ,MAAM,cAAjB,SACE,cAAC,KAAD,CAAQzgB,MAAO29B,EAAWvqB,SAxBT,SAACpT,GACpB,GAAIoU,GAAWnY,EAAM,CACnB,IAAIsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GAC3B,GAAIsD,EAAM,CACRA,EAAK2D,WAAW,eAAiBlD,EACjC,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAMsD,GAClCiS,GACFxF,EAAY,eAAKwF,OAiBrB,SACGyE,EAAS3W,KAAI,SAACS,GACb,OACE,cAACyX,GAAD,CAAmBxX,MAAOD,EAA1B,SACGA,GADUA,UAOnB,M,UCvCA2U,GAAY,iBAMLkpB,GAAgB,SAAC,GAAwC,IAAtC5D,EAAqC,EAArCA,WAAqC,EAC3ChmB,GAAc,CAAEC,UAAWS,GAAWP,WAAY6lB,IADP,mBAC5D5lB,EAD4D,KACnDnY,EADmD,OAEjC4S,KAA1BtF,EAF2D,EAE3DA,SAAUyC,EAFiD,EAEjDA,YACVtM,EAAWkP,KAAXlP,OAEFnD,EAAU,SAACyD,GACf,GAAIN,GAAU0U,GAAWnY,EAAM,CAC7B,IAAIsD,EAAOqH,IAAEwK,IAAI7H,EAAUtN,GAC3B,GAAIsD,GAAQA,EAAK2D,WAAY,CAC3B3D,EAAK2D,WAAWwR,kBAAa1U,EAC7B,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAUtN,EAAMsD,GACtCyM,EAAY,eAAKwF,OAKvB,OAAO4C,EACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAKylB,KAAK,OAAV,SACE,cAAC,KAAKC,KAAN,CAAWrZ,MAAM,qBAEnB,cAAC,IAAD,UACE,eAAC,IAAD,CAAK/hB,QAAQ,gBAAgBW,OAAQ,CAAC,GAAI,GAA1C,UACE,cAAC,KAAD,CAASuO,MAAM,MAAf,SACE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,QAAQG,KAAK,QAAQmR,KAAM,cAAC,4BAAD,QAG5D,cAAC,IAAD,UACE,cAAC,KAAD,CACE8J,UAAU,OACV/J,MAAM,gFAFR,SAIE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,WAAWG,KAAK,QAAQmR,KAAM,cAAC,+BAAD,UAIjE,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,SAAf,SACE,cAAC,IAAD,CAAQrR,QAAS,kBAAMA,EAAQ,WAAWG,KAAK,QAAQmR,KAAM,cAAC,+BAAD,kBAMrE,MCtDAgwB,GAAM,iBACNC,GAAO,kBACPC,GAAS,oBAETC,GAAkB,WAAO,IAAD,EACN58B,mBAAiB,IADX,mBACrBmU,EADqB,KAChB0oB,EADgB,OAEJ78B,mBAAiB,IAFb,mBAErB3E,EAFqB,KAEfyhC,EAFe,OAGA98B,mBAAiB,IAHjB,mBAGrB+8B,EAHqB,KAGbC,EAHa,OAIMvvB,KAA1BtF,EAJoB,EAIpBA,SAAUyC,EAJU,EAIVA,YAJU,EAMKgI,GAAc,CAAEC,UAAW4pB,KANhC,mBAMrBQ,EANqB,KAMNC,EANM,OAOOtqB,GAAc,CAAEC,UAAW6pB,KAPlC,mBAOrBS,EAPqB,KAOLC,EAPK,OAQUxqB,GAAc,CAAEC,UAAW8pB,KARrC,mBAQrBU,EARqB,KAQJC,EARI,KA2B5B,GAjBAxyB,qBAAU,WACR,GAAI3C,EAAU,CACZ,GAAI80B,EAAe,CACjB,IAAM9+B,EAAOqH,IAAEwK,IAAI7H,EAAU+0B,GAC7B/+B,GAAQ0+B,EAAO1+B,EAAK2D,WAAW26B,KAEjC,GAAIU,EAAgB,CAClB,IAAMh/B,EAAOqH,IAAEwK,IAAI7H,EAAUi1B,GAC7Bj/B,GAAQ2+B,EAAQ3+B,EAAK2D,WAAW46B,KAElC,GAAIW,EAAiB,CACnB,IAAMl/B,EAAOqH,IAAEwK,IAAI7H,EAAUm1B,GAC7Bn/B,GAAQ6+B,EAAU7+B,EAAK2D,WAAW66B,SAGrC,CAACM,EAAeE,EAAgBE,KAEb,IAAlBJ,IAA8C,IAAnBE,IAAgD,IAApBE,EACzD,OAAO,KAuCT,OACE,cAAC,KAAK3E,KAAN,CAAWrZ,MAAM,oBAAjB,SACE,cAAC,KAAMib,MAAP,UACE,eAAC,IAAD,CAAKr8B,OAAQ,CAAC,EAAG,GAAjB,UACGg/B,EACC,cAAC,IAAD,CAAK1/B,KAAM,GAAX,SACE,cAAC,KAAD,CAAO0W,YAAY,MAAMjC,SA1CjB,SAAC9N,GAEnB,GADA24B,EAAO34B,EAAEtG,OAAOgB,OACZq+B,GAAiBC,GAAWh5B,EAAEtG,OAAOgB,MAAO,CAC9C,IAAIT,EAAOqH,IAAEwK,IAAI7H,EAAU+0B,GAC3B,GAAI/+B,GAAQA,EAAK2D,WAAY,CAC3B3D,EAAK2D,WAAW26B,IAAOv4B,EAAEtG,OAAOgB,MAChC,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAU+0B,EAAS/+B,GACzCyM,EAAY,eAAKwF,OAmCqCxR,MAAOuV,MAEvD,KACHgpB,EACC,cAAC,IAAD,CAAK5/B,KAAM,GAAX,SACE,cAAC,KAAD,CACE0W,YAAY,OACZjC,SArCO,SAAC9N,GAEpB,GADA44B,EAAQ54B,EAAEtG,OAAOgB,OACbu+B,GAAkBC,GAAYl5B,EAAEtG,OAAOgB,MAAO,CAChD,IAAIT,EAAOqH,IAAEwK,IAAI7H,EAAU+0B,GAC3B,GAAI/+B,GAAQA,EAAK2D,WAAY,CAC3B3D,EAAK2D,WAAW46B,IAAQx4B,EAAEtG,OAAOgB,MACjC,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAUi1B,EAAUj/B,GAC1CyM,EAAY,eAAKwF,OA+BTxR,MAAOvD,EACP+b,YAAY,mCAGd,KACHimB,EACC,cAAC,IAAD,CAAK9/B,KAAM,GAAX,SACE,cAAC,KAAD,CAAO0W,YAAY,SAASjC,SAjCjB,SAAC9N,GAEtB,GADA84B,EAAU94B,EAAEtG,OAAOgB,OACfy+B,GAAmBC,GAAcp5B,EAAEtG,OAAOgB,MAAO,CACnD,IAAIT,EAAOqH,IAAEwK,IAAI7H,EAAU+0B,GAC3B,GAAI/+B,GAAQA,EAAK2D,WAAY,CAC3B3D,EAAK2D,WAAW66B,IAAUz4B,EAAEtG,OAAOgB,MACnC,IAAMwR,EAAU5K,IAAEC,IAAI0C,EAAUm1B,EAAYn/B,GAC5CyM,EAAY,eAAKwF,OA0B2CxR,MAAOm+B,EAAQ3lB,YAAY,aAEjF,aCnFNmmB,GAAYC,KAAZD,QACFE,GAAajjC,YAAOgjC,KAAPhjC,CAAH,6RAoBVkjC,GAAmB,WAAO,IACtBv1B,EAAasF,KAAbtF,SACA7J,EAAWkP,KAAXlP,OAFqB,EAGO0B,mBAAc,IAHrB,mBAGtB29B,EAHsB,KAGbC,EAHa,KA+B7B,OA1BA9yB,qBAAU,WACR,GAAIxM,EAAQ,CACV,IAAMi9B,EAAU/sB,GAAqBlQ,GACrC,GAAIi9B,EAAS,CAAC,IACHsC,EADE,YACyBtC,EADzB,MAELhkB,EAAO9V,EAAkB0G,EAAU01B,GACzC,GAAItmB,EAAM,CAAC,IAAD,cACWA,EADX,GACHpZ,EADG,KACGtD,EADH,KAIR,GAFAA,EAAOA,EAAKgV,MAAM,GAEd1R,GAAQA,EAAKqB,UAAYrB,EAAKqB,SAAS0C,OAAS,EAAG,CAErD,IADA,IAAI47B,EAAW,GACN77B,EAAI,EAAGA,EAAI9D,EAAKqB,SAAS0C,OAAQD,IACP,cAA7B9D,EAAKqB,SAASyC,GAAG6C,SACnBg5B,EAAS1iC,KAAT,UAAiBP,EAAjB,qBAAkCoH,EAAlC,MAGCuD,IAAEgE,QAAQm0B,EAASG,IACtBF,EAAiBE,SAM1B,CAACx/B,IAEGA,EACL,cAACm/B,GAAD,CAAYM,UAAQ,EAACC,iBAAiB,IAAI/iC,MAAO,CAAEa,OAAQ,QAAUmiC,wBAAwB,EAA7F,SACGN,GACCA,EAAQz/B,KAAI,SAACggC,EAAav4B,GACxB,OACE,cAAC43B,GAAD,CAASY,IAAG,iBAAYx4B,EAAQ,GAAhC,SACE,cAAC,IAAD,CAAY1K,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,sBACErC,UAAU,OACV+W,YAAa,SAAC5N,GACZkF,GAASkC,UAAUnD,IAErB+L,OAAQ,SAAChQ,GACPkF,GAASkC,UAAUnD,IANvB,UASE,cAAC,GAAD,CAAOywB,WAAYsF,IACnB,cAAC,GAAD,CAAetF,WAAYsF,IAC3B,cAAC,GAAD,CAAStF,WAAYsF,IAErB,cAAC,GAAD,CAAYtF,WAAYsF,IACxB,cAAC,GAAD,CACE7e,MAAO,oBACPwZ,kBAAkB,yBAClBD,WAAYsF,IAEd,cAAC,GAAD,CAActF,WAAYsF,IAC1B,cAAC,GAAD,CAAQtF,WAAYsF,IACpB,cAAC,GAAD,CAAgBtF,WAAYsF,UAvBQv4B,QA8BhD,MC9EE43B,GAAYC,KAAZD,QAEFE,GAAajjC,YAAOgjC,KAAPhjC,CAAH,6EAMH4jC,GAAa,WAAO,IACvBj2B,EAAasF,KAAbtF,SACA7J,EAAWkP,KAAXlP,OAFsB,EAGE0B,oBAAS,GAHX,mBAGvBmB,EAHuB,KAGbC,EAHa,KAY9B,OAPA0J,qBAAU,WACJxM,GAAUA,EAAOwE,WAAaxE,EAAOvD,UAAUiH,SAAS,cAC1DZ,GAAY,GAEdD,GAAYC,GAAY,KACvB,CAAC9C,IAGF,eAAC,GAAD,CAAY0/B,iBAAiB,IAAID,UAAQ,EAAC9iC,MAAO,CAAEa,OAAQ,QAAUmiC,wBAAwB,EAA7F,UACE,cAAC,GAAD,CAASE,IAAI,aAAb,SACE,cAAC,aAAD,CAAYljC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,qBACErC,UAAW2N,KAAI21B,KACfvsB,YAAa,SAAC5N,GACZkF,GAASkC,UAAUnD,IAErB+L,OAAQ,SAAChQ,GACPkF,GAASkC,UAAUnD,IANvB,SASGhH,EACC,sBAAKlG,MAAO,CAAEuC,UAAW,UAAzB,iEACsD,mEAGtD,qCACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CAAQ6hB,MAAM,eAAe4Z,eAAe,iBAC5C,cAAC,GAAD,CAAQ5Z,MAAM,eAAe4Z,eAAe,iBAC5C,cAAC,GAAD,CAAY5Z,MAAM,eAAewZ,kBAAkB,iBACnD,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,YApCoB,KA0C9B,cAAC,GAAD,CAASsF,IAAI,gBAAb,SACE,cAAC,aAAD,CAAYljC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,qBAAKrC,UAAW2N,KAAIi1B,QAApB,SACE,cAAC,GAAD,SAH2B,KAOjC,cAAC,GAAD,CAASQ,IAAI,oBAAb,SACE,cAAC,aAAD,CAAYljC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,cAAC,GAAD,OAFiC,S,gCChG9BkhC,GAAY,SAAC,GAAkE,IAAhEzkB,EAA+D,EAA/DA,WAAYwF,EAAmD,EAAnDA,MACtC,OACE,sBAAKtkB,UAAW2N,KAAI61B,QAApB,UACE,qBAAKxjC,UAAS,UAAK2N,KAAIutB,UAAT,YAAsBvtB,KAAImR,MACxC,+BAAOwF,QCGP1a,GAAa,CAAC,QAAS,mBAAoB,SAAU,gBAAiB,cAAe,gBAAiB,eAAgB,aAAc,QAAS,6BAA8B,YAAa,cAAe,YAAa,aAAc,cAAe,SAAU,OAAQ,gBAAiB,iBAAkB,cAAe,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,MAAO,SAAU,aAAc,kBAAmB,iBAAkB,QAAS,iBAAkB,SAGje65B,GAAiC,CAAC,MAAS,SAAU,mBAAoB,UAAW,OAAU,OAAQ,gBAAiB,GAAI,cAAe,GAAI,gBAAiB,MAAO,eAAgB,GAAI,aAAc,GAAI,MAAS,UAAW,6BAA8B,GAAI,YAAa,GAAI,cAAe,uCAAwC,YAAa,OAAQ,aAAc,GAAI,cAAe,SAAU,OAAU,GAAI,KAAQ,GAAI,gBAAiB,YAAa,iBAAkB,GAAI,cAAe,OAAQ,QAAW,YAAa,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,GAAI,IAAO,GAAI,OAAU,SAAU,aAAc,OAAQ,kBAAmB,OAAQ,iBAAkB,OAAQ,MAAS,GAAI,iBAAkB,SAAU,MAAS,IAGrvB55B,GAA2B,CAAC,MAAS,SAAU,mBAAoB,UAAW,OAAU,OAAQ,gBAAiB,MAAO,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,cAAe,SAAU,gBAAiB,YAAa,cAAe,OAAQ,QAAW,YAAa,OAAU,SAAU,aAAc,OAAQ,kBAAmB,OAAQ,iBAAkB,OAAQ,iBAAkB,UAExa65B,GAAS,WAAO,IAAD,EACQhxB,KAA1BtF,EADkB,EAClBA,SAAUyC,EADQ,EACRA,YAEZzG,EAAS,CACbW,QAAS,YACThD,WAAW,2BACN8C,IADK,IAER,YAAa,kCAEfpF,SAAU,GACVwF,QAAS,SACTE,kBAAmBP,GACnB+5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACz6B,GACjB,IAAMoM,EAAUpI,GAAcC,GAC9ByC,EAAY,eAAK0F,KAIUjL,YAVT,SAACnB,GACnBD,GAAUC,EAAGC,IASwC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAW+T,WAAW,SAASwF,MAAM,cCjCrC1a,GAAa,CAAC,QAAS,cAAe,YAAa,aAAc,cAAe,cAAe,iBAAkB,SAAU,kBAAmB,iBAAkB,QAAS,6BAA8B,UAAW,cAAe,iBAAkB,eAAgB,gBAAiB,aAGpR65B,GAAiC,CAAC,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,aAAc,GAAI,cAAe,GAAI,cAAe,IAAK,iBAAkB,OAAQ,OAAU,GAAI,kBAAmB,GAAI,iBAAkB,GAAI,MAAS,OAAQ,6BAA8B,GAAI,QAAW,YAAa,cAAe,GAAI,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,YAAa,IAG1b55B,GAA2B,CAAC,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,cAAe,IAAK,iBAAkB,OAAQ,MAAS,SAAU,QAAW,aAIxMg6B,GAAyBlgC,EAAaR,KAAI,SAACoM,GAAD,OAAUA,EAAK3L,QAAMiK,KAAK,MAE7Di2B,GAAO,WAAO,IAAD,EACUpxB,KAA1BtF,EADgB,EAChBA,SAAUyC,EADM,EACNA,YACZzG,EAAS,CACbW,QAAS,UACThD,WAAW,sDACD8C,IADA,IACyB,cAAc,GAAd,OAAkBA,GAAwB,eAA1C,aAA6Dg6B,OADtF,IAERvhC,MAAO,OACP,eAAgB,MAChB,gBAAiB,MACjB,YAAa,gCAEf2H,QAAS,2FACTE,kBAAmBP,GACnB+5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACz6B,GACjB,IAAMoM,EAAUpI,GAAcC,GAC9ByC,EAAY,eAAK0F,KAIUjL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAW+T,WAAW,OAAOwF,MAAM,Y,WCxCnC1a,I,QAAa,CAAC,QAAS,MAAO,SAAU,aAAc,gBAAiB,cAAe,eAAgB,gBAAiB,6BAA8B,YAAa,kBAAmB,SAAU,OAAQ,OAAQ,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,MAAO,QAAS,MAAO,SAAU,SAAU,QAAS,SAAU,UAG1V65B,GAAiC,CAAC,MAAS,SAAU,IAAO,GAAI,OAAU,OAAQ,aAAc,OAAQ,gBAAiB,OAAQ,cAAe,OAAQ,eAAgB,OAAQ,gBAAiB,GAAI,6BAA8B,GAAI,YAAa,GAAI,kBAAmB,GAAI,OAAU,OAAQ,KAAQ,GAAI,KAAQ,GAAI,QAAW,YAAa,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,GAAI,IAAO,GAAI,MAAS,GAAI,IAAO,GAAI,OAAU,GAAI,OAAU,SAAU,MAAS,GAAI,OAAU,GAAI,MAAS,QAG5gB55B,GAA0B,CAAC,MAAS,SAAU,OAAU,OAAQ,aAAc,OAAQ,gBAAiB,OAAQ,cAAe,OAAQ,eAAgB,OAAQ,OAAU,OAAQ,QAAW,YAAa,OAAU,SAAU,MAAS,QAE9Nw3B,GAAQ,WAAO,IAAD,EACS3uB,KAA1BtF,EADiB,EACjBA,SAAUyC,EADO,EACPA,YACZzG,EAAS,CACbW,QAAS,WACThD,WAAW,2BACN8C,IADK,IAER,YAAa,+BACbG,MAAO,OACP9I,QAAS,UACTV,IAAK,oCAEPiE,SAAU,GACV0F,kBAAmBP,GACnB+5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACz6B,GACjB,IAAMoM,EAAUpI,GAAcC,GAC9ByC,EAAY,eAAK0F,KAIUjL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAW+T,WAAW,QAAQwF,MAAM,aCnCpC1a,GAAa,CAAC,6BAA8B,YAAa,SAAU,UAAW,iBAAkB,eAAgB,gBAAiB,eAGjI65B,GAAiC,CAAC,6BAA8B,GAAI,YAAa,GAAI,OAAU,OAAQ,QAAW,OAAQ,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,IAGxM55B,GAA0B,CAAC,OAAU,OAAQ,QAAW,QAEjDk6B,GAAS,WAAO,IAAD,EACQrxB,KAA1BtF,EADkB,EAClBA,SAAUyC,EADQ,EACRA,YACZzG,EAAS,CACbW,QAAS,YACThD,WAAW,2BACN8C,IADK,IAER,YAAa,kCAEfpF,SAAU,GACV0F,kBAAmBP,GACnB+5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACz6B,GACjB,IAAMoM,EAAUpI,GAAcC,GAC9ByC,EAAY,eAAK0F,KAIUjL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAW+T,WAAW,SAASwF,MAAM,cCjC9B0f,GAAO,WAAO,IAAD,EACUtxB,KAA1BtF,EADgB,EAChBA,SAAUyC,EADM,EACNA,YACZzG,EAAS,CACbW,QAAS,UACThD,WAAY,CACV,YAAa,yCACb7F,QAAS,OAEXiJ,kBAAmB,CAAC,eACpBF,QAAQ,0kBAuCV,OACE,qBAAK25B,UANW,SAACz6B,GACjB,IAAMoM,EAAUpI,GAAcC,GAC9ByC,EAAY,eAAK0F,KAIUjL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAW+T,WAAW,OAAOwF,MAAM,aCjDnC1a,GAAa,CAAC,eAAgB,eAAgB,eAAgB,6BAA8B,YAAa,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,QAAS,SAG/L65B,GAAiC,CAAC,eAAgB,UAAW,eAAgB,QAAS,eAAgB,MAAO,6BAA8B,GAAI,YAAa,GAAI,QAAW,YAAa,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,GAAI,MAAS,OAAQ,MAAS,UAGpS55B,GAA0B,CAAC,eAAgB,UAAW,eAAgB,QAAS,eAAgB,MAAO,QAAW,YAAa,MAAS,OAAQ,MAAS,UAEjJo6B,GAAU,WAAO,IAAD,EACOvxB,KAA1BtF,EADmB,EACnBA,SAAUyC,EADS,EACTA,YACZzG,EAAS,CACbW,QAAS,aACThD,WAAW,2BACN8C,IADK,IAER3I,QAAS,MACT,YAAa,mCAEfuD,SAAU,GACV0F,kBAAmBP,GACnB+5B,mCAAoCF,IAatC,OACE,qBAAKG,UANW,SAACz6B,GACjB,IAAMoM,EAAUpI,GAAcC,GAC9ByC,EAAY,eAAK0F,KAIUjL,YAXT,SAACnB,GACnBD,GAAUC,EAAUC,IAUiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAW+T,WAAW,UAAUwF,MAAM,eCvCtC4f,GAAoB,CAAC,QAAS,gBAAiB,QAAS,YAAa,6BAA8B,cAAe,YAAa,aAAc,cAAe,cAAe,YAAa,gBAAiB,cAAe,OAAQ,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,eAAgB,eAAgB,mBAiB7UC,GAAwB,CAC5Bp6B,QAAS,oBACThD,WAAY,CACV,YAAa,yCAEfoD,kBAbgC,CAAC,QAAS,MAAO,mBAAoB,gBAAiB,QAAS,YAAa,cAAe,YAAa,aAAc,cAAe,OAAQ,cAAe,YAAa,cAAe,OAAQ,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,eAAgB,eAAgB,QAAS,MAAO,SAAU,MAAO,SAAU,QAAS,kBAAmB,mBAgBzYi6B,GAAS,WACpB,IAAMh7B,EAAS,CACbW,QAAS,YACThD,WAAY,CACV,YAAa,iCAEftC,SAAU,CAAC,2BAEJ0/B,IAFG,IAGNp9B,WAAW,2BACNo9B,GAAsBp9B,YADjB,IAERnD,KAAM,mBACNd,KAAM,8BACNtC,IAAK,iDAPD,2BAYH2jC,IAZG,IAaNp9B,WAAW,2BACNo9B,GAAsBp9B,YADjB,IAERnD,KAAM,kBACNd,KAAM,+BACNtC,IAAK,gDAjBD,2BAsBH2jC,IAtBG,IAuBNp9B,WAAW,2BACNo9B,GAAsBp9B,YADjB,IAERnD,KAAM,kBACNd,KAAM,8BACNtC,IAAK,gDA3BD,2BAgCH2jC,IAhCG,IAiCNp9B,WAAW,2BACNo9B,GAAsBp9B,YADjB,IAERnD,KAAM,SACNd,KAAM,8BACNtC,IAAK,gDAIX2J,kBAAmB+5B,IAOrB,OACE,qBAAK55B,YALa,SAACnB,GACnBD,GAAUC,EAAGC,IAIkB2B,WAAW,EAA1C,SACE,cAAC,GAAD,CAAW+T,WAAW,SAASwF,MAAM,cCvEnC+f,GAAUC,KAAVD,MAEFE,GAAS,SAAC,GAAkC,IAAhC9yB,EAA+B,EAA/BA,MAChB,OAAO,mBAAGzR,UAAW2N,KAAI8D,MAAlB,SAA0BA,KAGtB+yB,GAAgB,WAC3B,OACE,cAAC,IAAD,CAAYtkC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,eAAC,KAAD,CACEoiC,mBAAoB,QACpBC,UAAU,EACVzB,iBAAkB,CAAC,IAAK,KACxB/iC,MAAO,CAAE4a,gBAAiB,oBAC1B6pB,WAAY,gBAAGr+B,EAAH,EAAGA,SAAH,OAAkB,cAACs+B,GAAA,EAAD,CAAmBxT,OAAQ9qB,EAAW,EAAI,OAL1E,UAOE,cAAC+9B,GAAD,CAAOQ,OAAQ,cAAC,GAAD,CAAQpzB,MAAM,wBAA7B,SACE,cAAC,GAAD,KADyD,KAG3D,cAAC4yB,GAAD,CAAOQ,OAAQ,cAAC,GAAD,CAAQpzB,MAAM,wBAA7B,SACE,sBAAKzR,UAAW2N,KAAIm3B,WAApB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QARuD,W,0BC/BpDC,EAAQ,M,SCOjBC,I,QAAkBvlC,YAAO8R,KAAO0zB,MAAM,CAAExzB,MAAO,WAA7BhS,CAAH,6UAkBfylC,GAAczlC,IAAOC,IAAV,qFAYJiB,GAAU,SAAC,GAA8D,IAA5DsX,EAA2D,EAA3DA,QAASktB,EAAkD,EAAlDA,cAAeC,EAAmC,EAAnCA,eAAmC,EAC3DngC,mBAAS,WADkD,mBAC5E6a,EAD4E,KACtEulB,EADsE,KASnF,OACE,eAACL,GAAD,CACE/sB,QAASA,EACTlG,SAAU,kBAAMozB,GAAc,IAC9BrzB,KAAM,kBAAMqzB,GAAc,IAC1Bn7B,MAAO,QACP9J,MAAO,CAAE+C,IAAK,MAAOhC,SAAU,QAASqkC,cAAe,MAAOvkC,OAAQ,QACtEwkC,UAAW,CAAExkC,OAAQ,QACrBykC,UAAW,CAAEzkC,OAAQ,QACrB0kC,gBAAgB,EAChBC,OAAQ,KATV,UAWE,cAACR,GAAD,UACE,cAAC,GAAD,CAAYjuB,SAnBD,SAAC9N,GACZA,EAAEtG,OAAOgB,OACXwhC,EAAQl8B,EAAEtG,OAAOgB,QAiBiBA,MAAOic,MAExCslB,EACC,wBACE3zB,MAAM,UACNvR,MAAO,CAAEylC,OAAQ,YACjB37B,MAAgB,YAAT8V,EA7DK,QACD,QA6DX/e,OAAO,OACP6kC,OAAQR,IAER,SAUJS,GAAa,SAAC,GAA0C,IAAxC5uB,EAAuC,EAAvCA,SAAUpT,EAA6B,EAA7BA,MAC9B,OACE,mCACE,cAAC,KAAM07B,MAAP,CACEtoB,SAAUA,EACVpT,MAAOA,EACPiiC,QAAS,CACP,CAAExhB,MAAO,UAAWzgB,MAAO,WAC3B,CAAEygB,MAAO,SAAUzgB,MAAO,WAE5BkiC,YAAY,QACZC,WAAW,cC5EXrH,I,OAAYsH,KAAZtH,SAGK7D,IAFOvpB,IAAZC,QAEc,WAAO,IACnBpE,EAAasF,KAAbtF,SADkB,EAEInI,oBAAS,GAFb,mBAEnBvB,EAFmB,KAEVwiC,EAFU,KAI1Bn2B,qBAAU,WAER1B,GAAS83B,UACR,IA0BH,OACE,eAAC,IAAD,CAAKjmC,MAAO,CAAEa,OAAQ,OAAQiJ,MAAO,QAAUzH,QAAQ,SAAvD,UACE,cAAC,IAAD,CAAKK,GAAI,GAAIwjC,GAAI,EAAjB,SACE,qBAAKlmC,MAAO,CAAEuC,UAAW,SAAUvB,QAAS,OAAQwB,WAAY,OAAhE,SACE,6GAAgF,IAAhF,kBAGJ,eAAC,IAAD,CAAKY,GAAI,EAAG8iC,GAAI,GAAhB,UACE,cAAC,GAAD,CACEnuB,QAASvU,EACTyhC,cAAe,SAACkB,GAAD,OAAUH,EAAWG,IACpCjB,eAAgB1hC,EAAU85B,KAAUpwB,GAAUuP,KAAO,KAEvD,eAAC,KAAD,CAAQzc,MAAO,CAAEa,OAAQ,QAAzB,UACE,cAAC,KAAD,CACEulC,OAAO,EACPC,OAAQ,kBAAMp3B,OAAOvP,QAAQ4mC,QAC7B/0B,MAAM,OACNg1B,SAAS,GACTvmC,MAAO,CAAEwmC,aAAc,qBACvBC,MAAO,CACL,qCAKE,cAAC,IAAD,CAAgBvmC,QAAS,kBAAM8lC,GAAW,IAA1C,oBAAY,KAGZ,cAAC,IAAD,CAAgB9lC,QArDF,SAAC+I,GAC3BA,EAAEkN,iBACF,IAAMsG,EAAO6gB,KAAUpwB,GAAUuP,KACjCiqB,UAAUC,UAAUC,UAAUnqB,GAC9BrV,EAAW,OAAQqV,GACnB6b,GAAQ,8CAgDI,yBAAY,KAGZ,cAAC,IAAD,CAAgBp4B,QAzCF,SAAC+I,GAC3BA,EAAEkN,iBACF,IAAM0wB,EAAUr9B,KAAKC,UAAU+D,GAAWjD,IAAE0D,UAAUf,KACtDw5B,UAAUC,UAAUC,UAAUC,GAC9Bz/B,EAAW,OAAQy/B,GAEnBvO,GAAQ,8CAmCI,yBAAY,WAMlB,cAAC,GAAD,UACE,sBAAKx4B,UAAW2N,KAAI0M,OAApB,UACE,qBAAKra,UAAW2N,KAAIq5B,KAApB,SACE,cAAC,GAAD,MAEF,qBAAKhnC,UAAW2N,KAAIs5B,KAApB,SACE,cAAC,GAAD,MAEF,qBAAKjnC,UAAW2N,KAAI5G,WAApB,SACE,cAAC,GAAD,sBC3EDmgC,GAhBK,kBAClB,cAACj1B,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,iBCbCk1B,GCEC,WACd,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACtnC,KAAM,CAAC,GAAI,SAAUunC,UAAWrlC,IAC7C,cAAC,IAAD,CAAOlC,KAAK,wBAAwBunC,UAAWvM,KAC/C,cAAC,IAAD,CAAOh7B,KAAK,IAAZ,SACE,cAAC,IAAD,CAAU+zB,GAAG,Y,6CCcGyT,GANVC,aAAY,CACxB3jC,KAAM,YACN4L,aAlBmB,CACnBg4B,UAAW,CACT,CACE3mC,GAAI,SACJ6C,QAAS,iCAEX,CACE7C,GAAI,QACJ6C,QAAS,iCAEX,CACE7C,GAAI,OACJ6C,QAAS,mCAOb+jC,SAAU,KAGGC,Q,SCjBTC,GAAQC,aAAe,CAC3BF,SAAO,sBAAKvmC,EAAQ0mC,YAAc1mC,EAAQumC,SAAnC,+BAA0DJ,IAA1D,IACPQ,WAAY,SAACC,GAAD,OAA0BA,IAAuBC,OAAO7mC,EAAQ2mC,eAMjEG,GAAoB,SAAC,GAAkB,IAAhBxjC,EAAe,EAAfA,SAClC,OAAO,cAAC,KAAD,CAAUkjC,MAAOA,GAAjB,SAAyBljC,KCInByjC,OAZf,WACE,OACE,cAAC,GAAD,UACE,cAAC,IAAD,UACE,qBAAKloC,UAAU,SAAf,SACE,cAACmoC,GAAD,WCCKC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqB53B,MAAK,YAAkD,IAA/C63B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFvyB,SAASwyB,eAAe,SAM1BX,M,2GCfA9oC,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,uBAAuB,KAAO,qBAAqB,WAAa,2BAA2B,WAAa,2BAA2B,KAAO,qBAAqB,QAAU,wBAAwB,eAAiB,+BAA+B,KAAO,qBAAqB,WAAa,2BAA2B,MAAQ,yB","file":"static/js/main.17245226.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UiWrapper_wrapper__23xNH\",\"container\":\"UiWrapper_container__2hsjd\",\"button\":\"UiWrapper_button__25Pv1\",\"text\":\"UiWrapper_text__3oy98\",\"image\":\"UiWrapper_image__3F-94\",\"html\":\"UiWrapper_html__12ygP\",\"spacer\":\"UiWrapper_spacer__1yYqc\",\"divider\":\"UiWrapper_divider__B19qo\",\"social\":\"UiWrapper_social__3MvUF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-modal\":\"Preview_ant-modal__3_7T8\",\"andt-modal-centered\":\"Preview_andt-modal-centered__3GZwp\"};","export default __webpack_public_path__ + \"static/media/new_template.3bcc1262.svg\";","import { Button } from 'antd';\nimport styled from 'styled-components';\nimport { PlusOutlined } from '@ant-design/icons';\nimport newTemplate from '../../Assets/Images/new_template.svg';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router';\nimport { ReactNode } from 'react';\n\ninterface PreviewProps {\n  image?: string;\n  skeleton?: ReactNode;\n  id: string;\n}\n\nconst PreviewContainer = styled.div`\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n`;\n\nexport const NewItem = () => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/new`);\n  };\n\n  return (\n    <PreviewContainer>\n      <div className=\"newTemplate\">\n        <PlusOutlined style={{ fontSize: '40px' }} />\n      </div>\n      <div className=\"hoverItem alwaysActive\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            New Template\n          </Button>\n        </div>\n      </div>\n      <div>\n        <img src={newTemplate} alt=\"img new template\" />\n      </div>\n    </PreviewContainer>\n  );\n};\n\nconst Preview = ({ image, id, skeleton }: PreviewProps) => {\n  const history = useHistory();\n  const { path } = useRouteMatch();\n  const onClick = () => {\n    history.push(`${path}/template/${id}`);\n  };\n  return (\n    <PreviewContainer>\n      {skeleton ? (\n        <div style={{ height: '350px', minWidth: '280px', maxWidth: '280px', padding: '24px 24px' }}>{skeleton}</div>\n      ) : (\n        <img height=\"350px\" src={image} alt=\"preview\" />\n      )}\n      <div className=\"hoverItem\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            choose\n          </Button>\n        </div>\n      </div>\n    </PreviewContainer>\n  );\n};\nexport { Preview };\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport interface ListTemplateResponse {\n  response: ListTemplateInfo[];\n}\n\nexport interface ListTemplateInfo {\n  preview: string;\n  docRef: string;\n  id: number;\n}\n\nexport interface getTemplateRequest {\n  id: string;\n}\n\nexport interface getTemplateResponse {\n  response: Response;\n}\nexport interface Response {\n  date: string;\n  docRef: string;\n  data: string;\n}\n\nexport const DndeApi = createApi({\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API }),\n  endpoints: (builder) => ({\n    getTemplates: builder.query<ListTemplateResponse, void>({\n      query: () => `templates/`,\n    }),\n    getTemplate: builder.query<getTemplateResponse, getTemplateRequest>({\n      query: ({ id }) => `templates/${id}`,\n    }),\n  }),\n});\n\nexport const { useGetTemplatesQuery, useLazyGetTemplateQuery } = DndeApi;\n","import { NewItem, Preview } from './Preview';\nimport './List.scss';\nimport { useGetTemplatesQuery } from '../../Api/api';\nimport { Col, Row, Skeleton } from 'antd';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { GithubFilled } from '@ant-design/icons';\n\nconst List = () => {\n  const { data, isLoading, isError, isSuccess } = useGetTemplatesQuery();\n\n  return (\n    <Scrollbars autoHide={true} style={{ height: '100%' }}>\n      <div className=\"template\">\n        <Row align=\"middle\" justify=\"center\" className=\"header\">\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col>\n                <span className=\"title\">Dnde</span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col style={{ textAlign: 'center' }}>\n                <span className=\"subtitle\">\n                  Drag and Drop Editor tailored for <b>Mails</b>\n                </span>\n              </Col>\n            </Row>\n          </Col>\n          <Col style={{ paddingTop: '24px' }} span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col className=\"info\" md={24} lg={10} style={{ textAlign: 'center' }}>\n                <span>\n                  All features are optimised for mails, work flexibly through import/export, with responsive design for\n                  all devices.\n                </span>\n                <br />\n\n                <a target=\"_blank\" href=\"https://github.com/aghontpi/dnde\">\n                  <span>\n                    Check it on Github <GithubFilled style={{ position: 'relative', top: '4px', fontSize: '32px' }} />\n                  </span>\n                </a>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n\n        <Row className=\"choose-template\" align=\"middle\" gutter={[0, 8]} justify=\"center\">\n          <Col span={16}>\n            <span className=\"title\">Choose a template and get started.</span>\n          </Col>\n          <Col span={16}>\n            <span className=\"subtitle\">All templates are redesigned in dnde, using original mail as reference.</span>\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" className=\"template-list\" gutter={[0, 40]}>\n          <Col lg={6}>\n            <NewItem />\n          </Col>\n          {isLoading &&\n            [1, 2].map((item, key) => {\n              return (\n                <Col xs={24} md={12} lg={6} style={{ textAlign: 'center' }}>\n                  <Preview\n                    key={key}\n                    id={'8x93dummy'}\n                    skeleton={\n                      <>\n                        <Skeleton active={true} />\n                        <Skeleton active={true} />\n                      </>\n                    }\n                  />\n                </Col>\n              );\n            })}\n          {isSuccess && data\n            ? data.response.map((item, key) => {\n                return (\n                  <Col lg={6}>\n                    <Preview key={key} id={item.docRef} image={item.preview} />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport { List };\n","export const FONTS_CONFIG = [\n  { name: 'Roboto', value: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap' },\n  { name: 'Festive', value: 'https://fonts.googleapis.com/css2?family=Festive&display=swap' },\n  { name: 'Noto Sans Mono', value: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap' },\n  { name: 'Open Sans', value: 'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap' },\n  { name: 'Andada Pro', value: 'https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap' },\n  { name: 'Lato', value: 'https://fonts.googleapis.com/css2?family=Lato&display=swap' },\n  { name: 'Scheherazade New', value: 'https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap' },\n  { name: 'Montserrat', value: 'https://fonts.googleapis.com/css2?family=Montserrat&display=swap' },\n  { name: 'Roboto Condensed', value: 'https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap' },\n  { name: 'Source Sans Pro', value: 'https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap' },\n  { name: 'Poppins', value: 'https://fonts.googleapis.com/css2?family=Poppins&display=swap' },\n  { name: 'Oswald', value: 'https://fonts.googleapis.com/css2?family=Oswald&display=swap' },\n  { name: 'Noto sans', value: 'https://fonts.googleapis.com/css2?family=Noto+sans&display=swap' },\n  { name: 'Georama', value: 'https://fonts.googleapis.com/css2?family=Georama&display=swap' },\n  { name: 'Roboto Mono', value: 'https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap' },\n  { name: 'Raleway', value: 'https://fonts.googleapis.com/css2?family=Raleway&display=swap' },\n  { name: 'Nunito', value: 'https://fonts.googleapis.com/css2?family=Nunito&display=swap' },\n  { name: 'Roboto Slab', value: 'https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap' },\n  { name: 'PT Sans', value: 'https://fonts.googleapis.com/css2?family=PT+Sans&display=swap' },\n  { name: 'Merriweather', value: 'https://fonts.googleapis.com/css2?family=Merriweather&display=swap' },\n  { name: 'Playfair Display', value: 'https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap' },\n  { name: 'Lora', value: 'https://fonts.googleapis.com/css2?family=Lora&display=swap' },\n  { name: 'Rubix', value: 'https://fonts.googleapis.com/css2?family=Rubix&display=swap' },\n  { name: 'IM Fell English SC', value: 'https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap' },\n  { name: 'Open Sans Condensed', value: 'https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap' },\n  { name: 'Inter', value: 'https://fonts.googleapis.com/css2?family=Inter&display=swap' },\n  { name: 'Nunito Sans', value: 'https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap' },\n  { name: 'Work Sans', value: 'https://fonts.googleapis.com/css2?family=Work+Sans&display=swap' },\n  { name: 'Quicksand', value: 'https://fonts.googleapis.com/css2?family=Quicksand&display=swap' },\n  { name: 'Fira Sans', value: 'https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap' },\n];\n","import { createContext, FC, useEffect, useMemo, useRef } from 'react';\n\nconst def = {\n  mutableAttributes: {},\n  id: '',\n  type: '',\n};\n\nexport const DragAndCropContext = createContext<any>(def);\n\nexport const DNDContext: FC = (props) => {\n  const ref = useRef(1);\n\n  const genId = () => {\n    if (ref.current && typeof ref.current === 'number') {\n      return ++ref.current;\n    }\n  };\n\n  return <DragAndCropContext.Provider value={{ genId }}>{props.children}</DragAndCropContext.Provider>;\n};\n","import { useContext } from 'react';\nimport { DragAndCropContext } from '../Context/DragAndDrop.context';\n\nconst useDragAndDropUniqueId = () => {\n  const { genId } = useContext(DragAndCropContext);\n  return {\n    getId: () => genId(),\n  };\n};\n\nexport { useDragAndDropUniqueId, useDragAndDropUniqueId as useUniqueIdGenerator };\n","import { createContext, FC, useRef, useState } from 'react';\n\nexport const CkeditorContext = createContext<any>(null);\n\nexport const Ckeditor: FC = (props) => {\n  const editorRef = useRef(null);\n  const ckeditorInstance = useRef(null);\n  const [editorActive, setActive] = useState(false);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [delActive, setDelActive] = useState(false);\n  const [delX, setDelX] = useState(0);\n  const [delY, setDelY] = useState(0);\n  const [copyActive, setCopyActive] = useState(false);\n  const [copyX, setCopyX] = useState(0);\n  const [copyY, setCopyY] = useState(0);\n  const [isColumn, setIsColumn] = useState(false);\n\n  // should only be one instance, only manipulate the locations\n  return (\n    <CkeditorContext.Provider\n      value={{\n        ref: editorRef,\n        isActive: editorActive,\n        setActive,\n        x,\n        y,\n        setX,\n        setY,\n        delX,\n        delY,\n        setDelX,\n        setDelY,\n        drag: {\n          isColumn,\n          setIsColumn,\n        },\n        copy: {\n          copyActive,\n          setCopyActive,\n          copyX,\n          setCopyX,\n          copyY,\n          setCopyY,\n        },\n        delActive,\n        setDelActive,\n        ckeditorInstance,\n      }}\n    >\n      {props.children}\n    </CkeditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CkeditorContext } from '../Context/Ckeditor.context';\n\nexport const useCkeditor = () => {\n  const Ckeditor = useContext(CkeditorContext);\n  return Ckeditor as unknown as {\n    ref: any;\n    isActive: boolean;\n    setActive: (arg: boolean) => void;\n    x: number;\n    y: number;\n    setX: (arg: number) => void;\n    setY: (arg: number) => void;\n    delX: number;\n    delY: number;\n    setDelX: (arg: number) => void;\n    setDelY: (arg: number) => void;\n    delActive: boolean;\n    setDelActive: (arg: boolean) => void;\n    ckeditorInstance: any;\n    drag: {\n      isColumn: boolean;\n      setIsColumn: (arg: boolean) => void;\n    };\n    copy: {\n      copyActive: boolean;\n      setCopyActive: (arg: boolean) => void;\n      copyX: number;\n      copyY: number;\n      setCopyX: (arg: number) => void;\n      setCopyY: (arg: number) => void;\n    };\n  };\n};\n","export const findElementInJson = (mjmljson: any, classidentifier: any, path = ''): any => {\n  if (mjmljson === undefined) {\n    return null;\n  }\n  const element = mjmljson;\n  if (element.attributes && element.attributes['css-class']) {\n    const classNames: string = element.attributes['css-class'];\n    if (classNames.includes(classidentifier)) {\n      return [element, path];\n    }\n  }\n  if (element.children) {\n    for (var i = 0; i < element.children.length; i++) {\n      const child = element.children[i];\n      const res = findElementInJson(child, classidentifier, path + `.children[${i}]`);\n      if (res) {\n        return res;\n      }\n    }\n  }\n\n  return null;\n};\n","const logger = {\n  log: (...args: any) => {\n    console.log(...args);\n  },\n  error: (...args: any) => {\n    console.error(...args);\n  },\n  info: (...args: any) => {\n    console.info(...args);\n  },\n};\n\nexport { logger };\n","import { findElementInJson } from './findElementInMjmlJson';\nimport { findColumnOfElement } from './findElementsParent';\nimport { logger } from './logger';\n\nconst findClosestParent = (element: HTMLElement) => {\n  const closest = element.closest('.mjml-tag');\n  let uniqueClassName = null;\n\n  if (!closest) {\n    logger.info('unable to find closest');\n    return uniqueClassName;\n  }\n\n  uniqueClassName = findUniqueIdentifier(closest, closest.classList);\n\n  if (!uniqueClassName) {\n    logger.info('unable to find identifier');\n  }\n\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifier = (element: Element, classlist: DOMTokenList, identifier = 'identifier-mj') => {\n  let uniqueClassName = null;\n  for (var i = 0; classlist && i < classlist.length; i++) {\n    const current = classlist[i];\n    if (current.includes(identifier)) {\n      uniqueClassName = current;\n      break;\n    }\n  }\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifierFromString = (classList: string) => {\n  return findUniqueIdentifier(null as unknown as Element, classList.split(' ') as unknown as DOMTokenList);\n};\n\nconst replaceGeneicTagWithUniqueId = (classNames: string, uid: string) => {\n  let updatedClassNames = '';\n  if (typeof classNames !== 'string') {\n    logger.log(`classNames should be string while generating uniqueIdentifier, but found ${typeof classNames} instead`);\n    return null;\n  }\n  let classNamesArr = classNames.split(' ');\n  for (var i = 0; i < classNamesArr.length; i++) {\n    let current = classNamesArr[i];\n    if (current.includes('identifier-mj')) {\n      current = current.trim();\n\n      // checking if the element has already uniqueId,\n      //   if it has, instead of appending uid to tag, need to replace it.\n      const regexMatch = current.match(/-(\\d+)/); // regex match number after '-'\n      const log = current;\n      if (regexMatch) {\n        current = current.replace(regexMatch[0], `-${uid}`);\n      } else {\n        current = ` ${current}-${uid}`;\n      }\n      logger.log(`generating-tag: ${log} -> ${current} `);\n    }\n    updatedClassNames += ` ${current}`;\n  }\n  return updatedClassNames;\n};\n\n// section with different columns are stored in config without unqiueId's,\n//   replacing those with unqiueIds (only for mj-columns).\nconst generateUniqueIdRecursively = (item: any, uidGenerator: () => string): any => {\n  if (!item) {\n    return;\n  }\n\n  for (var i = 0; item['children'] && i < item['children'].length; i++) {\n    item['children'][i] = generateUniqueIdRecursively(item['children'][i], uidGenerator);\n  }\n\n  let attr = item['attributes'];\n  if (attr) {\n    let css_class = attr['css-class'];\n    css_class = replaceGeneicTagWithUniqueId(css_class, uidGenerator());\n    attr['css-class'] = css_class;\n  }\n\n  item['attributes'] = attr;\n\n  return item;\n};\n\nconst findIndexOfIdentifierInChildren = (children: [any], uniqueIdentifier: string) => {\n  for (var i = 0; uniqueIdentifier && children && children.length > 0 && i < children.length; i++) {\n    const child = children[i];\n    if (child && child['attributes'] && child['attributes']['css-class'].includes(uniqueIdentifier)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nconst getIndexOfElementInParent = (node: HTMLElement, mjmlJson: any, uniqueIdentifier: string) => {\n  let index = -1;\n  let parent = node.closest('.mjml-tag');\n  // closest can be he same node, so go to parent\n  if (parent === node) {\n    parent = node.parentElement;\n  }\n\n  // element must be outside of column\n  while (index === -1 && parent) {\n    const parentUniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (parentUniqueIdentifier) {\n      let element = findElementInJson(mjmlJson, parentUniqueIdentifier);\n      if (element) {\n        [element] = element;\n        index = findIndexOfIdentifierInChildren(element.children, uniqueIdentifier);\n        if (index !== -1) {\n          break;\n        }\n      }\n    }\n\n    const next_parent = parent.closest('.mjml-tag');\n    if (next_parent && next_parent === parent) {\n      if (parent.parentElement) {\n        parent = parent.parentElement.closest('.mjml-tag');\n      }\n    } else {\n      parent = next_parent;\n    }\n  }\n\n  const parentIdentifier = parent && parent.classList ? findUniqueIdentifier(parent, parent.classList) : null;\n  return [index, parentIdentifier];\n};\n\nexport {\n  findClosestParent,\n  findUniqueIdentifier,\n  findUniqueIdentifierFromString,\n  replaceGeneicTagWithUniqueId,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n};\n","const dragStart = (e: DragEvent, config: any) => {\n  if (e && e.dataTransfer) {\n    e.dataTransfer.effectAllowed = 'move';\n    const draggingItem = e.target as HTMLElement;\n    e.dataTransfer.setDragImage(draggingItem, -5, -5);\n    e.dataTransfer.setData('config', JSON.stringify(config));\n  }\n};\n\nexport { dragStart };\n","import { Row } from 'antd';\nimport _, { floor } from 'lodash';\nimport { Fragment, SyntheticEvent } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { dragStart } from '../Utils/dragStart';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['background-color', 'background-position', 'background-position-x', 'background-position-y', 'background-repeat', 'background-size', 'background-url', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'css-class', 'direction', 'full-width', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'text-align'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"background-color\": \"\", \"background-position\": \"top center\", \"background-position-x\": \"none\", \"background-position-y\": \"none\", \"background-repeat\": \"repeat\", \"background-size\": \"auto\", \"background-url\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"css-class\": \"\", \"direction\": \"ltr\", \"full-width\": \"\", \"padding\": \"20px 0\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"text-align\": \"center\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"};\n\n// prettier-ignore\nconst properties_column = [\"background-color\", \"inner-background-color\", \"border\", \"border-bottom\", \"border-left\", \"border-right\", \"border-top\", \"border-radius\", \"inner-border\", \"inner-border-bottom\", \"inner-border-left\", \"inner-border-right\", \"inner-border-top\", \"inner-border-radius\", \"width\", \"vertical-align\", \"padding\", \"padding-top\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"css-class\"]\n\n// prettier-ignore\nconst properties_with_default_values_column = {\"background-color\": \"\", \"inner-background-color\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"border-radius\": \"\", \"inner-border\": \"\", \"inner-border-bottom\": \"\", \"inner-border-left\": \"\", \"inner-border-right\": \"\", \"inner-border-top\": \"\", \"inner-border-radius\": \"\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\", \"padding\": \"\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values_column = {\"border\": \"none\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\"}\n\nexport const columnPlaceholder = [\n  {\n    tagName: 'mj-image',\n    attributes: {\n      src: 'https://dev.bluepie.in/assets/87583817874843.svg',\n      'css-class': 'mj-placeholder',\n      width: '120px',\n    },\n  },\n  {\n    tagName: 'mj-text',\n    attributes: {\n      'padding-top': '0px',\n      'font-size': '16px',\n      align: 'center',\n      'css-class': 'mj-placeholder',\n    },\n    content: 'drag and drop a content block here!',\n  },\n];\n\nexport const COLUMN = {\n  tagName: 'mj-column',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-column',\n    padding: '0px 0px',\n  },\n  children: [...columnPlaceholder],\n  mutableProperties: properties_column,\n};\n\nexport const Section = () => {\n  let config = {\n    tagName: 'mj-section',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-section',\n      'border-radius': '0px',\n      'background-color': '#fff',\n      'text-align': 'center',\n    },\n    children: [],\n    cannot_have: ['mj-section', 'mj-column'], // 'https://documentation.mjml.io/#mj-column' Columns cannot be nested into columns, and sections cannot be nested into columns as well.\n    mutableProperties: properties,\n  };\n\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: DragEvent) => {\n    const target = e.target as Element;\n    const identifier = findUniqueIdentifier(target, target.classList, 'mj-columns');\n    if (identifier) {\n      const match = identifier.match(/mj-columns-(.*)/);\n      if (match) {\n        let count = parseInt(match[1]);\n        let children = [];\n        while (count > 0) {\n          children.push(COLUMN);\n          count--;\n        }\n        config = _.set(config, 'children', children);\n      }\n    }\n    dragStart(e as any, config);\n    setIsColumn(true);\n  };\n\n  let dynamicRenderer = [1, 2, 3, 4].map((value, index) => {\n    return (\n      <Fragment key={value}>\n        <SectionTitle key={value + index + 'title'}>\n          <p>{value} Column</p>\n        </SectionTitle>\n        <SectionImage\n          key={value + index + 'section'}\n          className={`mj-columns-${value}`}\n          draggable={true}\n          onDragStart={onDragStart}\n        >\n          <div className={`wrapper`}>\n            <div className=\"border\">\n              <Generator length={value} />\n            </div>\n          </div>\n        </SectionImage>\n      </Fragment>\n    );\n  });\n  return <>{dynamicRenderer}</>;\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nconst Generator = ({ length }: { length: number }) => {\n  let content = [];\n  const flexGrow = floor(100 / length);\n\n  for (let i = 0; i < length; i++) {\n    content.push(\n      <div\n        key={i + flexGrow}\n        style={{\n          display: 'flex',\n          flexGrow,\n          height: '16px',\n          borderRight: i === length - 1 ? '' : '1px solid rgb(85, 85, 85)',\n          borderRadius: '0px',\n        }}\n      ></div>\n    );\n  }\n  return <>{content}</>;\n};\n","/**\n *  was unable to handle latin1 characters in the btoa,\n *  thus including this base64 library\n *\n *  Base64 encode / decode\n *  http://www.webtoolkit.info\n *\n **/\nexport const Base64 = {\n  // private property\n  _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\n  // public method for encoding\n  encode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output =\n        output +\n        this._keyStr.charAt(enc1) +\n        this._keyStr.charAt(enc2) +\n        this._keyStr.charAt(enc3) +\n        this._keyStr.charAt(enc4);\n    } // Whend\n\n    return output;\n  }, // End Function encode\n\n  // public method for decoding\n  decode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n    while (i < input.length) {\n      enc1 = this._keyStr.indexOf(input.charAt(i++));\n      enc2 = this._keyStr.indexOf(input.charAt(i++));\n      enc3 = this._keyStr.indexOf(input.charAt(i++));\n      enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n\n      output = output + String.fromCharCode(chr1);\n\n      if (enc3 != 64) {\n        output = output + String.fromCharCode(chr2);\n      }\n\n      if (enc4 != 64) {\n        output = output + String.fromCharCode(chr3);\n      }\n    } // Whend\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n  }, // End Function decode\n\n  // private method for UTF-8 encoding\n  _utf8_encode: function (string) {\n    var utftext = '';\n    string = string.replace(/\\r\\n/g, '\\n');\n\n    for (var n = 0; n < string.length; n++) {\n      var c = string.charCodeAt(n);\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c);\n      } else if (c > 127 && c < 2048) {\n        utftext += String.fromCharCode((c >> 6) | 192);\n        utftext += String.fromCharCode((c & 63) | 128);\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224);\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n        utftext += String.fromCharCode((c & 63) | 128);\n      }\n    } // Next n\n\n    return utftext;\n  }, // End Function _utf8_encode\n\n  // private method for UTF-8 decoding\n  _utf8_decode: function (utftext) {\n    var string = '';\n    var i = 0;\n    var c, c1, c2, c3;\n    c = c1 = c2 = 0;\n\n    while (i < utftext.length) {\n      c = utftext.charCodeAt(i);\n\n      if (c < 128) {\n        string += String.fromCharCode(c);\n        i++;\n      } else if (c > 191 && c < 224) {\n        c2 = utftext.charCodeAt(i + 1);\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n        i += 2;\n      } else {\n        c2 = utftext.charCodeAt(i + 1);\n        c3 = utftext.charCodeAt(i + 2);\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n        i += 3;\n      }\n    } // Whend\n\n    return string;\n  }, // End Function _utf8_decode\n};\n","import _ from 'lodash';\nimport { columnPlaceholder } from '../Components/Section';\nimport { PageHeaderItems } from '../Context/Editor.context';\nimport { Base64 } from '../Lib/base64';\nimport { generateUniqueIdRecursively } from './closestParent';\n\nconst cleanMjmlJson = (mjmlJson: any, ignore: string = '') => {\n  if (!mjmlJson) {\n    return null;\n  }\n\n  if (mjmlJson['attributes'] && mjmlJson['attributes']['css-class']) {\n    const cssClass = mjmlJson['attributes']['css-class'];\n    if (cssClass.includes('placeitem-placeholder')) {\n      return null;\n    }\n  }\n\n  // before processing children, if the parent has ignore class, then dont process its children\n  //  the active item being hovered on is passed as ignore, (specifically the column of the active item being hovered)\n  const isIgnoring =\n    ignore &&\n    mjmlJson['attributes'] &&\n    mjmlJson['attributes']['css-class'] &&\n    mjmlJson['attributes']['css-class'].includes(ignore);\n\n  let newChildren: any = [];\n  for (var i = 0; mjmlJson['children'] && i < mjmlJson['children'].length; i++) {\n    const item = mjmlJson['children'][i];\n\n    const result = isIgnoring ? item : cleanMjmlJson(item, ignore);\n    if (result) {\n      newChildren.push(result);\n    }\n  }\n\n  // if the children is column and its length is 0,\n  //  then add a placeholder to the column\n  if (mjmlJson && mjmlJson['tagName'] === 'mj-column' && newChildren.length === 0) {\n    newChildren.push(...columnPlaceholder);\n  }\n\n  if (newChildren.length) {\n    mjmlJson['children'] = newChildren;\n  }\n\n  return mjmlJson;\n};\n\nconst exportJson = (input: any, build: any = {}) => {\n  if (!input) {\n    return;\n  }\n\n  // todo: remove addtional properties too, then write a seperate deserializer to include it back in\n\n  if (input['attributes'] && input['attributes']['css-class']) {\n    let css = input['attributes']['css-class'];\n    css = css.split(' ');\n    let newCss = [];\n    for (var i = 0; i < css.length; i++) {\n      const current: string = css[i];\n      if (\n        current.includes('identifier-mj') ||\n        current.includes('mj-placeholder') ||\n        current.includes('placeitem-placeholder')\n      ) {\n        continue;\n      }\n      newCss.push(current);\n    }\n    if (newCss.length) {\n      css = newCss.join(' ');\n    }\n  }\n\n  if (input['content']) {\n    // input['content'] = input['content'].replace(/\"/g, '\\\\\"');\n    input['content'] = Base64.encode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = exportJson(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n};\n\nfunction replaceContent(input: any) {\n  if (!input) {\n    return;\n  }\n\n  if (input['content']) {\n    input['content'] = Base64.decode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = replaceContent(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n}\n\nconst importJson = (input: any, idGenerator: () => string, rawContent: boolean = false) => {\n  let regeneratedIdJson = generateUniqueIdRecursively(input, idGenerator);\n\n  // remove existing header items nd create new header items.\n  // remove fonts and inject the new fonts later.\n  if (\n    regeneratedIdJson &&\n    regeneratedIdJson.tagName &&\n    regeneratedIdJson.tagName === 'mjml' &&\n    regeneratedIdJson.children &&\n    regeneratedIdJson.children.length > 1\n  ) {\n    regeneratedIdJson.children[0].children = _.cloneDeep(PageHeaderItems);\n  }\n\n  return rawContent ? regeneratedIdJson : replaceContent(regeneratedIdJson);\n};\n\nexport { cleanMjmlJson, exportJson, importJson };\n","import _ from 'lodash';\nimport { logger } from './logger';\n\nclass UndoRedo {\n  public undo: any[];\n  redo: any[];\n\n  constructor() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public newAction(action: any) {\n    if (this.undo.length > 0 && _.isEqual(action, this.peekUndo())) {\n      logger.log('undoredo: prev action and new action are same, not performing action');\n      return;\n    }\n    this.undo.push(this.copy(action));\n    this.storeToLocalStorage();\n    this.redo = [];\n  }\n\n  public undoAction(current: any = false): any {\n    if (this.undo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.undo.pop());\n    this.redo.push(itemToApply);\n\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: undo action but view and current are same, proceeding one more step');\n      return this.undoAction(current);\n    }\n\n    return itemToApply;\n  }\n\n  public redoAction(current: any = false): any {\n    if (this.redo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.redo.pop());\n    this.undo.push(itemToApply);\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: redo action but view and current are same, proceeding one more step');\n      return this.redoAction(current);\n    }\n    return itemToApply;\n  }\n\n  public peekUndo() {\n    let peek: any | boolean = false;\n    if (this.undo.length > 0) {\n      peek = this.copy(this.undo[this.undo.length - 1]);\n    }\n    return peek;\n  }\n\n  public peekRedo() {\n    let peek: any | boolean = false;\n    if (this.redo.length > 0) {\n      peek = this.redo[this.redo.length - 1];\n    }\n    return peek;\n  }\n\n  public isUndoEmpty() {\n    return this.undo.length === 0;\n  }\n\n  public isRedoEmpty() {\n    return this.redo.length === 0;\n  }\n\n  public reset() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public print() {\n    logger.log('undoredo: ', this.undo, this.redo);\n  }\n\n  private storeToLocalStorage() {\n    try {\n      localStorage.setItem('actions', JSON.stringify(this.undo));\n    } catch (e) {\n      logger.log('undoredo: error storing to local storage');\n      logger.log('undoredo: it is possible this occured due to storage limit in localStorage,truncating undo');\n      this.undo = [this.undo[this.undo.length - 1]];\n      localStorage.setItem('actions', JSON.stringify(this.undo));\n    }\n  }\n\n  private copy(item: any) {\n    return _.cloneDeep(item);\n  }\n}\n\nvar UNDOREDO = new UndoRedo();\n\n(window as any).UNDOREO = UNDOREDO;\n\nexport { UNDOREDO };\n","import { Button, Input, Popover, Select } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useRef, useState } from 'react';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../../Hooks/CustomEditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  FontColorsOutlined,\n  BoldOutlined,\n  ItalicOutlined,\n  UnderlineOutlined,\n  BgColorsOutlined,\n  LinkOutlined,\n} from '@ant-design/icons';\nimport { InlineEditorActions } from '../../Utils/inlineEditorActions';\nimport { ColorPicker } from '../ColorPicker';\nimport { findClosestParent, findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport { useFonts } from '../../Hooks/useFonts';\nimport { logger } from '../../Utils/logger';\nimport { addHttps } from './Link';\n\nlet r: any;\n\nconst restoreSelection = () => {\n  let restoreSel = window.getSelection();\n  if (!restoreSel) {\n    return;\n  }\n  const temp = r;\n  restoreSel?.removeAllRanges();\n  restoreSel?.addRange(r);\n  r = temp;\n};\n\nconst InlineEditor = () => {\n  const ref = useRef<any>(null);\n  const { x, y } = useCustomEditorPosition();\n  const { active } = useCustomEditorStatus();\n  const { active: activeElement }: { active: HTMLDivElement } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fontlist] = useFonts();\n\n  // on mount, override the default behaviour of the antd dropdown select\n  useEffect(() => {\n    if (ref.current) {\n      const toolbar = document.querySelectorAll('#customtoolbar .ant-select-selector');\n      if (toolbar) {\n        toolbar.forEach((item) => {\n          logger.log('attaching click event listener to container');\n          item.addEventListener('click', ResetEventBehaviour);\n        });\n        return () =>\n          toolbar.forEach((item) => {\n            logger.log('removing click event listener to container');\n            item.removeEventListener('click', ResetEventBehaviour);\n          });\n      }\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    if (active && activeElement) {\n      const uniqueIdentifier = findUniqueIdentifier(activeElement, activeElement.classList);\n      if (uniqueIdentifier?.includes('mj-text')) {\n        let editor: any = activeElement.children[0].children[0];\n\n        const Event = (e: any) => {\n          stateChangeCallback(editor, mjmlJson, setMjmlJson);\n          // e.stopPropagation();\n          // e.preventDefault();\n          // e.target.focus();\n          // return false;\n        };\n\n        const onKeyUp = () => {\n          r = window.getSelection()?.getRangeAt(0);\n        };\n\n        editor.addEventListener('focusout', Event, true);\n        editor.addEventListener('keyup', onKeyUp, false);\n        editor.addEventListener('click', onKeyUp, false);\n\n        editor.classList.add('editor-active');\n        editor.setAttribute('contentEditable', 'true');\n        editor.setAttribute('spellcheck', 'false');\n\n        if (r) {\n          // restoreSelection();\n        }\n\n        return () => {\n          logger.log('custom editor: cleaning up dynamic attributes');\n          editor.removeEventListener('focusout', Event, true);\n          editor.removeEventListener('keyup', onKeyUp, false);\n          editor.removeEventListener('click', onKeyUp, false);\n        };\n      }\n    }\n  }, [activeElement, mjmlJson]);\n\n  return (\n    <div\n      style={{\n        display: active ? 'block' : 'none',\n        position: 'fixed',\n        top: `${y}px`,\n        left: `${x}px`,\n        padding: '4px 8px',\n        border: '1px solid black',\n        zIndex: 999,\n        backgroundColor: '#fff',\n        transition: 'all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)',\n      }}\n      id=\"customtoolbar\"\n      ref={ref}\n      onMouseDown={ResetEventBehaviour}\n    >\n      <Select\n        size=\"small\"\n        dropdownStyle={{ minWidth: '18px' }}\n        defaultValue={2}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'size', value);\n        }}\n      >\n        {Array.from(Array(7).keys()).map((i) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={i + 1}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {i + 1}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n      <Select\n        size=\"small\"\n        defaultValue={'Ubuntu'}\n        dropdownStyle={{ minWidth: '18px' }}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'fontFamily', value);\n        }}\n        onMouseDown={ResetEventBehaviour}\n      >\n        {fontlist.map((font) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={font}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {font}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'fontColor', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<FontColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'color', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<BgColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Button\n        icon={<BoldOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'bold')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<ItalicOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'italics')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<UnderlineOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'underline')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <LinkItem setLinkCallback={(e) => InlineEditorActions(e, 'link')} />\n    </div>\n  );\n};\n\ninterface LinkItemProps {\n  setLinkCallback: (e: any) => void;\n}\n\nconst LinkItem = ({ setLinkCallback }: LinkItemProps) => {\n  const [active, setActive] = useState(false);\n  const [link, setLink] = useState('');\n  const linkRef = useRef<any>(null);\n\n  const onChange = (e: any) => {\n    setLink(e.target.value);\n  };\n\n  const onMouseDown = (e: any) => {\n    restoreSelection();\n  };\n\n  return (\n    <Popover\n      visible={active}\n      content={\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <Input\n            className=\"inline-editor-link\"\n            ref={linkRef}\n            value={link}\n            onMouseDown={onMouseDown}\n            onChange={onChange}\n            placeholder=\"link\"\n          />\n          <Button\n            type=\"default\"\n            onMouseDown={ResetEventBehaviour}\n            onClick={() => {\n              setActive(false);\n              restoreSelection();\n              document.execCommand(\n                'insertHTML',\n                false,\n                '<a href=\"' + addHttps(link) + '\" target=\"_blank\">' + document.getSelection() + '</a>'\n              );\n            }}\n          >\n            create\n          </Button>\n        </div>\n      }\n      trigger=\"click\"\n      placement=\"bottom\"\n    >\n      <Button\n        style={{ fontSize: '12px' }}\n        onClick={(e) => {\n          ResetEventBehaviour(e);\n          setActive(!active);\n          setLink('');\n        }}\n        size=\"small\"\n        icon={<LinkOutlined />}\n      ></Button>\n    </Popover>\n  );\n};\n\nconst stateChangeCallback = (item: any, mjmlJson: any, setMjmlJson: any) => {\n  logger.log(`custom Inline Editor: updating state callback`);\n  const closestParent = findClosestParent(item);\n  if (!closestParent) {\n    return;\n  }\n  const uniqueIdentifier = closestParent;\n  if (uniqueIdentifier?.includes('mj-text')) {\n    const find = findElementInJson(mjmlJson, uniqueIdentifier);\n    if (find) {\n      const [, path] = find;\n      let itemJson = _.get(mjmlJson, path.slice(1));\n      if (itemJson) {\n        let updateToSend = _.cloneDeep(itemJson);\n        logger.log('inline editor: updating', item);\n        const html = item.innerHTML;\n        updateToSend.content = html;\n        const updated = _.set(mjmlJson, path.slice(1), updateToSend);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport const ResetEventBehaviour = (e: any) => {\n  logger.log('::reset', e.target);\n  if (\n    e.target &&\n    e.target.tagName === 'INPUT' &&\n    e.target.className &&\n    e.target.className.includes('inline-editor-link')\n  ) {\n    logger.log('::reset, returning');\n    return;\n  }\n  logger.log('::reset->reset behaviour', e.target);\n  e.preventDefault();\n  e.stopPropagation();\n  return false;\n};\n\nexport { InlineEditor };\n","import { message, Modal } from 'antd';\nimport _ from 'lodash';\nimport { createContext, FC, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { useLazyGetTemplateQuery } from '../Api/api';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { HEADSTYLE } from '../Components/Mods/HeadStyle';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { importJson } from '../Utils/mjmlProcessor';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { config } from 'process';\n\nexport const EditorContext = createContext<any>(null);\n\nexport const PageHeaderItems = [\n  { tagName: 'mj-title', attributes: {}, children: [] },\n  { tagName: 'mj-style', content: HEADSTYLE },\n  ...FONTS_CONFIG.map((font) => {\n    return {\n      tagName: 'mj-font',\n      attributes: {\n        name: font.name,\n        href: font.value,\n      },\n    };\n  }),\n];\n\nconst initialState = {\n  tagName: 'mjml',\n  children: [\n    {\n      tagName: 'mj-head',\n      attributes: {},\n      children: PageHeaderItems,\n    },\n    {\n      tagName: 'mj-body',\n      attributes: { 'css-class': 'mjml-tag identifier-mj-body', 'background-color': 'grey', width: '600px' },\n      children: [],\n    },\n  ],\n  attributes: {},\n};\n\nconst LOADING_KEY = 'loading';\n\nexport const EDContext: FC = (props) => {\n  const { templateId }: { templateId: string | undefined } = useParams();\n  const { getId } = useDragAndDropUniqueId();\n  const [mjmlJson, setMjmlJson] = useState<any>(null);\n  const [trigger, { data, isError, isLoading, isSuccess }] = useLazyGetTemplateQuery();\n\n  useEffect(() => {\n    // if app crashed/ user left while editing, restoring from local\n    const actions = localStorage.getItem('actions');\n\n    async function restoreFromLocalStorage() {\n      let result = false;\n      if (actions) {\n        result = await modalConfirmLoadLocalState(\n          () => {\n            const parsed = JSON.parse(actions);\n            const processed = importJson(parsed[parsed.length - 1], getId, true);\n            UNDOREDO.newAction(_.cloneDeep(processed));\n            setMjmlJson(processed);\n          },\n          () => {\n            setMjmlJson(_.cloneDeep(initialState));\n            UNDOREDO.newAction(_.cloneDeep(initialState));\n            localStorage.removeItem('actions');\n          }\n        );\n      }\n      return result;\n    }\n\n    restoreFromLocalStorage().then((isRestored) => {\n      if (isRestored) {\n        return;\n      } else {\n        if (templateId === 'new' || typeof templateId === 'undefined') {\n          UNDOREDO.newAction(_.cloneDeep(initialState));\n          setMjmlJson(_.cloneDeep(initialState));\n        } else {\n          if (templateId) {\n            message.loading({ content: 'Fetching Template...', key: LOADING_KEY, duration: 0 });\n            trigger({ id: templateId });\n          }\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess && data) {\n      try {\n        const processedJson = importJson(JSON.parse(data.response.data), getId);\n        setMjmlJson(processedJson);\n        UNDOREDO.newAction(_.cloneDeep(processedJson));\n      } catch (e) {\n        message.error('Unable to load template', 3);\n      }\n    } else if (isSuccess && !data) {\n      message.error('Template is empty', 2);\n    }\n    if (isSuccess) {\n      message.destroy(LOADING_KEY);\n    }\n    if (isError) {\n      message.info('Network error, template not fetched.', 2);\n    }\n  }, [isError, isLoading, isSuccess, data]);\n\n  const [attributes, setAttributes] = useState<any>({});\n\n  return (\n    <EditorContext.Provider\n      value={{\n        mjmlJson: mjmlJson,\n        setMjmlJson,\n        attributes,\n        setAttributes,\n      }}\n    >\n      {props.children}\n    </EditorContext.Provider>\n  );\n};\n\nconst modalConfirmLoadLocalState = async (okCallback: () => void, cancelCallback: () => void) => {\n  return new Promise<boolean>((resolve, reject) => {\n    Modal.confirm({\n      title: 'Confirm',\n      icon: <ExclamationCircleOutlined />,\n      content: 'local save found do you want to load it?',\n      okText: 'restore',\n      cancelText: 'cancel',\n      onOk: () => {\n        okCallback();\n        resolve(true);\n      },\n      onCancel: () => {\n        cancelCallback();\n        resolve(false);\n      },\n    });\n  });\n};\n","export const HEADSTYLE = 'a{text-decoration:none!important} .htmlblock {}';\n","import { createContext, FC, memo, useContext, useEffect, useRef, useState } from 'react';\nimport { logger } from '../Utils/logger';\n\nexport const HtmlContext = createContext<any>(null);\n\nexport const HtmlContextProvider: FC = memo((props) => {\n  const [uiWrapperList, setUIWrapperList] = useState([]);\n\n  const [activeHover, setActiveHover] = useState<any>();\n\n  const [active, setActive] = useState<any>();\n\n  const ref = useRef<any>(1);\n\n  const [id, setId] = useState<any>(1);\n\n  const getId = () => {\n    setId(id + 1);\n    logger.log('getId', id);\n  };\n\n  //todo: fn remove id from the uiWrapperList, if possible upgrade list to map\n\n  return (\n    <HtmlContext.Provider\n      value={{\n        uiList: uiWrapperList,\n        setUIWrapperList,\n        activeHover,\n        setActiveHover,\n        active,\n        setActive,\n        id,\n        setId,\n        getId,\n      }}\n    >\n      <div>{<>{logger.log('uiContextRerendering', ref.current++)} </>}</div>\n      {props.children}\n    </HtmlContext.Provider>\n  );\n});\n","import { useContext } from 'react';\nimport { HtmlContext } from '../Context/Htmlwrapper.context';\n\nexport const useHtmlWrapper = () => {\n  const htmlContext = useContext(HtmlContext);\n  return htmlContext as unknown as {\n    uiList: any[];\n    setUIWrapperList: (prev?: any) => void;\n    activeHover: any;\n    setActiveHover: (id: string) => void;\n    active: any;\n    setActive: (args: any) => void;\n    id: any;\n    setId: (prev?: any) => void;\n    getId: () => number;\n  };\n};\n","import _ from 'lodash';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { EditorContext } from '../Context/Editor.context';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { logger } from '../Utils/logger';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\nexport const useEditor = () => {\n  const context = useContext(EditorContext);\n  return context as unknown as {\n    mjmlJson: any;\n    setMjmlJson: (v: any) => void;\n    attributes: any;\n    setAttributes: (v: any) => void;\n  };\n};\n\nexport const useEditorUpdater = () => {\n  const { active: activeElement } = useHtmlWrapper();\n  const { setMjmlJson, mjmlJson } = useEditor();\n  const [item, setItem] = useState<any>(null);\n  const [path, setPath] = useState<any>(null);\n\n  useEffect(() => {\n    logger.log('editor value updater: ae->', activeElement);\n    if (activeElement && mjmlJson) {\n      const uniqueIdentifer = findUniqueIdentifier(activeElement as HTMLElement, activeElement.classList);\n      if (uniqueIdentifer) {\n        const find = findElementInJson(mjmlJson, uniqueIdentifer);\n        if (find) {\n          const [, _path] = find;\n          setPath(_path);\n          const _item = _.get(mjmlJson, _path.slice(1));\n          if (_item) {\n            setItem(_item);\n          }\n        } else {\n          logger.log(`editor value updater: unable to find item in json, ${find}, identifier: ${uniqueIdentifer}`);\n        }\n      }\n    }\n  }, [activeElement]);\n\n  const update = useCallback(\n    (updatedValue: any) => {\n      if (path) {\n        const updated = _.set(mjmlJson, path.slice(1), updatedValue);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    },\n    [path]\n  );\n\n  return [item, update];\n};\n","import { createContext, FC, useState } from 'react';\n\ntype Set<T> = React.Dispatch<React.SetStateAction<T>>;\n\nexport const CustomEditorContext = createContext<{\n  position: { x: number; y: number; setX: Set<number>; setY: Set<number> };\n  status: { active: boolean; setActive: Set<boolean> };\n}>({ position: { x: 0, y: 0, setX: () => {}, setY: () => {} }, status: { active: false, setActive: () => {} } });\n\nexport const CustomEditorProvider: FC = (props) => {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [active, setActive] = useState(false);\n  return (\n    <CustomEditorContext.Provider value={{ position: { x, y, setX, setY }, status: { active, setActive } }}>\n      {props.children}\n    </CustomEditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CustomEditorContext } from '../Context/CustomEditor.context';\n\nconst useCustomEditorPosition = () => {\n  const { position } = useContext(CustomEditorContext);\n  return position;\n};\n\nconst useCustomEditorStatus = () => {\n  const { status } = useContext(CustomEditorContext);\n  return status;\n};\n\nexport { useCustomEditorPosition, useCustomEditorStatus };\n","const detectEmptyElement = (nodeWithReactProperties: any, detect: string) => {\n  return (\n    detectElement(nodeWithReactProperties, detect) &&\n    nodeWithReactProperties.children &&\n    nodeWithReactProperties.children < 1\n  );\n};\n\nconst detectElement = (nodeWithReactProperties: any, detect: string) => {\n  if (!detect) {\n    return false;\n  } else if (detect === 'body') {\n    detect = 'identifier-mj-body';\n  } else if (detect === 'section') {\n    detect = 'identifier-mj-section';\n  } else if (detect === 'column') {\n    detect = 'identifier-mj-column';\n  } else {\n    return false;\n  }\n\n  return (\n    nodeWithReactProperties.props &&\n    nodeWithReactProperties.props['className'] &&\n    typeof nodeWithReactProperties.props['className'] === 'string' &&\n    nodeWithReactProperties.props['className'].includes(detect)\n  );\n};\n\nconst countEmptyChildrenLevels = (nodeWithReactProperties: any, count: number = 0): number => {\n  if (!nodeWithReactProperties) {\n    return count + 0;\n  }\n  let children = null;\n  if (nodeWithReactProperties['children']) {\n    children = nodeWithReactProperties['children'][0];\n  } else if (nodeWithReactProperties['props']['children']) {\n    children = nodeWithReactProperties['props']['children'][0];\n  }\n  if (children) {\n    return countEmptyChildrenLevels(children, count + 1);\n  } else {\n    return count;\n  }\n};\n\nexport { detectElement, detectEmptyElement, countEmptyChildrenLevels };\n","import { findUniqueIdentifier } from './closestParent';\n\nconst recursivelyFindParent = (node: HTMLElement | any, parentClassPartial: string): any => {\n  if (!node) {\n    return null;\n  }\n  let parent = node.closest('.mjml-tag');\n  if (parent && parent.classList) {\n    const uniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (uniqueIdentifier && uniqueIdentifier.includes(parentClassPartial)) {\n      return [parent, uniqueIdentifier];\n    }\n    parent = parent.parentElement;\n  }\n\n  return recursivelyFindParent(parent, parentClassPartial);\n};\n\nconst findColumnOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-column');\n};\n\nconst findSectionOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-section');\n};\n\nexport { findColumnOfElement, findSectionOfElement };\n","import { floor } from 'lodash';\n\nconst isEventWithTargetElement = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventX = event.clientX;\n  const eventY = event.clientY;\n\n  let within = pos && eventX && eventY && true;\n\n  if (eventX < pos.left || eventX > pos.right) {\n    within = false;\n  }\n\n  if (eventY < pos.top || eventY > pos.bottom) {\n    within = false;\n  }\n\n  return within;\n};\n\nconst closeToTopOrBottom = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventY = event.clientY;\n\n  if (isEventWithTargetElement(event, target)) {\n    const middle = floor((pos.bottom - pos.top) / 2) + pos.top;\n    if (eventY < middle) {\n      return 'top';\n    } else if (eventY > middle) {\n      return 'bottom';\n    }\n  }\n\n  return false;\n};\n\nexport { isEventWithTargetElement, closeToTopOrBottom };\n","import _ from 'lodash';\nimport { findUniqueIdentifier, findUniqueIdentifierFromString } from './closestParent';\nimport { closeToTopOrBottom, isEventWithTargetElement } from './eventElementRelation';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\n\ninterface generateDropItemPlacehodlerProps {\n  setMjmlJson: any;\n  mjmlJson: any;\n  nearestTag: any;\n  columnElement: any;\n  currentTarget: any;\n  event: any;\n}\n\nconst generateDropItemPlaceholder = ({\n  mjmlJson,\n  setMjmlJson,\n  columnElement,\n  event: e,\n  currentTarget,\n  nearestTag,\n}: generateDropItemPlacehodlerProps) => {\n  if (columnElement && nearestTag) {\n    const nearestElement = currentTarget.closest(`.${nearestTag}`);\n    if (nearestElement && columnElement) {\n      if (isEventWithTargetElement(e, columnElement)) {\n        const suggestionDirection = closeToTopOrBottom(e, nearestElement);\n        if (suggestionDirection) {\n          let item = findElementInJson(_.cloneDeep(mjmlJson), nearestTag);\n          if (item) {\n            const [, path]: [any, string] = item;\n            // omit the last .child.. index, cuz parent is needed\n            const parent = path.slice(1, path.lastIndexOf('.children'));\n            let parentObj = _.get(_.cloneDeep(mjmlJson), parent);\n            let newOrder = [];\n            for (var i = 0; parentObj && parentObj.children && i < parentObj.children.length; i++) {\n              let childItem = parentObj['children'][i];\n              logger.log(childItem);\n              const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n              // if there is existing placeholders, removing them\n              if (cssClass && cssClass.includes('placeitem-placeholder')) {\n                continue;\n              }\n              if (cssClass && cssClass.includes(nearestTag)) {\n                if (suggestionDirection === 'top') {\n                  newOrder.push(placeItemPlaceHolder, childItem);\n                } else if (suggestionDirection === 'bottom') {\n                  newOrder.push(childItem, placeItemPlaceHolder);\n                }\n                continue;\n              }\n              newOrder.push(childItem);\n            }\n\n            if (parentObj && newOrder.length > 0) {\n              // replace with new order\n              parentObj.children = newOrder;\n              const updated = _.set(_.cloneDeep(mjmlJson), parent, parentObj);\n              const uniqueColumnIdentifier = findUniqueIdentifier(\n                columnElement,\n                columnElement.classList,\n                'identifier-mj-column'\n              );\n              if (uniqueColumnIdentifier) {\n                const cleaned = cleanMjmlJson(updated, uniqueColumnIdentifier);\n                if (!_.isEqual(mjmlJson, cleaned)) {\n                  logger.log('::update::', mjmlJson, cleaned);\n                  setMjmlJson({ ...cleaned });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              } else {\n                if (!_.isEqual(mjmlJson, updated)) {\n                  logger.log('::update::', mjmlJson, updated);\n                  setMjmlJson({ ...updated });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst genereateDropItemPlaceholderForColumn = ({\n  mjmlJson,\n  setMjmlJson,\n  nearestTag,\n}: Omit<generateDropItemPlacehodlerProps, 'event' | 'columnElement' | 'currentTarget'>) => {\n  if (nearestTag) {\n    let find = findElementInJson(mjmlJson, nearestTag);\n    if (find) {\n      const cleanedMjmlJson = cleanMjmlJson(_.cloneDeep(mjmlJson));\n      logger.log('::beforechange::', mjmlJson, cleanedMjmlJson);\n      const [, path]: [any, string] = find;\n      let columnObj = _.get(_.cloneDeep(cleanedMjmlJson), path.slice(1));\n      let newOrder = [];\n      for (let i = 0; columnObj && columnObj.children && i < columnObj.children.length; i++) {\n        const childItem = columnObj['children'][i];\n        const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n        // if there is existing placeholders, removing them\n        if (cssClass && cssClass.includes('placeitem-placeholder')) {\n          continue;\n        }\n        // remove column empty placeholders\n        if (cssClass && cssClass.includes('mj-placeholder')) {\n          continue;\n        }\n        newOrder.push(childItem);\n      }\n\n      // newOrder will not be zero if the column already has items\n      if (newOrder.length > 0) {\n        // todo: handle generateDropItemPlaceholder inside this fn.\n        //  by getting event and performing calculations.\n        return false;\n      }\n\n      // add the new element\n      newOrder.push(placeItemPlaceHolder);\n\n      let sectionPath = path.slice(1, path.lastIndexOf('.children'));\n      if (columnObj) {\n        //  section can contain multiple,\n        // identify which column is active and replace with new order\n        columnObj.children = newOrder;\n        let parentSection = _.get(_.cloneDeep(cleanedMjmlJson), sectionPath);\n        let columnChildrenNewOrder = [];\n        for (let i = 0; parentSection && parentSection.children && i < parentSection.children.length; i++) {\n          const childColumn = parentSection['children'][i];\n          const cssClass = childColumn.attributes && childColumn['attributes']['css-class'];\n          const uniqueIdentifer = findUniqueIdentifierFromString(cssClass);\n          // nearestTag is the  uniqueId of the column,\n          //   replace the old column with new one\n          if (uniqueIdentifer === nearestTag) {\n            columnChildrenNewOrder.push(columnObj);\n            continue;\n          }\n          columnChildrenNewOrder.push(childColumn);\n        }\n        parentSection.children = columnChildrenNewOrder;\n        const updated = _.set(cleanedMjmlJson, sectionPath, parentSection);\n        if (!_.isEqual(mjmlJson, updated)) {\n          logger.log('::update::', cleanedMjmlJson, updated);\n          setMjmlJson({ ...updated });\n        } else {\n          logger.log('::update:: -> but elements are the same, not triggering rerender');\n        }\n        return true;\n      }\n    }\n  }\n};\n\nexport { generateDropItemPlaceholder, genereateDropItemPlaceholderForColumn };\n\nconst placeItemPlaceHolder = {\n  tagName: 'mj-text',\n  attributes: {\n    align: 'center',\n    'css-class': 'placeitem-placeholder',\n  },\n  content: '<h1> + </h1>',\n};\n","const typeoftag = (className: string) => {\n  let regExMatch = 'content';\n  let regex = className.match(/identifier-mj-(.*)/);\n  if (regex) {\n    regExMatch = regex[1];\n    if (regExMatch.includes('social-element')) {\n      regExMatch = regExMatch.replace('social-element', 'icon');\n    }\n\n    if (regExMatch.includes('-')) {\n      regExMatch = regExMatch.split('-')[0];\n    }\n  }\n  return regExMatch;\n};\n\nexport { typeoftag };\n","import _ from 'lodash';\nimport { findUniqueIdentifierFromString } from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { UNDOREDO } from './undoRedo';\n\nconst moveSectionUp = (className: string, mjmlJson: any, setMjmlJson: any, directon = 'up') => {\n  const uniqueClassName = findUniqueIdentifierFromString(className);\n  if (uniqueClassName) {\n    const child = findElementInJson(mjmlJson, uniqueClassName);\n    const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n    if (child && parent) {\n      const [parentItem, parentPath] = parent;\n      const [childItem] = child;\n\n      let newOrder = [];\n      let indexOfItem = -1;\n      for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n        const childSection = parentItem.children[i];\n        if (childSection && childSection.attributes && childSection.attributes['css-class'].includes(uniqueClassName)) {\n          indexOfItem = i;\n          break;\n        }\n      }\n\n      if (indexOfItem !== -1) {\n        for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n          const childSection = parentItem.children[i];\n          if (childSection && directon === 'up') {\n            // moveup -> indexOfItem -1;\n            if (i === indexOfItem - 1) {\n              newOrder.push(childItem);\n              newOrder.push(childSection);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n          if (childSection && directon === 'down') {\n            // movedown\n            if (i === indexOfItem) {\n              const nextChild = parentItem.children[i + 1];\n              newOrder.push(nextChild);\n              newOrder.push(childItem);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n        }\n      }\n      if (newOrder.length > 1) {\n        let update_parent = _.cloneDeep(parentItem);\n        update_parent.children = _.cloneDeep(newOrder);\n        const updated = _.set(mjmlJson, parentPath.slice(1), update_parent);\n        UNDOREDO.newAction(updated);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nconst moveSectionDown = (uniqueClassName: string, mjmlJson: any, setMjmlJson: any) => {\n  return moveSectionUp(uniqueClassName, mjmlJson, setMjmlJson, 'down');\n};\n\nexport { moveSectionUp, moveSectionDown };\n","import { logger } from './logger';\n\nconst InlineEditorActions = (e: any, type: string, extras = '') => {\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  logger.log('editor action:', type, extras);\n  switch (type) {\n    case 'bold':\n      document.execCommand('bold');\n      break;\n    case 'underline':\n      document.execCommand('underline');\n      break;\n    case 'italics':\n      document.execCommand('italic');\n      break;\n    case 'size':\n      document.execCommand('fontSize', false, extras);\n      break;\n    case 'color':\n      document.execCommand('backColor', false, extras);\n      break;\n    case 'fontColor':\n      document.execCommand('foreColor', false, extras);\n      break;\n    case 'fontFamily':\n      document.execCommand('fontName', false, extras);\n      break;\n    default:\n      logger.info(`unhandled action ${type}`);\n  }\n  return false;\n};\n\nexport { InlineEditorActions };\n","import styled from 'styled-components';\nimport { ChromePicker } from 'react-color';\nimport { useState } from 'react';\n\ninterface ColorPickerProps {\n  handleChange: (color: string) => void;\n  mouseDown: boolean;\n}\n\nexport const ColorPicker = ({ handleChange, mouseDown }: ColorPickerProps) => {\n  const [color, setColor] = useState(() => '#ccc');\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    handleChange(`rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`);\n  };\n\n  return (\n    <ColorPickerContainer\n      onMouseDown={(e) => {\n        if (!mouseDown) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }}\n      color={color}\n    >\n      <div className=\"popover\">\n        <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n      </div>\n    </ColorPickerContainer>\n  );\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPickerContainer = styled.div`\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n`;\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { useEditor } from './Editor.hook';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\ninterface useVisibilityProps {\n  attribute?: string;\n  property?: string;\n  customPath?: string;\n}\n\nconst useVisibility = ({ attribute, property, customPath }: useVisibilityProps): [boolean | null, string, any] => {\n  const [visible, setVisible] = useState<boolean | null>(false);\n\n  const { active } = useHtmlWrapper();\n\n  const [path, setPath] = useState('');\n\n  const { mjmlJson } = useEditor();\n\n  useEffect(() => {\n    if (active) {\n      const uniqueIdentifier = findUniqueIdentifier(active, active.classList);\n      if (uniqueIdentifier) {\n        let path = findElementInJson(mjmlJson, uniqueIdentifier);\n\n        if (customPath) {\n          path = [null, '.' + customPath];\n        }\n\n        if (path) {\n          const [, pathToElement] = path;\n          if (pathToElement.length > 0) {\n            setPath(pathToElement.slice(1));\n          }\n          if (attribute) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item.mutableProperties && item.mutableProperties.includes(attribute)) {\n              setVisible(true);\n              return;\n            }\n          } else if (property) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item[property]) {\n              setVisible(true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    setVisible(false);\n    setPath('');\n  }, [active]);\n\n  return [visible, path, active];\n};\n\ninterface useValueProps {\n  path: string;\n  visible: boolean | null;\n  attribute: string;\n}\n\nconst useValue = ({ path, visible, attribute }: useValueProps) => {\n  const { mjmlJson } = useEditor();\n  // todo: optimize this\n  const getValue = () => {\n    let value = '';\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      if (element && element.attributes) {\n        value = element.attributes[attribute];\n      }\n    }\n    return value;\n  };\n\n  return { getValue };\n};\n\nexport { useVisibility, useValue };\n","import { useEffect, useState } from 'react';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { useValue, useVisibility } from './Attribute.hook';\n\nconst ATTRIBUTE = 'font-family';\nconst defaultFonts = ['Ubuntu', 'Helvetica', 'Arial', 'sans-serif'];\nconst fonts = FONTS_CONFIG.map((font) => font.name.trim());\n\nconst useFonts = (): [string[], string] => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      const _value = getValue();\n      if (_value && _value.indexOf(',')) {\n        const _fonts = _value.split(',')[0];\n        setValue(_fonts);\n      }\n    }\n  }, [getValue]);\n\n  return [[...defaultFonts, ...fonts], value];\n};\n\nexport { useFonts };\n","import _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport FormItem from 'antd/lib/form/FormItem';\n\nconst ATTRIBUTE = 'href';\n\nconst Link = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (path && visible) {\n      setValueInState(e.target.value);\n    }\n  };\n\n  const setValueInState = (userValue: string) => {\n    let json = {};\n    let element = _.get(mjmlJson, path);\n    element.attributes[ATTRIBUTE] = userValue;\n    json = _.set(mjmlJson, path, element);\n    setMjmlJson({ ...json });\n  };\n\n  // if entered url does not contain 'https://' | 'http://' add it on blur event,\n  // after the user finises typing.\n  const onBlur = (e: any) => {\n    if (e && e.target && e.target.value) {\n      const url = addHttps(e.target.value);\n      setValueInState(url);\n      setValue(url);\n    }\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore={ATTRIBUTE} onBlur={onBlur} onChange={handleChange} value={value} />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nconst addHttps = (url: string) => {\n  url = url.trim();\n  if (url && !url.includes('https://') && !url.includes('http://')) {\n    url = `https://${url}`;\n  }\n  return url;\n};\n\nexport { Link, addHttps };\n","import { VerticalAlignTopOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { findUniqueIdentifierFromString } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { moveSectionDown, moveSectionUp } from '../Utils/reorderSections';\nimport { ResetEventBehaviour } from './Mods/CustomInlineEditor';\n\ninterface MoveUpDownProps {\n  idRef: any;\n  active: any;\n  className: string;\n}\n\nconst MoveUpDown = ({ className, idRef, active }: MoveUpDownProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [upActive, setUpActive] = useState(true);\n  const [downActive, setDownActive] = useState(true);\n\n  useEffect(() => {\n    if (idRef.current === active) {\n      const uniqueClassName = findUniqueIdentifierFromString(className);\n      if (uniqueClassName) {\n        const child = findElementInJson(mjmlJson, findUniqueIdentifierFromString(className));\n        const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n        if (child && parent) {\n          const [parentItem] = parent;\n          const [childItem] = child;\n\n          // if section element is the first element\n          if (parentItem && parentItem.children && parentItem.children.length === 1) {\n            setUpActive(false);\n            setDownActive(false);\n            return;\n          } else if (parentItem && parentItem.children && parentItem.children.length > 1) {\n            const lastItem = parentItem.children.length - 1;\n            for (let i = 0; i < parentItem.children.length; i++) {\n              const childSection = parentItem.children[i];\n              if (\n                childSection &&\n                childSection.attributes &&\n                childSection.attributes['css-class'] &&\n                childSection.attributes['css-class'].includes(uniqueClassName)\n              ) {\n                if (i === lastItem) {\n                  setDownActive(false);\n                  setUpActive(true);\n                  break;\n                } else if (i === 0) {\n                  setUpActive(false);\n                  setDownActive(true);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [mjmlJson, idRef, active]);\n\n  const MoveUp = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionUp(className, mjmlJson, setMjmlJson);\n  };\n\n  const MoveDown = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionDown(className, mjmlJson, setMjmlJson);\n  };\n\n  return (\n    <div\n      onMouseDown={ResetEventBehaviour}\n      style={{ position: 'relative', display: active === idRef.current ? 'block' : 'none' }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          left: -38,\n          bottom: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          rowGap: '4px',\n        }}\n      >\n        <Button\n          type=\"primary\"\n          disabled={!upActive}\n          onClick={MoveUp}\n          icon={<VerticalAlignTopOutlined style={{ fontSize: '20px' }} />}\n        />\n        <Button\n          type=\"primary\"\n          disabled={!downActive}\n          onClick={MoveDown}\n          icon={<VerticalAlignBottomOutlined style={{ fontSize: '20px' }} />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport { MoveUpDown };\n","import _ from 'lodash';\nimport { cloneElement, createElement, memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { findClosestParent, findUniqueIdentifier } from '../Utils/closestParent';\nimport { detectEmptyElement } from '../Utils/detectEmptyBody';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findColumnOfElement } from '../Utils/findElementsParent';\nimport {\n  generateDropItemPlaceholder,\n  genereateDropItemPlaceholderForColumn,\n} from '../Utils/generateDropItemPlaceholder';\nimport { logger } from '../Utils/logger';\nimport { setToolBars } from '../Utils/setToolbarPositions';\nimport { typeoftag } from '../Utils/typeoftag';\nimport { MoveUpDown } from './MoveUpDownRow';\n\ninterface HtmlWrapperProps {\n  // children: React.DOMElement<React.DOMAttributes<Element>, Element>;\n  uniqueKey: string | number;\n  originalNode: any;\n}\n\nexport const HtmlWrapper = memo(({ uniqueKey, originalNode }: HtmlWrapperProps) => {\n  const { setUIWrapperList, setActive, setActiveHover, active, activeHover, id, setId, getId, uiList } =\n    useHtmlWrapper();\n  const {\n    setDelActive,\n    setDelX,\n    setDelY,\n    copy,\n    drag: { isColumn },\n  } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { setX: customEditorSetX, setY: customEditorSetY } = useCustomEditorPosition();\n  const { setActive: setCustomEditorStatus } = useCustomEditorStatus();\n  const idRef = useRef(id);\n  const uniqueId = useRef(id);\n\n  const { setCopyX, setCopyActive, setCopyY } = copy;\n\n  useEffect(() => {\n    getId();\n  }, []);\n\n  // while move items in editor, hide these\n  useEffect(() => {\n    if (active === null) {\n      setCopyActive(false);\n      setDelActive(false);\n      setCustomEditorStatus(false);\n    }\n  }, [active]);\n\n  const onHover = useMemo(\n    () => (e: any) => {\n      setActiveHover(idRef.current);\n    },\n    [idRef]\n  );\n\n  const onClick = useMemo(\n    () =>\n      idRef.current === activeHover\n        ? (e: any) => {\n            // text element with links in editor mode, should not trigger clicks\n            if (e && e.target && e.target.tagName === 'A') {\n              e.preventDefault();\n            }\n            setActive(idRef.current);\n            const clickTarget = e.target;\n            const mjmlTarget = clickTarget.closest('.mjml-tag');\n            if (mjmlTarget) {\n              const pos = mjmlTarget.getBoundingClientRect();\n\n              // activate editor only for text elements,\n              const identifier = findUniqueIdentifier(mjmlTarget, mjmlTarget.classList);\n              if (identifier?.includes('text')) {\n                const x = pos.left;\n                const y = pos.top - 38;\n\n                setCustomEditorStatus(true);\n                customEditorSetX(x);\n                customEditorSetY(y);\n              } else {\n                setCustomEditorStatus(false);\n              }\n\n              // moving the delete positon to currently selected elements right\n              setDelActive(true);\n              setCopyActive(true);\n\n              setToolBars({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } });\n            }\n          }\n        : null,\n    [idRef, activeHover]\n  );\n  const draggable = activeHover === idRef.current && !idRef.current.className.includes('section');\n  const cursetStyle = useMemo(() => (activeHover === idRef.current ? 'pointer' : 'default'), [activeHover, idRef]);\n  const outline = activeHover === idRef.current ? '2px dashed rgb(121, 202, 182)' : 'unset';\n  const outlineClick = active === idRef.current ? '2px solid rgb(121, 202, 182)' : 'unset';\n\n  // detect empty body\n  if (detectEmptyElement(originalNode, 'body')) {\n    logger.info('empty body detected');\n  }\n  // detect empty section\n  if (detectEmptyElement(originalNode, 'section')) {\n    logger.info('empty section detected');\n  }\n\n  const onDragStart = (e: any) => {\n    if (active) {\n      setActive(null);\n    }\n    e.dataTransfer.dropEffect = 'move';\n    const uniqueClassName = findClosestParent(e.target);\n    const find = findElementInJson(mjmlJson, uniqueClassName);\n    if (find) {\n      const [, path] = find;\n      let item = _.get(mjmlJson, path.slice(1));\n      item = { mode: 'move', uniqueClassName: uniqueClassName, config: _.cloneDeep(item) };\n      // let target = e.target;\n      // const backup = target.children[1]?.cloneNode(true);\n      // target.children[1].remove();\n      // target.addEventListener('dragend', () => {\n      //   target.appendChild(backup);\n      // });\n      const dummyElement = document.createElement('div');\n\n      e.dataTransfer.setDragImage(dummyElement, 0, 0);\n      e.dataTransfer.setData('config', JSON.stringify(item));\n    } else {\n      logger.info(`move items: drag unable to find the config to transfer ${uniqueClassName}`);\n    }\n  };\n\n  const memoFind = useCallback((e: HTMLElement) => findColumnOfElement(e), []);\n\n  //todo: add removed perfomance optimization once functionality dev is complete.\n  const onDragOver = (e: any) => {\n    if (isColumn) {\n      // column & section can not be nested,\n      return;\n    }\n    const currentTarget = e.nativeEvent.target;\n    const nearestTag = findClosestParent(currentTarget);\n    // only show place item sign for column's children\n    if (nearestTag?.includes('mj-column') || nearestTag?.includes('mj-section')) {\n      logger.log('::indicator: trigger->column');\n      if (nearestTag.includes('mj-column')) {\n        const madeChange = genereateDropItemPlaceholderForColumn({ mjmlJson, nearestTag, setMjmlJson });\n        if (madeChange === true) {\n          logger.log('::indicator: trigger->column -> stopping further processing');\n          return;\n        }\n        logger.log('::indicator: trigger->column -> no updates where done -> proceeding further processing');\n      }\n    }\n\n    let columnElement = memoFind(currentTarget);\n    // find column of element returns element and uniqueIdentifier\n    if (columnElement) {\n      [columnElement] = columnElement;\n    }\n    logger.log('::indicator: trigger->insideColumn');\n    generateDropItemPlaceholder({\n      mjmlJson,\n      nearestTag,\n      columnElement,\n      currentTarget,\n      setMjmlJson,\n      event: e,\n    });\n  };\n\n  const tag = typeoftag(originalNode.props.className);\n\n  const ItemName = createElement(\n    'div',\n    {\n      style: {\n        position: 'absolute',\n        right: -2,\n        bottom: -24,\n        zIndex: 100,\n        display: tag !== 'social-element' ? 'block' : 'none',\n        minWidth: 64,\n        textAlign: 'right',\n      },\n      draggable: false,\n    },\n\n    activeHover === idRef.current || active === idRef.current\n      ? createElement(\n          'span',\n          { style: { padding: '4px 6px', background: '#1890ff', color: 'white', fontSize: '14px' } },\n          typeoftag(originalNode.props.className)\n        )\n      : null\n  );\n\n  const Element = createElement(\n    originalNode.nodeName as string,\n    {\n      ...originalNode.props,\n      onMouseEnter: onHover,\n      onMouseLeave: onHover,\n      onDragOver: _.debounce(onDragOver, 150),\n      onDragStart,\n      draggable,\n      ref: idRef,\n      id: uniqueId.current,\n      onClick,\n      key: uniqueKey,\n      style: {\n        ...originalNode.props.style,\n        cursor: 'pointer',\n        outline: active === idRef.current ? outlineClick : outline,\n        position: 'relative',\n      },\n    },\n    originalNode.children ? [...originalNode.children, ItemName] : null\n  );\n\n  // for sections show Indicators to show up and down.\n  if (originalNode && originalNode.props.className.includes('mj-section')) {\n    return (\n      <>\n        {Element}\n        <MoveUpDown className={originalNode.props.className} idRef={idRef} active={active} />\n      </>\n    );\n  }\n\n  return Element;\n});\n","import { floor } from 'lodash';\n\ntype fn = (arg: number) => void;\n\ninterface SetToolBarsProps {\n  pos: any;\n  delete: {\n    setDelX: fn;\n    setDelY: fn;\n  };\n  copy: {\n    setCopyX: fn;\n    setCopyY: fn;\n  };\n}\n\nconst setToolBars = ({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } }: SetToolBarsProps) => {\n  const IconSize = 32;\n  const numberOfIcons = 2 * IconSize;\n  if (pos) {\n    setDelX(pos.right + 4);\n    const middle = floor((pos.bottom - pos.top) / 2) - numberOfIcons / 2;\n    setDelY(pos.top + middle);\n    setCopyX(pos.right + 4);\n    // below the delete icon, with a little offset\n    setCopyY(pos.top + middle + IconSize + 4);\n  }\n};\n\nexport { setToolBars };\n","//https://raw.githubusercontent.com/facebook/react/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/shared/possibleStandardNames.js\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// When adding attributes to the HTML or SVG allowed attribute list, be sure to\n// also add them to this module to ensure casing and incorrect name\n// warnings.\nconst possibleStandardNames: any = {\n  // HTML\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  alt: 'alt',\n  align: 'align', // deprecated, but still adding it since, mjml uses it, msdn: Instead of using the obsolete align attribute, you should instead use the CSS text-align property to establish left, center, right, or justify alignment for the row's cells. To apply character-based alignment, set the CSS text-align property to the alignment character (such as \".\" or \",\").\n  as: 'as',\n  async: 'async',\n  autocapitalize: 'autoCapitalize',\n  autocomplete: 'autoComplete',\n  autocorrect: 'autoCorrect',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  autosave: 'autoSave',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  children: 'children',\n  cite: 'cite',\n  class: 'className',\n  classid: 'classID',\n  classname: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlslist: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  dangerouslysetinnerhtml: 'dangerouslySetInnerHTML',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defaultchecked: 'defaultChecked',\n  defaultvalue: 'defaultValue',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  disablepictureinpicture: 'disablePictureInPicture',\n  disableremoteplayback: 'disableRemotePlayback',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  enterkeyhint: 'enterKeyHint',\n  for: 'htmlFor',\n  form: 'form',\n  formmethod: 'formMethod',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  innerhtml: 'innerHTML',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  itemid: 'itemID',\n  itemprop: 'itemProp',\n  itemref: 'itemRef',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginwidth: 'marginWidth',\n  marginheight: 'marginHeight',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nomodule: 'noModule',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG\n  about: 'about',\n  accentheight: 'accentHeight',\n  'accent-height': 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  'alignment-baseline': 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  'arabic-form': 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baselineshift: 'baselineShift',\n  'baseline-shift': 'baselineShift',\n  baseprofile: 'baseProfile',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  'cap-height': 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  'clip-path': 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  'clip-rule': 'clipRule',\n  color: 'color',\n  colorinterpolation: 'colorInterpolation',\n  'color-interpolation': 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  'color-profile': 'colorProfile',\n  colorrendering: 'colorRendering',\n  'color-rendering': 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  datatype: 'datatype',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  'dominant-baseline': 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  'enable-background': 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  'fill-opacity': 'fillOpacity',\n  fillrule: 'fillRule',\n  'fill-rule': 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodopacity: 'floodOpacity',\n  'flood-opacity': 'floodOpacity',\n  floodcolor: 'floodColor',\n  'flood-color': 'floodColor',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  'font-family': 'fontFamily',\n  fontsize: 'fontSize',\n  'font-size': 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  'font-size-adjust': 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  'font-stretch': 'fontStretch',\n  fontstyle: 'fontStyle',\n  'font-style': 'fontStyle',\n  fontvariant: 'fontVariant',\n  'font-variant': 'fontVariant',\n  fontweight: 'fontWeight',\n  'font-weight': 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  'glyph-name': 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  'horiz-adv-x': 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  'image-rendering': 'imageRendering',\n  in2: 'in2',\n  in: 'in',\n  inlist: 'inlist',\n  intercept: 'intercept',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  k: 'k',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  'letter-spacing': 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  'lighting-color': 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  'marker-end': 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  'marker-mid': 'markerMid',\n  markerstart: 'markerStart',\n  'marker-start': 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  'overline-position': 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  'overline-thickness': 'overlineThickness',\n  paintorder: 'paintOrder',\n  'paint-order': 'paintOrder',\n  panose1: 'panose1',\n  'panose-1': 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  'pointer-events': 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  prefix: 'prefix',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  property: 'property',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  'rendering-intent': 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  resource: 'resource',\n  restart: 'restart',\n  result: 'result',\n  results: 'results',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  security: 'security',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  'shape-rendering': 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  'stop-color': 'stopColor',\n  stopopacity: 'stopOpacity',\n  'stop-opacity': 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  'stroke-dasharray': 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  'stroke-linecap': 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  'stroke-linejoin': 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokewidth: 'strokeWidth',\n  'stroke-width': 'strokeWidth',\n  strokeopacity: 'strokeOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  suppresscontenteditablewarning: 'suppressContentEditableWarning',\n  suppresshydrationwarning: 'suppressHydrationWarning',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  'text-anchor': 'textAnchor',\n  textdecoration: 'textDecoration',\n  'text-decoration': 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  'text-rendering': 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  typeof: 'typeof',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  'underline-position': 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  'underline-thickness': 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  'unicode-bidi': 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  'unicode-range': 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  'units-per-em': 'unitsPerEm',\n  unselectable: 'unselectable',\n  valphabetic: 'vAlphabetic',\n  'v-alphabetic': 'vAlphabetic',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  'vector-effect': 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  'vert-adv-y': 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  'vert-origin-x': 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  'vertical-align': 'vertial-align',\n  'vert-origin-y': 'vertOriginY',\n  vhanging: 'vHanging',\n  'v-hanging': 'vHanging',\n  videographic: 'vIdeographic',\n  'v-ideographic': 'vIdeographic',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  vmathematical: 'vMathematical',\n  'v-mathematical': 'vMathematical',\n  vocab: 'vocab',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  'word-spacing': 'wordSpacing',\n  writingmode: 'writingMode',\n  'writing-mode': 'writingMode',\n  x1: 'x1',\n  x2: 'x2',\n  x: 'x',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  'x-height': 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  'xlink:actuate': 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  'xlink:href': 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  'xlink:role': 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  'xlink:show': 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  'xlink:title': 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  'xlink:type': 'xlinkType',\n  xmlbase: 'xmlBase',\n  'xml:base': 'xmlBase',\n  xmllang: 'xmlLang',\n  'xml:lang': 'xmlLang',\n  xmlns: 'xmlns',\n  'xml:space': 'xmlSpace',\n  xmlnsxlink: 'xmlnsXlink',\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlspace: 'xmlSpace',\n  y1: 'y1',\n  y2: 'y2',\n  y: 'y',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n};\n\nexport default possibleStandardNames;\n","import { createElement } from 'react';\n\ninterface WrapWithOutlineProps {\n  nodeName: string;\n  props: any;\n  children: any;\n  id: number;\n}\n\nconst WrapWithOutline = ({ nodeName, props, children, id }: WrapWithOutlineProps) => {\n  return createElement(\n    nodeName,\n    { ...props, key: id, style: { ...props.style, outline: '2px dashed rgb(121,202,182)' } },\n    children\n  );\n};\n\nexport { WrapWithOutline };\n","import React, { createElement, ReactNode } from 'react';\r\nimport { HtmlWrapper } from '../Components/HtmlWrapper';\r\nimport { logger } from './logger';\r\nimport possibleStandardNames from './reactPropertyNames';\r\nimport { WrapWithOutline } from './wrapWithOutline';\r\n\r\nconst DEBUG = false;\r\n\r\nconst domParser: any = new DOMParser();\r\n\r\nexport const htmlProcessor = (html: string): ReactNode => {\r\n  if (typeof html !== 'string') {\r\n    logger.error('htmlParser: html is not a string');\r\n    return React.createElement('div', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n\r\n  let doc = domParser.parseFromString(html, 'text/html');\r\n\r\n  if (doc === null) {\r\n    logger.error('htmlParser: doc is null, unable to process html');\r\n    return React.createElement('p', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n  return converter(doc as unknown as HTMLElement, 1);\r\n};\r\n\r\nconst converter = (element: HTMLElement, key = 0) => {\r\n  if (element === undefined) {\r\n    return;\r\n  }\r\n\r\n  let nodeName = element.nodeName.toLowerCase();\r\n\r\n  // meta, script, style, ..etc, tags don't have children,\r\n  if (\r\n    nodeName === 'script' ||\r\n    nodeName === 'style' ||\r\n    nodeName === 'meta' ||\r\n    nodeName === 'link' ||\r\n    nodeName === 'title' ||\r\n    nodeName === 'br'\r\n  ) {\r\n    if (nodeName === 'meta') {\r\n      let el = element as HTMLMetaElement;\r\n      return React.createElement(\r\n        nodeName,\r\n        { httpEquiv: el.httpEquiv, content: el.content, key: nodeName + key++ },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'link') {\r\n      let el = element as HTMLLinkElement;\r\n      let type = null;\r\n      if (el.type) {\r\n        type = el.type;\r\n      }\r\n      return React.createElement(\r\n        nodeName,\r\n        {\r\n          href: el.href,\r\n          rel: el.rel,\r\n          type,\r\n          key: nodeName + key++,\r\n        },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'br') {\r\n      return React.createElement(nodeName, { key: nodeName + key++ }, null);\r\n    }\r\n\r\n    return React.createElement(nodeName, {\r\n      dangerouslySetInnerHTML: { __html: element.innerHTML, key: nodeName + key++ },\r\n    });\r\n  }\r\n\r\n  let attributes: { [key: string]: string | { [key: string]: string } | any } = {};\r\n\r\n  for (var i = 0; element.attributes && i < element.attributes.length; i++) {\r\n    let attribute = element.attributes[i];\r\n    let reactName = possibleStandardNames[attribute.name];\r\n\r\n    if (reactName === undefined) {\r\n      reactName = toCamelCase(attribute.name);\r\n      const msg = `htmlParser: ${attribute.name} is not found in possible attributes,\r\n      using ${reactName} instead.`;\r\n      DEBUG && logger.error(msg, element);\r\n    }\r\n\r\n    let value = attribute.name === 'style' ? convertStyleStringToObject(attribute.value) : attribute.value.trim();\r\n\r\n    attributes[reactName] = value;\r\n  }\r\n\r\n  attributes['key'] = key++;\r\n\r\n  let children: ReactNode[] = [];\r\n\r\n  if (element.className && element.className.includes('mj-text')) {\r\n    // if element is mj-text, we edit it with customInlineEditor by making div 'contentEditable' true.\r\n    //  do not handle children in react.\r\n\r\n    const original = {\r\n      nodeName,\r\n      props: { ...attributes },\r\n      children: [createElement('span', { dangerouslySetInnerHTML: { __html: element.innerHTML } })],\r\n    };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n  }\r\n\r\n  for (let i = 0; i < element.childNodes.length; i++) {\r\n    let child = element.childNodes[i];\r\n\r\n    if (child['nodeName'] === '#text') {\r\n      if (child.textContent) {\r\n        // remove all new line characters & trim, problem with user's text content\r\n        //   is handled before this section in 'mj-text'\r\n        const content = child.textContent.replaceAll('\\n', '').trim();\r\n        if (content) {\r\n          children.push(content);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (child['nodeName'] === '#comment') {\r\n      continue;\r\n    }\r\n\r\n    if (nodeName !== 'script' && nodeName !== 'style') {\r\n      children.push(converter(child as HTMLElement, key++));\r\n    }\r\n  }\r\n  if (element.classList && element.classList.contains('mjml-tag')) {\r\n    DEBUG && logger.info(`identified mjml-tag for : ${nodeName}, with attributes: ${JSON.stringify(attributes)}`);\r\n    // const ReactNode = React.createElement(nodeName, { key: key++, ...attributes }, children);\r\n    const original = { nodeName, props: { ...attributes }, children };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n    // return <HtmlWrapper children={ReactNode} key={key++} originalNode={original} />;\r\n  }\r\n\r\n  // process placehodler item differently, if mj-text is placer, the wrapper is td,\r\n  //    td does not obey border properties, so outline can be used.\r\n  if (element.classList && element.classList.contains('placeitem-placeholder')) {\r\n    return <WrapWithOutline id={key++} nodeName={nodeName} props={{ ...attributes }} children={children} />;\r\n  }\r\n\r\n  // if root document, create it with div,\r\n  // todo: rnd if this document can be abstracted from the main document,\r\n  if (nodeName === '#document') {\r\n    nodeName = 'div';\r\n  }\r\n\r\n  // remove href in link\r\n  if (nodeName === 'a') {\r\n    delete attributes['href'];\r\n    delete attributes['target'];\r\n  }\r\n\r\n  // img tag should not have child param passed to it\r\n  if (nodeName === 'img') {\r\n    return React.createElement(nodeName, { key: key++, ...attributes }, null);\r\n  } else if (element.nodeType === 3) {\r\n    return React.createElement(nodeName, { ...attributes, key: key++ }, element.textContent);\r\n  }\r\n\r\n  return React.createElement(nodeName, attributes, children);\r\n};\r\n\r\nconst convertStyleStringToObject = (style: string) => {\r\n  let styleObject: { [key: string]: string } = {};\r\n\r\n  //  edgecase\r\n  //  \"background:#ffffff url('background:#ffffff url('https://lh3.googleusercontent.com/-y_e1bS8pZSc/YKkCKwNrxgI/AAAAAAAADuY/l1ygemViAp8ZXd44mAvqypqg7zsTD2gIACLcBGAsYHQ/s1600/1621688872017805-1.png') center top / auto repeat;') center top / auto repeat;background-position:center top;background-repeat:repeat;background-size:auto;margin:0px auto;border-radius:0px;max-width:600px;\"\r\n  // https://stackoverflow.com/a/9219386/6843092, with negative lookahead\r\n  let styleArray = style.split(/;+(?![^(]*\\))/g);\r\n\r\n  for (let i = 0; i < styleArray.length; i++) {\r\n    if (styleArray[i] === '') {\r\n      continue;\r\n    }\r\n\r\n    // bug while parsing\r\n    // 'background:#ffffff url('https://...') center top / auto repeat;'\r\n    let [key, ..._value] = styleArray[i].split(':');\r\n\r\n    let stylePair = [key, _value.join(':')];\r\n    let property = stylePair[0].trim();\r\n    property = toCamelCase(property);\r\n    let value = stylePair[1].trim();\r\n    styleObject[property] = value;\r\n  }\r\n\r\n  return styleObject;\r\n};\r\n\r\nconst toCamelCase = (str: string) => {\r\n  return str.replace(/([-_][a-z])/gi, ($1) => {\r\n    return $1.toUpperCase().replace('-', '').replace('_', '');\r\n  });\r\n};\r\n","import { message } from 'antd';\n\nconst success = (msg: string) => {\n  message.success(msg);\n};\n\nconst error = (msg: string) => {\n  message.error(msg);\n};\n\nconst warning = (msg: string) => {\n  message.warning(msg);\n};\n\nexport { success, error, warning };\n","// remove the empty placeholder-banner if present\nconst removePlaceholderBanner = (item: any) => {\n  if (item && item.children) {\n    item.children = item.children.filter((config: any) => {\n      if (config && config['attributes'] && config['attributes']['css-class']) {\n        return !config['attributes']['css-class'].includes('mj-placeholder');\n      }\n      return true;\n    });\n  }\n  return item;\n};\n\nconst insertAtPlaceholderIndicatorPosition = (item: any, itemToInsert: any) => {\n  if (item.tagName !== 'mj-body' && item.children.length) {\n    // place the dropped config in the placeholder position, this only is needed for\n    //   items, which has children\n    for (var i = 0; i < item.children.length; i++) {\n      const child = item.children[i];\n      const cssClass = child.attributes['css-class'];\n      if (cssClass && cssClass.includes('placeitem-placeholder')) {\n        item.children[i] = itemToInsert;\n        continue;\n      }\n      item.children[i] = child;\n    }\n  } else {\n    // children are empty\n    item.children.push(itemToInsert);\n  }\n\n  return item;\n};\n\nexport { removePlaceholderBanner, insertAtPlaceholderIndicatorPosition };\n","import { message } from 'antd';\nimport _ from 'lodash';\nimport { error } from '../Components/Messages';\nimport { columnPlaceholder } from '../Components/Section';\nimport {\n  findClosestParent,\n  findUniqueIdentifier,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n} from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\nimport { insertAtPlaceholderIndicatorPosition, removePlaceholderBanner } from './removePlaceholders';\nimport { UNDOREDO } from './undoRedo';\n\ninterface AddProps {\n  target: HTMLElement;\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n}\n\nconst Add = ({ target, droppedConfig, setMjmlJson, mjmlJson, uid }: AddProps) => {\n  let uniqueClassName = findClosestParent(target);\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  if (droppedConfig.tagName !== 'mj-section') {\n    if (uniqueClassName === 'identifier-mj-body' || uniqueClassName === 'identifier-mj-section') {\n      const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n      setMjmlJson({ ...cleanedMjmlJson });\n      error('kindly place the item on column instead ');\n      return null;\n    }\n  }\n\n  if (droppedConfig.tagName && droppedConfig.tagName === 'mj-section') {\n    if (uniqueClassName !== 'identifier-mj-body') {\n      const msg = 'Columns can not be nested! it will break mobile design';\n      message.info(msg);\n      logger.log(`operation add: ${msg}`);\n      return;\n    }\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(_.cloneDeep(mjmlJson), uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  item = insertAtPlaceholderIndicatorPosition(item, droppedConfigWithUid);\n\n  if (UNDOREDO.isUndoEmpty()) {\n    UNDOREDO.newAction(cleanMjmlJson(_.cloneDeep(mjmlJson)));\n  }\n\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface AddAtIndexProps {\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n  parentUniqueClassIdentifier: string;\n  index: number;\n}\n\nconst AddAtIndex = ({\n  droppedConfig,\n  setMjmlJson,\n  mjmlJson,\n  uid,\n  parentUniqueClassIdentifier,\n  index,\n}: AddAtIndexProps) => {\n  let uniqueClassName = parentUniqueClassIdentifier;\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  // insert the dropped config at the specified location\n  if (index > -1) {\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i === index) {\n        item.children.splice(i, 0, droppedConfigWithUid);\n      }\n    }\n  }\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface RemoveProps {\n  target?: HTMLElement | undefined;\n  uniqueClassName?: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  setDelActive: any;\n  setCopyActive: any;\n  setActive: any;\n  movement?: boolean;\n}\n\nconst Remove = ({\n  target,\n  uniqueClassName: ucn,\n  mjmlJson,\n  setMjmlJson,\n  setDelActive,\n  setCopyActive,\n  setActive,\n  movement,\n}: RemoveProps) => {\n  let uniqueClassName;\n  if (target) {\n    uniqueClassName = findClosestParent(target);\n  } else if (ucn) {\n    uniqueClassName = ucn;\n  } else {\n    logger.info(`operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    `);\n    return;\n  }\n  if (!uniqueClassName) {\n    return null;\n  }\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [, path]: [any, string] = ObjectEquivalent;\n  let parent: any = path.split('.');\n  const last: string = parent.pop();\n  parent = parent.join('.');\n  let item = _.get(mjmlJson, parent.slice(1));\n  const regExMatch = last.match(/\\[(.*?)\\]/);\n\n  if (regExMatch) {\n    const indexToRemove = parseInt(regExMatch[1]);\n    let newChildren = [];\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i !== indexToRemove) {\n        newChildren.push(item.children[i]);\n      }\n    }\n\n    // if column is empty, fill it with placeholder\n    if (parent) {\n      const parentItem = _.get(mjmlJson, parent.slice(1));\n\n      if (parentItem.tagName && parentItem.tagName === 'mj-column' && newChildren.length === 0) {\n        newChildren = columnPlaceholder;\n      }\n    }\n\n    item.children = newChildren;\n  }\n\n  setActive(null);\n  const updated = _.set(mjmlJson, parent.slice(1), item);\n  if (updated) {\n    setDelActive(false);\n    setCopyActive(false);\n    setMjmlJson({ ...updated });\n    // for moving elements in editor,\n    //   the way it works is that the element is removed from the parent first,\n    //   then the placeholder is replaced with the element\n    //   for undo action dont need to show the process\n    if (!movement) {\n      UNDOREDO.newAction(updated);\n    }\n  } else {\n    logger.info('operation remove: unable to delete the item');\n  }\n};\n\ninterface UpdateValueProps {\n  visible: boolean | null;\n  path: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  attribute: string;\n  value: any;\n}\n\nconst UpdateValue = ({ visible, path, mjmlJson, setMjmlJson, attribute, value }: UpdateValueProps) => {\n  if (visible && path) {\n    let item = _.get(mjmlJson, path, visible);\n    if (item) {\n      if (item['attributes'] && item['attributes'][attribute] !== value) {\n        item['attributes'][attribute] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\ninterface CopyProps extends Exclude<RemoveProps, 'uniqueClassName'> {\n  target: HTMLElement;\n  uidGenerator: () => string;\n}\n\nconst Copy = ({ mjmlJson, setActive, setMjmlJson, setCopyActive, setDelActive, target, uidGenerator }: CopyProps) => {\n  const uniqueIdentifier = findUniqueIdentifier(target, target.classList);\n  let parentUniqueIdentifier = '';\n  let index = -1;\n\n  if (uniqueIdentifier) {\n    const _ = getIndexOfElementInParent(target, mjmlJson, uniqueIdentifier);\n    if (_ && typeof _[0] === 'number' && typeof _[1] === 'string') {\n      [index, parentUniqueIdentifier] = _;\n    } else {\n      message.error('Unable to copy element');\n      return;\n    }\n  }\n\n  let copyOfConfig = findElementInJson(mjmlJson, uniqueIdentifier);\n  if (copyOfConfig && index > -1) {\n    [copyOfConfig] = copyOfConfig;\n    setCopyActive(false);\n    setDelActive(false);\n    setActive(null);\n\n    return AddAtIndex({\n      droppedConfig: _.cloneDeep(copyOfConfig),\n      setMjmlJson,\n      mjmlJson,\n      uid: uidGenerator,\n      index,\n      parentUniqueClassIdentifier: parentUniqueIdentifier,\n    });\n  }\n};\n\nexport { Add, Remove, UpdateValue, Copy };\n","const findTextNode = (node: any): any => {\n  if (node.nodeType === 3) {\n    return node;\n  }\n\n  for (let i = 0; node.childNodes && i < node.childNodes.length; i++) {\n    const textNode = findTextNode(node.childNodes[i]);\n    if (textNode) {\n      return closestDivToTextNode(textNode);\n    }\n  }\n};\n\nconst closestDivToTextNode = (node: any): any => {\n  if (!node) {\n    return null;\n  }\n  if (node.nodeType === 3) {\n    return closestDivToTextNode(node.parentNode);\n  }\n\n  const element = node;\n\n  if (element.nodeType === 1) {\n    const closestDiv = element.closest('div');\n    return closestDiv;\n  }\n\n  return element;\n};\n\nexport { findTextNode };\n","import { createContext, FC, useState } from 'react';\n\nexport const QuillContext = createContext<any>(null);\n\nexport const QuillEditor: FC = (props) => {\n  const [QuillActive, setQuillActive] = useState(false);\n  const [quillEditor, setQuillEditor] = useState<any>(null);\n  const [quillX, setQuillX] = useState(0);\n  const [quillY, setQuillY] = useState(0);\n\n  return (\n    <QuillContext.Provider\n      value={{\n        QuillActive,\n        setQuillActive,\n        quillEditor,\n        setQuillEditor,\n        quillX,\n        quillY,\n        setQuillX,\n        setQuillY,\n      }}\n    >\n      {props.children}\n    </QuillContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { QuillContext } from '../Context/Quill.context';\n\nexport const useQuillEditor = () => {\n  const Quill = useContext(QuillContext);\n  return Quill as unknown as {\n    QuillActive: boolean;\n    setQuillActive: (args: boolean) => void;\n    quillEditor: any;\n    setQuillEditor: (args: any) => void;\n    quillX: number;\n    quillY: number;\n    setQuillX: (args: number) => void;\n    setQuillY: (args: number) => void;\n  };\n};\n","import { CKEditor } from '@ckeditor/ckeditor5-react';\nimport { Button, Popconfirm } from 'antd';\nimport ED from 'ckeditor5-custom-build/build/ckeditor';\nimport { useEffect, useMemo } from 'react';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { Remove, Copy as CopyOperation } from '../../Utils/operations';\nimport { findTextNode } from '../../Utils/findTextNode';\nimport Quill from 'quill';\nimport { useQuillEditor } from '../../Hooks/Quill.hook';\nimport { findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport _ from 'lodash';\nimport CopyFilled from '@ant-design/icons/lib/icons/CopyFilled';\nimport DeleteFilled from '@ant-design/icons/lib/icons/DeleteFilled';\nimport { useUniqueIdGenerator } from '../../Hooks/Drag.hook';\nimport { logger } from '../../Utils/logger';\n\nexport const Editor = () => {\n  const { ref, isActive, x, y, delActive, delX, delY, setDelActive, copy } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const { QuillActive, quillX, quillY, setQuillEditor, setQuillActive } = useQuillEditor();\n  let { quillEditor } = useQuillEditor();\n  const { copyActive, setCopyActive, copyX, copyY } = copy;\n  const { getId } = useUniqueIdGenerator();\n\n  useEffect(() => {\n    if (quillEditor) {\n      const identifier = findUniqueIdentifier(active, active.classList);\n      quillEditor.on('text-change', () => {\n        const change = quillEditor.container.firstChild.innerHTML;\n        logger.log(change);\n        if (identifier) {\n          let position = findElementInJson(mjmlJson, identifier);\n          if (position) {\n            let [, path] = position;\n            let item = _.get(mjmlJson, path.slice(1));\n            item.content = change;\n            const updated = _.set(mjmlJson, path.slice(1), item);\n            setMjmlJson({ ...updated });\n          }\n        }\n      });\n    }\n    return () => quillEditor && quillEditor.off('text-change');\n  }, [quillEditor]);\n\n  useEffect(() => {\n    if (active && QuillActive) {\n      let textNode = findTextNode(active);\n\n      if (quillEditor) {\n        // previous instance listeners\n        quillEditor.off('text-change');\n      }\n\n      if (textNode) {\n        // fix for QuillWrapper keeps wrapping up an extra div on init\n        while (textNode.parentElement.classList.contains('ql-container') || textNode.hasAttribute('data-gramm')) {\n          textNode = textNode.parentElement;\n        }\n        if (textNode.classList.contains('ql-container')) {\n          textNode.classList.remove('ql-container');\n          textNode.classList.remove('ql-snow');\n        }\n\n        let lquill: any = new Quill(textNode, { theme: 'snow', modules: { toolbar: '#toolbarContainer' } });\n\n        // fix for allowing multiple instances,\n        // on how it works refer, 'https://github.com/quilljs/quill/blob/develop/modules/toolbar.js'\n        // pain \\u{1F63F}\n        lquill.getModule('toolbar').container.childNodes.forEach((element: any) => {\n          const clone = element.cloneNode(true);\n          element.parentNode.replaceChild(clone, element);\n        });\n\n        let toolbar = lquill.getModule('toolbar');\n\n        toolbar.container.childNodes.forEach((input: any) => {\n          toolbar.attach(input);\n        }, toolbar);\n\n        setQuillEditor(lquill);\n        lquill.editor.scroll.domNode.classList.remove('ql-editor');\n\n        // remove clipboard and tooltip\n        lquill.container.children[1].remove();\n        lquill.container.children[1].remove();\n        lquill = undefined;\n      }\n    }\n  }, [active]);\n\n  const deleteConfirm = useMemo(\n    () => () => {\n      if (active) {\n        // setQuillActive(false);\n        Remove({ target: active, mjmlJson, setMjmlJson, setDelActive, setActive, setCopyActive });\n      }\n    },\n    [active]\n  );\n\n  const copyAction = () => {\n    if (active) {\n      CopyOperation({\n        mjmlJson,\n        setActive,\n        setMjmlJson,\n        setCopyActive,\n        setDelActive,\n        target: active,\n        uidGenerator: getId,\n      });\n    }\n  };\n\n  return (\n    <>\n      {/* <div\n        id=\"toolbarContainer\"\n        style={{\n          visibility: QuillActive ? 'visible' : 'hidden',\n          backgroundColor: '#fff',\n          zIndex: 99,\n          position: 'fixed',\n          left: `${quillX}px`,\n          top: `${quillY}px`,\n        }}\n      >\n        <button className=\"ql-bold\"></button>\n        <button className=\"ql-italic\"></button>\n        <button className=\"ql-underline\"></button>\n        <button className=\"ql-script\" value=\"sub\"></button>\n        <button className=\"ql-script\" value=\"super\"></button>\n      </div> */}\n\n      {/* <div\n        key=\"editorContainer\"\n        id=\"editorContainer\"\n        ref={ref}\n        style={{ display: isActive ? 'block' : 'none', position: 'fixed', left: `${x}px`, top: `${y}px` }}\n      >\n        <div key=\"editor\">\n          <CKEditor\n            editor={ED}\n            disabled={false}\n            config={{\n              toolbar: [\n                'fontSize',\n                'fontColor',\n                'FontFamily',\n                'FontBackgroundColor',\n                '|',\n                'heading',\n                '|',\n                'bold',\n                'italic',\n                '|',\n                'undo',\n                'redo',\n                'insertTable',\n              ],\n            }}\n            data={'placement'}\n            onReady={(editor) => {}}\n            onChange={(event, editor) => {}}\n            onBlur={(event, editor) => {}}\n            onFocus={(event, editor) => {}}\n          />\n        </div>\n      </div> */}\n      <Delete\n        style={{\n          zIndex: 200,\n          display: delActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${delX}px`,\n          top: `${delY}px`,\n        }}\n        deleteConfirm={deleteConfirm}\n      />\n      <Copy\n        onClick={copyAction}\n        style={{\n          zIndex: 200,\n          display: copyActive ? 'block' : 'none',\n          position: 'fixed',\n          left: `${copyX}px`,\n          top: `${copyY}px`,\n        }}\n      />\n    </>\n  );\n};\n\ninterface DeleteProps {\n  style: any;\n  deleteConfirm: () => void;\n}\n\nconst Delete = ({ style, deleteConfirm }: DeleteProps) => {\n  return (\n    <Popconfirm placement=\"right\" title=\"Are you sure ?\" okText=\"Delete\" cancelText=\"Cancel\" onConfirm={deleteConfirm}>\n      <Button style={style} type=\"primary\" icon={<DeleteFilled />} />\n    </Popconfirm>\n  );\n};\n\ninterface CopyProps {\n  style: any;\n  onClick: () => void;\n}\n\nconst Copy = ({ style, onClick }: CopyProps) => {\n  return <Button style={style} onClick={onClick} type=\"primary\" icon={<CopyFilled />} />;\n};\n","import { UndoOutlined, RedoOutlined } from '@ant-design/icons';\nimport { Button, Tooltip } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\n\ninterface UndoRedoProps {\n  undoCallback: () => void;\n  redoCallback: () => void;\n}\n\nconst UndoRedo = ({ undoCallback, redoCallback }: UndoRedoProps) => {\n  return (\n    <div style={{ position: 'fixed', padding: '8px', display: 'flex', flexDirection: 'column', rowGap: '4px' }}>\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"undo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isUndoEmpty()}\n          onClick={undoCallback}\n          type=\"default\"\n          size=\"large\"\n          style={{ background: '#fff' }}\n          icon={<UndoOutlined />}\n        />\n      </Tooltip>\n\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"redo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isRedoEmpty()}\n          onClick={redoCallback}\n          type=\"default\"\n          style={{ background: '#fff' }}\n          size=\"large\"\n          icon={<RedoOutlined />}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport { UndoRedo };\n","import { useEditor } from '../../Hooks/Editor.hook';\nimport mjml2html from 'mjml-browser';\nimport css from './Editor.module.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { htmlProcessor } from '../../Utils/htmlProcessor';\nimport { Editor } from '../../Components/Mods/Editor';\nimport { Add, Remove } from '../../Utils/operations';\nimport { useDragAndDropUniqueId } from '../../Hooks/Drag.hook';\nimport '../../Assets/Css/ckeditorOverride.css';\nimport '../../Assets/Css/quillOverride.css';\nimport { InlineEditor } from '../../Components/Mods/CustomInlineEditor';\nimport styled from 'styled-components';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { memo, useCallback, useEffect } from 'react';\nimport { UndoRedo } from '../../Components/UndoRedo';\nimport _ from 'lodash';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\n\ninterface ViewProps {}\n\nconst DesignContainer = styled('div')`\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n`;\n\nexport const View = (props: ViewProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getId } = useDragAndDropUniqueId();\n  const { setActive, active } = useHtmlWrapper();\n  const {\n    setDelActive,\n    copy,\n    drag: { setIsColumn, isColumn },\n  } = useCkeditor();\n  const { setCopyActive } = copy;\n\n  useEffect(() => {\n    UNDOREDO.print();\n  }, [mjmlJson]);\n\n  const undoCallback = () => {\n    const action = UNDOREDO.undoAction(mjmlJson);\n    if (action) {\n      setMjmlJson({ ...action });\n      setActive(null);\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n  const redoCallback = () => {\n    const action = UNDOREDO.redoAction(mjmlJson);\n    if (action) {\n      setActive(null);\n      setMjmlJson({ ...action });\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n\n  const onDragOver = useCallback(\n    (e: any) => {\n      if (active) {\n        setActive(null);\n      }\n      e.preventDefault();\n    },\n    [setActive, active]\n  );\n\n  const onDrop = (e: any) => {\n    e.preventDefault();\n    isColumn && setIsColumn(false);\n    let config = JSON.parse(e.dataTransfer.getData('config'));\n    if (config && config.mode && config.mode === 'move' && config['config']) {\n      // remove the item old position, before inserting in new position\n      Remove({\n        uniqueClassName: config.uniqueClassName,\n        mjmlJson,\n        setMjmlJson,\n        setActive,\n        setDelActive,\n        setCopyActive,\n        movement: true,\n      });\n      logger.info(`operation move: onDrop -> removed previous instance \n      of config :'${config.uniqueClassName}'`);\n      config = config['config'];\n    }\n    Add({\n      target: e.nativeEvent.target,\n      droppedConfig: config,\n      mjmlJson,\n      setMjmlJson,\n      uid: getId,\n    });\n  };\n\n  return (\n    <Scrollbars style={{ height: '100%' }}>\n      <Editor />\n      <InlineEditor />\n      <UndoRedo undoCallback={undoCallback} redoCallback={redoCallback} />\n      <DesignContainer\n        className={`${css.viewHolder} mjml-wrapper mjml-tag identifier-mj-body`}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n      >\n        <MjmlProcessor mjml={mjmlJson} isColumn={isColumn} />\n      </DesignContainer>\n    </Scrollbars>\n  );\n};\n\nconst MjmlProcessor = memo(({ mjml, isColumn }: { mjml: any; isColumn: boolean }) => {\n  return mjml && htmlProcessor(mjml2html(mjml).html);\n});\n","import AlignCenterOutlined from '@ant-design/icons/lib/icons/AlignCenterOutlined';\nimport AlignLeftOutlined from '@ant-design/icons/lib/icons/AlignLeftOutlined';\nimport AlignRightOutlined from '@ant-design/icons/lib/icons/AlignRightOutlined';\nimport PicCenterOutlined from '@ant-design/icons/lib/icons/PicCenterOutlined';\nimport { Button, Col, Form, Row, Tooltip } from 'antd';\nimport _ from 'lodash';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'align';\n\nexport const Align = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (align: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes) {\n        item.attributes['align'] = align;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"3\">\n        <Form.Item label=\"Align\"></Form.Item>\n      </Col>\n      <Col flex=\"2\">\n        <Row justify=\"space-between\">\n          <Tooltip title=\"Left\">\n            <Button onClick={() => onClick('left')} type=\"ghost\" icon={<AlignLeftOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip title=\"Justify\">\n              <Button onClick={() => onClick('justify')} type=\"ghost\" icon={<PicCenterOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Center\">\n              <Button onClick={() => onClick('center')} type=\"ghost\" icon={<AlignCenterOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Right\">\n              <Button onClick={() => onClick('right')} type=\"ghost\" icon={<AlignRightOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'background-color';\ninterface BackgroundProps {\n  activePath?: string;\n  label?: string;\n  overrideAttribute?: string;\n}\n\nexport const Background = ({ activePath, label, overrideAttribute }: BackgroundProps) => {\n  const attribute = overrideAttribute || ATTRIBUTE;\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const [visible, path] = useVisibility({ attribute, customPath: activePath });\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[attribute]) {\n        setColor(item.attributes[attribute]);\n      }\n    }\n    logger.log('background reloading,', path, visible);\n  }, [path, visible]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes[attribute] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label={label ? label : 'Background'}></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'border';\n\ninterface BorderProps {\n  activePath?: string;\n  label?: string;\n  attribute_name?: string;\n}\n\nexport const Border = ({ activePath, label, attribute_name }: BorderProps) => {\n  let attributeName = attribute_name || ATTRIBUTE;\n  const [visible, path] = useVisibility({ attribute: attributeName, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: attributeName });\n\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[attributeName] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label={label ? label : 'Border'}>\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n  if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n    e.currentTarget.value = '';\n  }\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'border-radius';\n\ninterface BorderRadiusProps {\n  activePath?: string;\n}\n\nexport const BorderRadius = ({ activePath }: BorderRadiusProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (visible && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = 'none';\n      }\n      setValue(e.currentTarget.value);\n    }\n  };\n\n  const setValue = (value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-radius'];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n        setValue(value);\n      }\n    }\n  };\n\n  let value = '';\n  if (visible) {\n    value = _.get(mjmlJson, path + 'attributes.border-radius');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Radius\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\n\nconst ATTRIBUTE = 'container-background-color';\n\nexport const ContainerBackground = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const { active: clicked } = useHtmlWrapper();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (clicked && visible) {\n      try {\n        if (path) {\n          let item = _.get(mjmlJson, path);\n          if (item.mutableProperties.includes(ATTRIBUTE)) {\n            setColor(item.attributes[ATTRIBUTE]);\n          }\n        }\n      } catch (e) {\n        logger.info('got exception, hiding background mod', e);\n      }\n    }\n  }, [clicked]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes['container-background-color'] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label=\"Container Background\"></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import { useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst PROPERTY = 'content';\n\nexport const Content = () => {\n  const [visible, path] = useVisibility({ property: PROPERTY });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [isReadOnly, setIsReadOnly] = useState<boolean | null>(null);\n  const [htmlBlock, setHtmlBlock] = useState(false);\n  const { active } = useHtmlWrapper();\n\n  useEffect(() => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        setValue(item.content ? item.content : '');\n\n        // maintain read only state for some attributes\n        if (item.tagName === 'mj-text') {\n          if (item.attributes && item.attributes['css-class'] && item.attributes['css-class'].includes('html-block')) {\n            setIsReadOnly(false);\n            setHtmlBlock(true);\n            return;\n          }\n          setIsReadOnly(true);\n        } else {\n          setIsReadOnly(false);\n        }\n        setHtmlBlock(false);\n      }\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    let value = e.currentTarget.value;\n    setValue(value);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      // while in middle of editing, if the element is removed.\n      if (element) {\n        if (element[PROPERTY] !== value) {\n          element[PROPERTY] = value;\n          const updated = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Content\">\n      {htmlBlock ? (\n        <Input.TextArea rows={28} onChange={handleChange} value={value} />\n      ) : (\n        <Input.TextArea\n          disabled={isReadOnly ? isReadOnly : false}\n          readOnly={isReadOnly ? isReadOnly : false}\n          rows={3}\n          onChange={handleChange}\n          value={value}\n        />\n      )}\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input, Row, Col } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\ninterface CordinalBorderProps {\n  activePath?: string;\n}\nexport const CordinalBorder = ({ activePath }: CordinalBorderProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: 'border-top', customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (visible && path && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = '';\n      }\n      setValue(direction, e.target.value);\n    }\n  };\n\n  const setValue = (direction: string, value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[`border-${direction}`] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-' + direction];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n\n        setValue(direction, e.currentTarget.value);\n      }\n    }\n  };\n\n  let [valuel, valuer, valueb, valuet] = ['', '', '', ''];\n  if (visible) {\n    valuel = _.get(mjmlJson, path + 'attributes.border-left');\n    valuer = _.get(mjmlJson, path + 'attributes.border-right');\n    valuet = _.get(mjmlJson, path + 'attributes.border-top');\n    valueb = _.get(mjmlJson, path + 'attributes.border-bottom');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Directions\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"top\"\n              onKeyDown={(e) => onKeyDown(e, 'top')}\n              onChange={(e) => handleChange(e, 'top')}\n              value={valuet}\n            />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"right\"\n              onKeyDown={(e) => onKeyDown(e, 'right')}\n              onChange={(e) => handleChange(e, 'right')}\n              value={valuer}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"bottom\"\n              onKeyDown={(e) => onKeyDown(e, 'bottom')}\n              onChange={(e) => handleChange(e, 'bottom')}\n              value={valueb}\n            />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"left\"\n              onKeyDown={(e) => onKeyDown(e, 'left')}\n              onChange={(e) => handleChange(e, 'left')}\n              value={valuel}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n","import { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent } from 'react';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'font-size';\n\nexport const FontSize = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"FontSize\">\n      <Input onChange={handleChange} value={getValue()} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { ChangeEvent } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'src';\n\nconst Img = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  //todo: check if changing directly to mjmlJson causes perfomance impact\n  //   if so, then maintain a local state, then on change change the value first,\n  //   then by using useeffect listen for the in localvalue, then update the mjmlJson.\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col span={24}>\n        <Input addonBefore=\"src\" onChange={(e) => handleChange(e)} value={getValue()} />\n      </Col>\n    </Row>\n  ) : null;\n};\n\nexport { Img };\n","import { Form, Input } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { logger } from '../../Utils/logger';\nimport { UpdateValue } from '../../Utils/operations';\n\nconst ATTRIBUTE = 'inner-padding';\n\nconst InnerPadding = () => {\n  let [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>();\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[ATTRIBUTE]) {\n        setValue(item.attributes[ATTRIBUTE]);\n      }\n    }\n  }, [visible, path]);\n\n  useEffect(() => {\n    value && UpdateValue({ visible, path, mjmlJson, setMjmlJson, value, attribute: ATTRIBUTE });\n  }, [value]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    logger.log('inner padding value', value);\n    if (path && visible) {\n      setValue(value);\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Inner Padding :\">\n      <Input onChange={handleChange} type=\"text\" value={value} />\n    </Form.Item>\n  ) : null;\n};\n\nexport { InnerPadding };\n","import { Form, Input, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useMemo } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface PaddingProps {\n  activePath?: string;\n}\n\nconst Padding = ({ activePath }: PaddingProps) => {\n  let [visible, path, active] = useVisibility({ attribute: 'padding', customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value === '') {\n      e.currentTarget.value = '0';\n    }\n    // if (!value.includes('px')) {\n    //   e.currentTarget.value = `${value}px`;\n    // }\n    setPadding(direction, e.currentTarget.value);\n  };\n\n  const setPadding = useMemo(\n    () => (direction: string, value: string) => {\n      if (path && visible) {\n        let json = {};\n\n        if (direction) {\n          let element = _.get(mjmlJson, path);\n          element.attributes[`padding-${direction}`] = value;\n          json = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...json });\n        }\n      }\n    },\n    [visible, path]\n  );\n\n  //todo: optimize this function, move to useEffect, useState.\n  // its being called on every hover event.\n  const getValue = (direction: string) => {\n    let value = '';\n    //todo: debug why removing active causes crash  getValue:{@mods/pad..tsx}\n    // move it to useeffect later\n    if (path && visible && active) {\n      let element = _.get(mjmlJson, path);\n      if (!element) {\n        return;\n      }\n      value = element.attributes ? element.attributes[`padding-${direction}`] : null;\n      if (!value) {\n        value = element.attributes['padding'];\n        if (value) {\n          const [vertical, horizontal] = value.split(' ');\n          switch (direction) {\n            case 'top':\n            case 'bottom':\n              return vertical;\n            case 'left':\n            case 'right':\n              return horizontal;\n          }\n        }\n      }\n    }\n    return value;\n  };\n\n  return visible ? (\n    <Form.Item label=\"Padding :\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"top\" onChange={(e) => handleChange(e, 'top')} value={getValue('top')} />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"right\" onChange={(e) => handleChange(e, 'right')} value={getValue('right')} />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"bottom\" onChange={(e) => handleChange(e, 'bottom')} value={getValue('bottom')} />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"left\" onChange={(e) => handleChange(e, 'left')} value={getValue('left')} />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n\nexport { Padding };\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useCallback, useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'width';\n\ninterface WidthHeightProps {\n  activePath?: string;\n}\n\nexport const Width = ({ activePath }: WidthHeightProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '0';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Width\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst ATTRIBUTE_HEIGHT = 'height';\n\nexport const Height = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE_HEIGHT });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE_HEIGHT });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE_HEIGHT] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Height\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import { Row } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { generateUniqueIdRecursively } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { logger } from '../Utils/logger';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { COLUMN } from './Section';\n\nconst style = {\n  display: 'flex',\n  height: '16px',\n  borderRadius: '0px',\n};\n\nconst borderRight = '1px solid rgb(85, 85, 85)';\n\nconst ColumnSelector = () => {\n  const { active } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const {\n    setDelActive,\n    copy: { setCopyActive },\n  } = useCkeditor();\n  const { setActive: setCustomEditorActive } = useCustomEditorStatus();\n  const { getId } = useDragAndDropUniqueId();\n  const [visible, setVisible] = useState(false);\n  const [sectionIdentifier, setSectionIdentifier] = useState();\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueIdentifier] = section;\n        setVisible(true);\n        setSectionIdentifier(uniqueIdentifier);\n        return;\n      }\n    }\n    setVisible(false);\n  }, [active, visible]);\n\n  const handleClick = (changeTo: string[]) => {\n    if (visible && sectionIdentifier) {\n      const find = findElementInJson(mjmlJson, sectionIdentifier);\n      if (find) {\n        const [item, path] = find;\n        if (item && path && item.children && changeTo.length > 0) {\n          const existingLength = item.children.length;\n          const convertLength = changeTo.length;\n          if (convertLength < existingLength) {\n            // todo: implement getconfirmation, that user is about to delete a column\n          }\n          let newChildren = [];\n\n          // iterate over existing children\n          for (let i = 0; i < existingLength && i < convertLength; i++) {\n            let child = _.cloneDeep(item.children[i]);\n            if (child && child.attributes) {\n              // modify width attribute, add it to newChildren\n              child.attributes.width = changeTo[i];\n              newChildren.push(child);\n            }\n          }\n\n          //iterate over new children\n          for (let i = existingLength; i < convertLength; i++) {\n            let preProcessedColumn = generateUniqueIdRecursively(_.cloneDeep(COLUMN), getId);\n            preProcessedColumn.attributes.width = changeTo[i];\n            newChildren.push(preProcessedColumn);\n          }\n\n          // update children\n          const updatedItem = { ...item, children: newChildren };\n\n          //update json\n          logger.log('column layout: ', updatedItem);\n\n          const updated = _.set(mjmlJson, path.slice(1), updatedItem);\n\n          if (updated) {\n            UNDOREDO.newAction(updated);\n            setDelActive(false);\n            setCopyActive(false);\n            setCustomEditorActive(false);\n            setMjmlJson({ ...updated });\n          }\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <>\n      <div>\n        <SectionTitle>\n          <p>1 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['100%'])} one={100} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>2 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['50%', '50%'])} one={50} two={50} />\n        <Image click={() => handleClick(['39%', '59%'])} one={40} two={60} />\n        <Image click={() => handleClick(['25%', '75%'])} one={25} two={75} />\n        <Image click={() => handleClick(['60%', '40%'])} one={60} two={40} />\n        <Image click={() => handleClick(['75%', '25%'])} one={75} two={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>3 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['33%', '33%', '33%'])} one={50} two={50} three={50} />\n        <Image click={() => handleClick(['47.5%', '5%', '47.5%'])} one={47.5} two={5} three={47.5} />\n        <Image click={() => handleClick(['25%', '25%', '50%'])} one={25} two={25} three={50} />\n        <Image click={() => handleClick(['25%', '50%', '25%'])} one={25} two={50} three={25} />\n        <Image click={() => handleClick(['50%', '25%', '25%'])} one={50} two={25} three={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>4 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['25%', '25%', '25%', '25%'])} one={50} two={50} three={50} four={50} />\n      </div>\n    </>\n  ) : (\n    <div style={{ textAlign: 'center' }}>Place some items on the page</div>\n  );\n};\n\nconst Image = ({\n  click,\n  one,\n  two,\n  three,\n  four,\n}: {\n  click?: (e: any) => void;\n  one: number;\n  two?: number;\n  three?: number;\n  four?: number;\n}) => {\n  return (\n    <>\n      <Row style={{ marginBottom: '12px' }}></Row>\n      <SectionImage onClick={click ? click : undefined}>\n        <div className=\"wrapper\">\n          <div className=\"border\">\n            <div style={{ ...style, flexGrow: one, borderRight: two ? borderRight : 'unset' }}></div>\n            {two ? <div style={{ ...style, flexGrow: two, borderRight: three ? borderRight : 'unset' }}></div> : null}\n            {three ? (\n              <div style={{ ...style, flexGrow: three, borderRight: four ? borderRight : 'unset' }}></div>\n            ) : null}\n            {four ? <div style={{ ...style, flexGrow: two }}></div> : null}\n          </div>\n        </div>\n      </SectionImage>\n    </>\n  );\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nexport { ColumnSelector };\n","import { Form, Select } from 'antd';\nimport _ from 'lodash';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useFonts } from '../../Hooks/useFonts';\n\nconst ATTRIBUTE = 'font-family';\n\nconst { Option } = Select;\n\nexport const FontFamily = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [fontlist, fontvalue] = useFonts();\n\n  const handleChange = (value: string) => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        item.attributes['font-family'] = value;\n        const updated = _.set(mjmlJson, path, item);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  let value = '';\n\n  if (visible && path) {\n    value = getValue();\n    if (value && value.indexOf(',') > -1) {\n      value = value.split(',')[0];\n    }\n  }\n\n  return visible ? (\n    <Form.Item label=\"Font Family\">\n      <Select value={fontvalue} onChange={handleChange}>\n        {fontlist.map((name: string) => {\n          return (\n            <Option key={name} value={name}>\n              {name}\n            </Option>\n          );\n        })}\n      </Select>\n    </Form.Item>\n  ) : null;\n};\n","import { Button, Col, Form, Row, Tooltip } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  VerticalAlignTopOutlined,\n  VerticalAlignMiddleOutlined,\n  VerticalAlignBottomOutlined,\n} from '@ant-design/icons/lib/icons/';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'vertical-align';\n\ninterface VerticalAlignProps {\n  activePath?: string;\n}\n\nexport const VerticalAlign = ({ activePath }: VerticalAlignProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (value: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes) {\n        item.attributes[ATTRIBUTE] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"auto\">\n        <Form.Item label=\"Vertical Align\"></Form.Item>\n      </Col>\n      <Col>\n        <Row justify=\"space-between\" gutter={[16, 0]}>\n          <Tooltip title=\"Top\">\n            <Button onClick={() => onClick('top')} type=\"ghost\" icon={<VerticalAlignTopOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip\n              placement=\"left\"\n              title=\"Middle :Note: all columns in section must be set to middle, for this to work.\"\n            >\n              <Button onClick={() => onClick('middle')} type=\"ghost\" icon={<VerticalAlignMiddleOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Bottom\">\n              <Button onClick={() => onClick('bottom')} type=\"ghost\" icon={<VerticalAlignBottomOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import { Col, Form, Row, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst URL = 'background-url';\nconst SIZE = 'background-size';\nconst REPEAT = 'background-repeat';\n\nconst BackgroundImage = () => {\n  const [url, setUrl] = useState<string>('');\n  const [size, setSize] = useState<string>('');\n  const [repeat, setRepeat] = useState<string>('');\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const [urlVisibility, urlPath] = useVisibility({ attribute: URL });\n  const [sizeVisibility, sizePath] = useVisibility({ attribute: SIZE });\n  const [repeatVisiblity, repeatPath] = useVisibility({ attribute: REPEAT });\n\n  useEffect(() => {\n    if (mjmlJson) {\n      if (urlVisibility) {\n        const item = _.get(mjmlJson, urlPath);\n        item && setUrl(item.attributes[URL]);\n      }\n      if (sizeVisibility) {\n        const item = _.get(mjmlJson, sizePath);\n        item && setSize(item.attributes[SIZE]);\n      }\n      if (repeatVisiblity) {\n        const item = _.get(mjmlJson, repeatPath);\n        item && setRepeat(item.attributes[REPEAT]);\n      }\n    }\n  }, [urlVisibility, sizeVisibility, repeatVisiblity]);\n\n  if (urlVisibility === false && sizeVisibility === false && repeatVisiblity === false) {\n    return null;\n  }\n\n  const onChangeUrl = (e: any) => {\n    setUrl(e.target.value);\n    if (urlVisibility && urlPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[URL] = e.target.value;\n        const updated = _.set(mjmlJson, urlPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeSize = (e: any) => {\n    setSize(e.target.value);\n    if (sizeVisibility && sizePath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[SIZE] = e.target.value;\n        const updated = _.set(mjmlJson, sizePath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeRepeat = (e: any) => {\n    setRepeat(e.target.value);\n    if (repeatVisiblity && repeatPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[REPEAT] = e.target.value;\n        const updated = _.set(mjmlJson, repeatPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return (\n    <Form.Item label=\"Background Image:\">\n      <Input.Group>\n        <Row gutter={[0, 4]}>\n          {urlVisibility ? (\n            <Col span={24}>\n              <Input addonBefore=\"url\" onChange={onChangeUrl} value={url} />\n            </Col>\n          ) : null}\n          {sizeVisibility ? (\n            <Col span={24}>\n              <Input\n                addonBefore=\"size\"\n                onChange={onChangeSize}\n                value={size}\n                placeholder=\"px/percent/'cover'/'contain'\"\n              />\n            </Col>\n          ) : null}\n          {repeatVisiblity ? (\n            <Col span={24}>\n              <Input addonBefore=\"repeat\" onChange={onChangeRepeat} value={repeat} placeholder=\"repeat\" />\n            </Col>\n          ) : null}\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  );\n};\n\nexport { BackgroundImage };\n","import styled from 'styled-components';\nimport { Tabs } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Padding } from './Mods/Paddings';\nimport { VerticalAlign } from './Mods/VerticalAlign';\nimport { Border } from './Mods/Border';\nimport { CordinalBorder } from './Mods/CordinalBorder';\nimport { BorderRadius } from './Mods/BorderRadius';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport _ from 'lodash';\n\nconst { TabPane } = Tabs;\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n`;\n\nconst ColumnAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [columns, setActiveColumns] = useState<any>([]);\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueSectionIdentifier] = section;\n        const find = findElementInJson(mjmlJson, uniqueSectionIdentifier);\n        if (find) {\n          let [item, path] = find;\n          path = path.slice(1);\n\n          if (item && item.children && item.children.length > 0) {\n            let _columns = [];\n            for (var i = 0; i < item.children.length; i++) {\n              if (item.children[i].tagName === 'mj-column') {\n                _columns.push(`${path}.children[${i}]`);\n              }\n            }\n            if (!_.isEqual(columns, _columns)) {\n              setActiveColumns(_columns);\n            }\n          }\n        }\n      }\n    }\n  }, [active]);\n\n  return active ? (\n    <CustomTabs centered defaultActiveKey=\"0\" style={{ height: '100%' }} destroyInactiveTabPane={false}>\n      {columns &&\n        columns.map((column: any, index: number) => {\n          return (\n            <TabPane tab={`column ${index + 1}`} key={index}>\n              <Scrollbars style={{ height: '100%' }} autoHide={true}>\n                <div\n                  className=\"mods\"\n                  onMouseDown={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                  onBlur={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                >\n                  <Width activePath={column} />\n                  <VerticalAlign activePath={column} />\n                  <Padding activePath={column} />\n\n                  <Background activePath={column} />\n                  <Background\n                    label={'Inner Background:'}\n                    overrideAttribute=\"inner-background-color\"\n                    activePath={column}\n                  />\n                  <BorderRadius activePath={column} />\n                  <Border activePath={column} />\n                  <CordinalBorder activePath={column} />\n                </div>\n              </Scrollbars>\n            </TabPane>\n          );\n        })}\n    </CustomTabs>\n  ) : null;\n};\n\nexport { ColumnAttributes };\n","import { Scrollbars } from 'react-custom-scrollbars-2';\nimport { Align } from '../../Components/Mods/Align';\nimport { Background } from '../../Components/Mods/Background';\nimport { Border } from '../../Components/Mods/Border';\nimport { BorderRadius } from '../../Components/Mods/BorderRadius';\nimport { ContainerBackground } from '../../Components/Mods/ContainerBackground';\nimport { Content } from '../../Components/Mods/Content';\nimport { CordinalBorder } from '../../Components/Mods/CordinalBorder';\nimport { FontSize } from '../../Components/Mods/FontSize';\nimport { Img } from '../../Components/Mods/Img';\nimport { InnerPadding } from '../../Components/Mods/InnerPadding';\nimport { Link } from '../../Components/Mods/Link';\nimport { Padding } from '../../Components/Mods/Paddings';\nimport { Height, Width } from '../../Components/Mods/WidthHeight';\nimport styled from 'styled-components';\nimport css from './Editor.module.scss';\nimport { Tabs } from 'antd';\nimport { ColumnSelector } from '../../Components/ColumnSelector';\nimport { FontFamily } from '../../Components/Mods/FontFamily';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { VerticalAlign } from '../../Components/Mods/VerticalAlign';\nimport { BackgroundImage } from '../../Components/Mods/BackgroundImage';\nimport { ColumnAttributes } from '../../Components/ColumnAttributes';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\n\nconst { TabPane } = Tabs;\n\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-content {\n    height: 100%;\n  }\n`;\n\nexport const Attributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [isColumn, setIsColumn] = useState(false);\n\n  useEffect(() => {\n    if (active && active.classList && active.className.includes('mj-column')) {\n      setIsColumn(true);\n    }\n    isColumn && setIsColumn(false);\n  }, [active]);\n\n  return (\n    <CustomTabs defaultActiveKey=\"1\" centered style={{ height: '100%' }} destroyInactiveTabPane={true}>\n      <TabPane tab=\"Attributes\" key=\"1\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div\n            className={css.mods}\n            onMouseDown={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n            onBlur={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n          >\n            {isColumn ? (\n              <div style={{ textAlign: 'center' }}>\n                The selected Item is a Column, to modify properties <h2> check \"Column Properties\" Tab</h2>\n              </div>\n            ) : (\n              <>\n                <Width />\n                <Height />\n                <Align />\n                <VerticalAlign />\n                <Content />\n                <FontSize />\n                <FontFamily />\n                <Padding />\n                <InnerPadding />\n                <ContainerBackground />\n                <Background />\n                <BackgroundImage />\n                <Border />\n                <Border label=\"Border Width\" attribute_name=\"border-width\" />\n                <Border label=\"Border Style\" attribute_name=\"border-style\" />\n                <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n                <CordinalBorder />\n                <BorderRadius />\n                <Link />\n                <Img />\n              </>\n            )}\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab=\"Column Layout\" key=\"2\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div className={css.columns}>\n            <ColumnSelector />\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab=\"Column Properties\" key=\"3\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <ColumnAttributes />\n        </Scrollbars>\n      </TabPane>\n    </CustomTabs>\n  );\n};\n","import css from './UiWrapper.module.scss';\n\nexport const UiWrapper = ({ background, label }: { background: string; label: string }) => {\n  return (\n    <div className={css.wrapper}>\n      <div className={`${css.container} ${css[background]}`}></div>\n      <span>{label}</span>\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['align', 'background-color', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'color', 'container-background-color', 'css-class', 'font-family', 'font-size', 'font-style', 'font-weight', 'height', 'href', 'inner-padding', 'letter-spacing', 'line-height', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'rel', 'target', 'text-align', 'text-decoration', 'text-transform', 'title', 'vertical-align', 'width'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"3px\", \"border-right\": \"\", \"border-top\": \"\", \"color\": \"#ffffff\", \"container-background-color\": \"\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"normal\", \"height\": \"\", \"href\": \"\", \"inner-padding\": \"10px 25px\", \"letter-spacing\": \"\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"title\": \"\", \"vertical-align\": \"middle\", \"width\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"}\n\nexport const Button = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const config = {\n    tagName: 'mj-button',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-button',\n    },\n    children: [],\n    content: 'button',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"button\" label=\"Button\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { FONTS_CONFIG } from './Mods/FontConfig';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['color', 'font-family', 'font-size', 'font-style', 'font-weight', 'line-height', 'letter-spacing', 'height', 'text-decoration', 'text-transform', 'align', 'container-background-color', 'padding', 'padding-top', 'padding-bottom', 'padding-left', 'padding-right', 'css-class'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"height\": \"\", \"text-decoration\": \"\", \"text-transform\": \"\", \"align\": \"left\", \"container-background-color\": \"\", \"padding\": \"10px 25px\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"align\": \"center\", \"padding\": \"10px 25px\"};\n\n// since use custom inline editor, custom fons wont be included, unless I add them to the font config\n\nconst ExtraFontNames: string = FONTS_CONFIG.map((font) => font.name).join(', ');\n\nexport const Text = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      ...{ ...assigned_default_values, 'font-family': `${assigned_default_values['font-family']}, ${ExtraFontNames}` },\n      align: 'left',\n      'padding-left': '0px',\n      'padding-right': '0px',\n      'css-class': 'mjml-tag identifier-mj-text',\n    },\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"text\" label=\"Text\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"align\", \"alt\", \"border\", \"border-top\", \"border-bottom\", \"border-left\", \"border-right\", \"border-radius\", \"container-background-color\", \"css-class\", \"fluid-on-mobile\", \"height\", \"href\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"rel\", \"sizes\", \"src\", \"srcset\", \"target\", \"title\", \"usemap\", \"width\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"alt\": \"\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"border-radius\": \"\", \"container-background-color\": \"\", \"css-class\": \"\", \"fluid-on-mobile\": \"\", \"height\": \"auto\", \"href\": \"\", \"name\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"sizes\": \"\", \"src\": \"\", \"srcset\": \"\", \"target\": \"_blank\", \"title\": \"\", \"usemap\": \"\", \"width\": \"100%\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"align\": \"center\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"height\": \"auto\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"width\": \"100%\"}\n\nexport const Image = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-image',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-image',\n      width: 'auto',\n      padding: '0px 8px',\n      src: 'https://dev.bluepie.in/dnde.png',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"image\" label=\"Image\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"container-background-color\", \"css-class\", \"height\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"container-background-color\": \"\", \"css-class\": \"\", \"height\": \"20px\", \"padding\": \"none\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"height\": \"20px\", \"padding\": \"none\"}\n\nexport const Spacer = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-spacer',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-spacer',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"spacer\" label=\"Spacer\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\nexport const Html = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-html html-block',\n      padding: '0px',\n    },\n    mutableProperties: ['font-family'],\n    content: `\n    <table border=\"1\" style=\"width:100%; border-collapse:collapse\">\n    <tr style=\"font-weight:bold\">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align=\"center\">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align=\"center\">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    </table>\n    `,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"html\" label=\" Html\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"border-color\", \"border-style\", \"border-width\", \"container-background-color\", \"css-class\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"width\", \"align\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"container-background-color\": \"\", \"css-class\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"width\": \"100%\", \"align\": \"center\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"padding\": \"10px 25px\", \"width\": \"100%\", \"align\": \"center\"}\n\nexport const Divider = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-divider',\n    attributes: {\n      ...assigned_default_values,\n      padding: '0px',\n      'css-class': 'mjml-tag identifier-mj-divider',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n  // access type, etc from comp nd set to context\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"divider\" label=\"Divider\" />\n    </div>\n  );\n};\n","import { dragStart } from '../Utils/dragStart';\nimport { UiWrapper } from './UiWrapper';\n\n// prettier-ignore\nconst social_properties = [\"align\", \"border-radius\", \"color\", \"css-class\", \"container-background-color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"icon-height\", \"icon-size\", \"inner-padding\", \"line-height\", \"mode\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"text-decoration\"]\n\n// prettier-ignore\nconst social_properties_with_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"container-background-color\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_assigned_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_element_properties = [\"align\", \"alt\", \"background-color\", \"border-radius\", \"color\", \"css-class\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"href\", \"icon-height\", \"icon-size\", \"line-height\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"sizes\", \"src\", \"srcset\", \"rel\", \"target\", \"title\", \"text-decoration\", \"vertical-align\"]\n\n// prettier-ignore\nconst social_element_properties_with_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"sizes\": \"\", \"src\": \"Each social name has its own default\", \"srcset\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\n// prettier-ignore\nconst social_element_assigned_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"src\": \"Each social name has its own default\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\nconst social_element_config = {\n  tagName: 'mj-social-element',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-social-element',\n  },\n  mutableProperties: social_element_properties,\n};\n\nexport const Social = () => {\n  const config = {\n    tagName: 'mj-social',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-social',\n    },\n    children: [\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'facebook-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/facebook.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'twitter-noshare',\n          href: 'https://twitter.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/twitter.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'youtube-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/youtube.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'github',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/github.png',\n        },\n      },\n    ],\n    mutableProperties: social_properties,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"social\" label=\"Social\" />\n    </div>\n  );\n};\n","import { Col, Collapse, Row } from 'antd';\nimport { Button } from '../../Components/Button';\nimport { Text } from '../../Components/Text';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport css from './Editor.module.scss';\nimport '../../Assets/Css/antoveride.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { Image } from '../../Components/Image';\nimport { Spacer } from '../../Components/Spacer';\nimport { Html } from '../../Components/Html';\nimport { Divider } from '../../Components/Divider';\nimport { Section } from '../../Components/Section';\nimport { Social } from '../../Components/Social';\n\nconst { Panel } = Collapse;\n\nconst Header = ({ title }: { title: string }) => {\n  return <p className={css.title}>{title}</p>;\n};\n\nexport const ComponentBank = () => {\n  return (\n    <Scrollbars style={{ height: '100%' }} autoHide={true}>\n      <Collapse\n        expandIconPosition={'right'}\n        bordered={false}\n        defaultActiveKey={['1', '2']}\n        style={{ backgroundColor: 'rgb(255,255,255)' }}\n        expandIcon={({ isActive }) => <CaretDownOutlined rotate={isActive ? 0 : 180} />}\n      >\n        <Panel header={<Header title=\"Drag & Drop Section\" />} key=\"1\">\n          <Section />\n        </Panel>\n        <Panel header={<Header title=\"Drag & Drop Content\" />} key=\"2\">\n          <div className={css.components}>\n            <Button />\n            <Text />\n            <Image />\n            <Spacer />\n            <Divider />\n            <Html />\n            <Social />\n          </div>\n        </Panel>\n      </Collapse>\n    </Scrollbars>\n  );\n};\n","import { message } from 'antd';\nimport { logger } from './logger';\nconst sgMail = require('@sendgrid/mail');\n\nconst sendMail = (to: string, html: string) => {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n  const msg = {\n    to,\n    from: 'admin@bluepie.com', // Change to your verified sender\n    subject: 'Test Design',\n    text: 'check your design with this mail',\n    html: html,\n  };\n  sgMail\n    .send(msg)\n    .then(() => {\n      logger.log('Email sent');\n      message.loading('sending mail...', 2).then(() => message.success('mail sent!'));\n    })\n    .catch((error: any) => {\n      message.error('error sending mail');\n      logger.error(error);\n    });\n};\n\nexport { sendMail };\n","import { Modal, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport './Preview.module.css';\n\nconst DESKTOP_WIDTH = '800px';\nconst MOBILE_WIDTH = '323px';\n\nconst FullscreenModal = styled(Modal).attrs({ title: 'Preview' })`\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n`;\n\nconst PreviewMode = styled.div`\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n`;\n\ninterface PreviewProps {\n  visible: boolean;\n  visibleChange: (visible: boolean) => void;\n  inframeContent: string;\n}\n\nexport const Preview = ({ visible, visibleChange, inframeContent }: PreviewProps) => {\n  const [mode, setMode] = useState('desktop');\n\n  const onChange = (e: RadioChangeEvent) => {\n    if (e.target.value) {\n      setMode(e.target.value);\n    }\n  };\n\n  return (\n    <FullscreenModal\n      visible={visible}\n      onCancel={() => visibleChange(false)}\n      onOk={() => visibleChange(false)}\n      width={'unset'}\n      style={{ top: '0px', maxWidth: 'unset', paddingBottom: '0px', height: '100%' }}\n      bodyStyle={{ height: '100%' }}\n      maskStyle={{ height: '100%' }}\n      destroyOnClose={true}\n      footer={null}\n    >\n      <PreviewMode>\n        <ModeSelect onChange={onChange} value={mode} />\n      </PreviewMode>\n      {inframeContent ? (\n        <iframe\n          title=\"Preview\"\n          style={{ margin: '0px auto' }}\n          width={mode === 'desktop' ? DESKTOP_WIDTH : MOBILE_WIDTH}\n          height=\"100%\"\n          srcDoc={inframeContent}\n        />\n      ) : null}\n    </FullscreenModal>\n  );\n};\n\ninterface ModeSelectProps {\n  onChange: (e: RadioChangeEvent) => void;\n  value: string;\n}\n\nconst ModeSelect = ({ onChange, value }: ModeSelectProps) => {\n  return (\n    <>\n      <Radio.Group\n        onChange={onChange}\n        value={value}\n        options={[\n          { label: 'desktop', value: 'desktop' },\n          { label: 'mobile', value: 'mobile' },\n        ]}\n        buttonStyle=\"solid\"\n        optionType=\"button\"\n      />\n    </>\n  );\n};\n","import { View } from './View';\nimport css from './Editor.module.scss';\nimport { Attributes } from './Attributes';\nimport { ComponentBank } from './ComponentBank';\nimport { Button, PageHeader, Layout, Modal, Input, Row, Col } from 'antd';\nimport { success } from '../../Components/Messages';\nimport mjml2html from 'mjml-browser';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { sendMail } from '../../Utils/sendMail';\nimport { useEffect, useState } from 'react';\nimport { Preview } from './Preview';\nimport { exportJson } from '../../Utils/mjmlProcessor';\nimport _ from 'lodash';\nimport { generatePreview } from '../../Utils/previewGenerator';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\nconst { Content } = Layout;\nconst { confirm } = Modal;\n\nexport const Editor = () => {\n  const { mjmlJson } = useEditor();\n  const [preview, setPreview] = useState(false);\n\n  useEffect(() => {\n    // reset undo redo actions on each new load\n    UNDOREDO.reset();\n  }, []);\n\n  const copyHTMLAsClipBoard = (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(html);\n    logger.log('html', html);\n    success('Copied to clipboard & logged in devtools ');\n  };\n\n  const copyPreviewImage = async (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(await generatePreview(html));\n    success('Preview Image Copied to clipboard');\n  };\n\n  const copyJsonInClipBoard = (e: any) => {\n    e.preventDefault();\n    const to_copy = JSON.stringify(exportJson(_.cloneDeep(mjmlJson)));\n    navigator.clipboard.writeText(to_copy);\n    logger.log('json', to_copy);\n\n    success('Copied to Clipboard & logged in devtools ');\n  };\n\n  return (\n    <Row style={{ height: '100%', width: '100%' }} justify=\"center\">\n      <Col lg={24} xl={0}>\n        <div style={{ textAlign: 'center', padding: '40px', paddingTop: '10%' }}>\n          <h3>Sorry, You need a device with a larger screen to perform editing, atleast '{'>'}=1200px'</h3>\n        </div>\n      </Col>\n      <Col xs={0} xl={24}>\n        <Preview\n          visible={preview}\n          visibleChange={(flag) => setPreview(flag)}\n          inframeContent={preview ? mjml2html(mjmlJson).html : ''}\n        />\n        <Layout style={{ height: '100%' }}>\n          <PageHeader\n            ghost={false}\n            onBack={() => window.history.back()}\n            title=\"dnde\"\n            subTitle=\"\"\n            style={{ borderBottom: '1px solid #e8e8e8' }}\n            extra={[\n              <>\n                {/* <SendTestMail key=\"4\" />\n              <Button key=\"5\" onClick={copyPreviewImage}>\n                Copy Preview Image\n              </Button> */}\n                <Button key=\"3\" onClick={() => setPreview(true)}>\n                  Preview\n                </Button>\n                <Button key=\"2\" onClick={copyHTMLAsClipBoard}>\n                  Copy as html\n                </Button>\n                <Button key=\"1\" onClick={copyJsonInClipBoard}>\n                  Copy as json\n                </Button>\n              </>,\n            ]}\n          ></PageHeader>\n          <Content>\n            <div className={css.editor}>\n              <div className={css.bank}>\n                <ComponentBank />\n              </div>\n              <div className={css.view}>\n                <View />\n              </div>\n              <div className={css.attributes}>\n                <Attributes />\n              </div>\n            </div>\n          </Content>\n        </Layout>\n      </Col>\n    </Row>\n  );\n};\n\nconst SendTestMail = () => {\n  const { mjmlJson } = useEditor();\n  //todo: investigate onChange behaviour here ~sendTestMail\n  const [mail, SetMail] = useState('');\n  const onBlur = (e: any) => {\n    SetMail(e.currentTarget.value);\n  };\n\n  const msg = () =>\n    confirm({\n      title: 'Email',\n      icon: null,\n      content: <Input onBlur={onBlur} />,\n      onOk: () => {\n        mail && sendMail(mail, mjml2html(mjmlJson).html);\n      },\n    });\n\n  return (\n    <Button key=\"2\" type=\"primary\" onClick={msg}>\n      Send Test Mail\n    </Button>\n  );\n};\n","import { Editor } from './Editor';\nimport { DNDContext } from '../../Context/DragAndDrop.context';\nimport { EDContext } from '../../Context/Editor.context';\nimport { Ckeditor } from '../../Context/Ckeditor.context';\nimport { HtmlContextProvider } from '../../Context/Htmlwrapper.context';\nimport { QuillEditor } from '../../Context/Quill.context';\nimport { CustomEditorProvider } from '../../Context/CustomEditor.context';\n\nconst wrapContext = () => (\n  <HtmlContextProvider>\n    <CustomEditorProvider>\n      <QuillEditor>\n        <Ckeditor>\n          <DNDContext>\n            <EDContext>\n              <Editor />\n            </EDContext>\n          </DNDContext>\n        </Ckeditor>\n      </QuillEditor>\n    </CustomEditorProvider>\n  </HtmlContextProvider>\n);\n\nexport default wrapContext;\n","import { Routing } from './index.route';\n\nexport default Routing;\n","import { Switch, Route, Redirect } from 'react-router-dom';\nimport { List } from './List';\nimport Editor from './Editor';\n\nconst Routing = () => {\n  return (\n    <Switch>\n      <Route exact path={['', '/list']} component={List} />\n      <Route path=\"/template/:templateId\" component={Editor} />\n      <Route path=\"*\">\n        <Redirect to=\"/\" />\n      </Route>\n    </Switch>\n  );\n};\n\nexport { Routing };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  templates: [\n    {\n      id: 24234234,\n      preview: 'https://picsum.photos/320/550',\n    },\n    {\n      id: 4535345,\n      preview: 'https://picsum.photos/320/400',\n    },\n    {\n      id: 976824,\n      preview: 'https://picsum.photos/320/600',\n    },\n  ],\n};\nconst slice = createSlice({\n  name: 'templates',\n  initialState,\n  reducers: {},\n});\n\nexport const { reducer: templateListReducer } = slice;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { FC } from 'react';\nimport { DndeApi } from '../Api/api';\nimport { templateListReducer } from './list';\n\nimport { Provider } from 'react-redux';\n\nconst store = configureStore({\n  reducer: { [DndeApi.reducerPath]: DndeApi.reducer, templateList: templateListReducer },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(DndeApi.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const StoreProvider: FC = ({ children }) => {\n  return <Provider store={store}>{children}</Provider>;\n};\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport Pages from './Pages';\nimport 'antd/dist/antd.css';\nimport 'quill/dist/quill.snow.css';\nimport './App.scss';\nimport { StoreProvider } from './Store/store';\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <HashRouter>\n        <div className=\"my-app\">\n          <Pages />\n        </div>\n      </HashRouter>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MyApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Editor_layout__2Y-AK\",\"editor\":\"Editor_editor__qGS4j\",\"bank\":\"Editor_bank__3JqEw\",\"attributes\":\"Editor_attributes__32n0a\",\"components\":\"Editor_components__38eSg\",\"mods\":\"Editor_mods__3ZWIb\",\"columns\":\"Editor_columns__1Yrk0\",\"iconsContainer\":\"Editor_iconsContainer__KxyJq\",\"view\":\"Editor_view__eaZst\",\"viewHolder\":\"Editor_viewHolder__3pzWy\",\"title\":\"Editor_title__24LyS\"};"],"sourceRoot":""}