{"version":3,"sources":["Components/UiWrapper.module.scss","Pages/Editor/Preview.module.css","Assets/Images/new_template.svg","Pages/List/Preview.tsx","Api/api.ts","Pages/List/List.tsx","Components/Mods/FontConfig.ts","Context/DragAndDrop.context.tsx","Hooks/Drag.hook.ts","Context/Ckeditor.context.tsx","Hooks/Ckeditor.hook.ts","Utils/findElementInMjmlJson.ts","Utils/logger.ts","Utils/closestParent.ts","Utils/dragStart.ts","Components/Section.tsx","Lib/base64.js","Utils/mjmlProcessor.ts","Utils/undoRedo.ts","Components/Mods/CustomInlineEditor.tsx","Context/Editor.context.tsx","Components/Mods/HeadStyle.ts","Context/Htmlwrapper.context.tsx","Hooks/Htmlwrapper.hook.ts","Hooks/Editor.hook.ts","Context/CustomEditor.context.tsx","Hooks/CustomEditor.hook.ts","Utils/detectEmptyBody.ts","Utils/findElementsParent.ts","Utils/eventElementRelation.ts","Utils/generateDropItemPlaceholder.ts","Utils/reorderSections.ts","Utils/inlineEditorActions.ts","Components/ColorPicker.tsx","Hooks/Attribute.hook.ts","Hooks/useFonts.ts","Components/MoveUpDownRow.tsx","Components/HtmlWrapper.tsx","Utils/setToolbarPositions.ts","Utils/reactPropertyNames.ts","Utils/wrapWithOutline.tsx","Utils/htmlProcessor.tsx","Components/Messages.tsx","Utils/removePlaceholders.ts","Utils/operations.ts","Utils/findTextNode.ts","Context/Quill.context.tsx","Hooks/Quill.hook.ts","Components/Mods/Editor.tsx","Components/UndoRedo.tsx","Pages/Editor/View.tsx","Components/Mods/Align.tsx","Components/Mods/Background.tsx","Components/Mods/Border.tsx","Components/Mods/BorderRadius.tsx","Components/Mods/ContainerBackground.tsx","Components/Mods/Content.tsx","Components/Mods/CordinalBorder.tsx","Components/Mods/FontSize.tsx","Components/Mods/Img.tsx","Components/Mods/InnerPadding.tsx","Components/Mods/Link.tsx","Components/Mods/Paddings.tsx","Components/Mods/WidthHeight.tsx","Components/ColumnSelector.tsx","Components/Mods/FontFamily.tsx","Components/Mods/VerticalAlign.tsx","Components/Mods/BackgroundImage.tsx","Components/ColumnAttributes.tsx","Pages/Editor/Attributes.tsx","Components/UiWrapper.tsx","Components/Button.tsx","Components/Text.tsx","Components/Image.tsx","Components/Spacer.tsx","Components/Html.tsx","Components/Divider.tsx","Components/Social.tsx","Pages/Editor/ComponentBank.tsx","Utils/sendMail.ts","Pages/Editor/Preview.tsx","Pages/Editor/Editor.tsx","Pages/Editor/index.tsx","Pages/index.ts","Pages/index.route.tsx","Store/list.ts","Store/store.tsx","App.tsx","reportWebVitals.ts","index.tsx","Pages/Editor/Editor.module.scss"],"names":["module","exports","PreviewContainer","styled","div","NewItem","history","useHistory","className","PlusOutlined","style","fontSize","onClick","push","size","type","src","newTemplate","alt","Preview","image","id","skeleton","height","minWidth","maxWidth","padding","DndeApi","createApi","baseQuery","fetchBaseQuery","baseUrl","process","endpoints","builder","getTemplates","query","getTemplate","useGetTemplatesQuery","useLazyGetTemplateQuery","List","data","isLoading","isSuccess","isError","autoHide","align","justify","span","textAlign","paddingTop","md","lg","target","href","GithubFilled","position","top","gutter","map","item","key","xs","active","response","docRef","preview","FONTS_CONFIG","name","value","def","mutableAttributes","DragAndCropContext","createContext","DNDContext","props","ref","useRef","Provider","genId","current","children","useDragAndDropUniqueId","useContext","getId","CkeditorContext","Ckeditor","editorRef","ckeditorInstance","useState","editorActive","setActive","x","setX","y","setY","delActive","setDelActive","delX","setDelX","delY","setDelY","copyActive","setCopyActive","copyX","setCopyX","copyY","setCopyY","isColumn","setIsColumn","isActive","drag","copy","useCkeditor","findElementInJson","mjmljson","classidentifier","path","undefined","element","attributes","classNames","includes","i","length","child","res","logger","args","console","log","error","info","findClosestParent","closest","uniqueClassName","findUniqueIdentifier","classList","classlist","identifier","findUniqueIdentifierFromString","split","generateUniqueIdRecursively","uidGenerator","attr","css_class","uid","updatedClassNames","classNamesArr","regexMatch","trim","match","replace","replaceGeneicTagWithUniqueId","findIndexOfIdentifierInChildren","uniqueIdentifier","dragStart","e","config","dataTransfer","effectAllowed","draggingItem","setDragImage","setData","JSON","stringify","properties","assigned_default_values","columnPlaceholder","tagName","width","content","COLUMN","mutableProperties","Section","cannot_have","onDragStart","count","parseInt","_","set","dynamicRenderer","index","SectionTitle","SectionImage","draggable","Row","Generator","flexGrow","floor","display","borderRight","borderRadius","Base64","_keyStr","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","this","charAt","decode","indexOf","String","fromCharCode","_utf8_decode","string","utftext","n","c","c2","c3","cleanMjmlJson","mjmlJson","ignore","cssClass","isIgnoring","newChildren","result","exportJson","css","newCss","join","replaceContent","importJson","idGenerator","rawContent","regeneratedIdJson","cloneDeep","PageHeaderItems","UNDOREDO","undo","redo","action","isEqual","peekUndo","storeToLocalStorage","itemToApply","pop","undoAction","redoAction","peek","localStorage","setItem","window","UNDOREO","r","EditorContext","font","initialState","LOADING_KEY","EDContext","templateId","useParams","setMjmlJson","trigger","useEffect","actions","getItem","a","modalConfirmLoadLocalState","parsed","parse","processed","newAction","removeItem","restoreFromLocalStorage","then","isRestored","message","loading","duration","destroy","setAttributes","okCallback","cancelCallback","Promise","resolve","reject","Modal","confirm","title","icon","ExclamationCircleOutlined","okText","cancelText","onOk","onCancel","HtmlContext","HtmlContextProvider","memo","uiWrapperList","setUIWrapperList","activeHover","setActiveHover","setId","uiList","useHtmlWrapper","useEditor","CustomEditorContext","status","CustomEditorProvider","useCustomEditorPosition","useCustomEditorStatus","detectEmptyElement","nodeWithReactProperties","detect","detectElement","recursivelyFindParent","node","parentClassPartial","parent","parentElement","findSectionOfElement","isEventWithTargetElement","event","pos","getBoundingClientRect","eventX","clientX","eventY","clientY","within","left","right","bottom","generateDropItemPlaceholder","columnElement","currentTarget","nearestTag","nearestElement","suggestionDirection","middle","closeToTopOrBottom","slice","lastIndexOf","parentObj","get","newOrder","childItem","placeItemPlaceHolder","updated","uniqueColumnIdentifier","cleaned","moveSectionUp","directon","parentItem","parentPath","indexOfItem","childSection","nextChild","update_parent","InlineEditorActions","extras","preventDefault","stopPropagation","document","execCommand","ColorPicker","handleChange","mouseDown","color","setColor","ColorPickerContainer","onMouseDown","disableAlpha","onChange","hexCode","hex","decimalToHex","rgb","g","b","handleColorChange","alpha","Math","round","toString","useVisibility","attribute","property","customPath","visible","setVisible","setPath","pathToElement","useValue","getValue","ATTRIBUTE","defaultFonts","fonts","useFonts","setValue","_value","_fonts","restoreSelection","restoreSel","getSelection","temp","removeAllRanges","addRange","InlineEditor","activeElement","fontlist","toolbar","querySelectorAll","forEach","addEventListener","ResetEventBehaviour","removeEventListener","editor","Event","stateChangeCallback","onKeyUp","getRangeAt","add","setAttribute","border","zIndex","backgroundColor","transition","dropdownStyle","defaultValue","Array","from","keys","Option","onFocus","overlayClassName","placement","destroyTooltipOnHide","FontColorsOutlined","BgColorsOutlined","BoldOutlined","ItalicOutlined","UnderlineOutlined","setLinkCallback","LinkItem","link","setLink","linkRef","gap","placeholder","LinkOutlined","closestParent","find","itemJson","updateToSend","html","innerHTML","MoveUpDown","idRef","upActive","setUpActive","downActive","setDownActive","lastItem","flexDirection","rowGap","disabled","VerticalAlignTopOutlined","moveSectionDown","VerticalAlignBottomOutlined","HtmlWrapper","uniqueKey","originalNode","customEditorSetX","customEditorSetY","setCustomEditorStatus","uniqueId","onHover","useMemo","mjmlTarget","delete","numberOfIcons","setToolBars","outline","outlineClick","dropEffect","mode","memoFind","useCallback","onDragOver","nativeEvent","cleanedMjmlJson","columnObj","sectionPath","parentSection","columnChildrenNewOrder","childColumn","genereateDropItemPlaceholderForColumn","Element","createElement","nodeName","onMouseEnter","onMouseLeave","debounce","cursor","background","possibleStandardNames","accept","acceptcharset","accesskey","allowfullscreen","as","async","autocapitalize","autocomplete","autocorrect","autofocus","autoplay","autosave","capture","cellpadding","cellspacing","challenge","charset","checked","cite","class","classid","classname","cols","colspan","contenteditable","contextmenu","controls","controlslist","coords","crossorigin","dangerouslysetinnerhtml","datetime","default","defaultchecked","defaultvalue","defer","dir","disablepictureinpicture","disableremoteplayback","download","enctype","enterkeyhint","for","form","formmethod","formaction","formenctype","formnovalidate","formtarget","frameborder","headers","hidden","high","hreflang","htmlfor","httpequiv","innerhtml","inputmode","integrity","is","itemid","itemprop","itemref","itemscope","itemtype","keyparams","keytype","kind","label","lang","list","loop","low","manifest","marginwidth","marginheight","max","maxlength","media","mediagroup","method","min","minlength","multiple","muted","nomodule","nonce","novalidate","open","optimum","pattern","playsinline","poster","preload","profile","radiogroup","readonly","referrerpolicy","rel","required","reversed","role","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","sizes","spellcheck","srcdoc","srclang","srcset","start","step","summary","tabindex","usemap","wmode","wrap","about","accentheight","accumulate","additive","alignmentbaseline","allowreorder","alphabetic","amplitude","arabicform","ascent","attributename","attributetype","autoreverse","azimuth","basefrequency","baselineshift","baseprofile","bbox","begin","bias","by","calcmode","capheight","clip","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","cx","cy","d","datatype","decelerate","descent","diffuseconstant","direction","divisor","dominantbaseline","dur","dx","dy","edgemode","elevation","enablebackground","end","exponent","externalresourcesrequired","fill","fillopacity","fillrule","filter","filterres","filterunits","floodopacity","floodcolor","focusable","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","format","fx","fy","g1","g2","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","hanging","horizadvx","horizoriginx","ideographic","imagerendering","in2","in","inlist","intercept","k1","k2","k3","k4","k","kernelmatrix","kernelunitlength","kerning","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","local","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","mask","maskcontentunits","maskunits","mathematical","numoctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlineposition","overlinethickness","paintorder","panose1","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","points","pointsatx","pointsaty","pointsatz","prefix","preservealpha","preserveaspectratio","primitiveunits","radius","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","resource","restart","results","rotate","rx","ry","scale","security","seed","shaperendering","slope","spacing","specularconstant","specularexponent","speed","spreadmethod","startoffset","stddeviation","stemh","stemv","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","stroke","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokewidth","strokeopacity","suppresscontenteditablewarning","suppresshydrationwarning","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","to","transform","typeof","u1","u2","underlineposition","underlinethickness","unicode","unicodebidi","unicoderange","unitsperem","unselectable","valphabetic","values","vectoreffect","version","vertadvy","vertoriginx","vertoriginy","vhanging","videographic","viewbox","viewtarget","visibility","vmathematical","vocab","widths","wordspacing","writingmode","x1","x2","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlbase","xmllang","xmlns","xmlnsxlink","xmlspace","y1","y2","ychannelselector","z","zoomandpan","WrapWithOutline","domParser","DOMParser","converter","toLowerCase","el","React","httpEquiv","dangerouslySetInnerHTML","__html","reactName","toCamelCase","convertStyleStringToObject","original","childNodes","textContent","replaceAll","contains","nodeType","styleObject","styleArray","stylePair","str","$1","toUpperCase","success","msg","removePlaceholderBanner","Add","droppedConfig","droppedConfigWithUid","ObjectEquivalent","itemToInsert","insertAtPlaceholderIndicatorPosition","isUndoEmpty","Remove","ucn","movement","last","regExMatch","indexToRemove","Copy","parentUniqueIdentifier","next_parent","getIndexOfElementInParent","copyOfConfig","parentUniqueClassIdentifier","splice","AddAtIndex","findTextNode","textNode","closestDivToTextNode","parentNode","QuillContext","QuillEditor","QuillActive","setQuillActive","quillEditor","setQuillEditor","quillX","setQuillX","quillY","setQuillY","useQuillEditor","Editor","useUniqueIdGenerator","on","change","container","firstChild","off","hasAttribute","remove","lquill","Quill","theme","modules","getModule","clone","cloneNode","replaceChild","attach","scroll","domNode","deleteConfirm","CopyOperation","Delete","onConfirm","UndoRedo","undoCallback","redoCallback","mouseEnterDelay","UndoOutlined","isRedoEmpty","RedoOutlined","DesignContainer","View","print","viewHolder","onDrop","getData","MjmlProcessor","mjml","doc","parseFromString","htmlProcessor","mjml2html","Align","flex","Item","Background","activePath","overrideAttribute","json","Col","Border","attributeName","attribute_name","onKeyDown","BorderRadius","RegExp","exec","matchedValue","ContainerBackground","clicked","PROPERTY","Content","isReadOnly","setIsReadOnly","htmlBlock","setHtmlBlock","TextArea","readOnly","CordinalBorder","valuel","valuer","valueb","valuet","Group","marginBottom","addonBefore","FontSize","Img","InnerPadding","UpdateValue","Link","Padding","setPadding","vertical","horizontal","Width","ATTRIBUTE_HEIGHT","Height","ColumnSelector","setCustomEditorActive","sectionIdentifier","setSectionIdentifier","section","handleClick","changeTo","existingLength","convertLength","preProcessedColumn","updatedItem","click","one","marginTop","two","three","four","Image","Select","FontFamily","fontvalue","VerticalAlign","URL","SIZE","REPEAT","BackgroundImage","url","setUrl","setSize","repeat","setRepeat","urlVisibility","urlPath","sizeVisibility","sizePath","repeatVisiblity","repeatPath","TabPane","Tabs","CustomTabs","ColumnAttributes","columns","setActiveColumns","uniqueSectionIdentifier","_columns","centered","defaultActiveKey","destroyInactiveTabPane","column","tab","onBlur","Attributes","mods","UiWrapper","wrapper","properties_with_default_values","Button","mutalbePropertiesWithDefaultValues","onDragEnd","ExtraFontNames","Text","Spacer","Html","Divider","social_properties","social_element_config","Social","Panel","Collapse","Header","ComponentBank","expandIconPosition","bordered","expandIcon","CaretDownOutlined","header","components","require","FullscreenModal","attrs","PreviewMode","visibleChange","inframeContent","setMode","paddingBottom","bodyStyle","maskStyle","destroyOnClose","footer","margin","srcDoc","ModeSelect","options","buttonStyle","optionType","Layout","setPreview","reset","xl","flag","ghost","onBack","back","subTitle","borderBottom","extra","navigator","clipboard","writeText","to_copy","bank","view","wrapContext","Routing","exact","component","templateListReducer","createSlice","templates","reducers","reducer","store","configureStore","reducerPath","middleware","getDefaultMiddleware","concat","StoreProvider","App","Pages","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,QAAU,2BAA2B,UAAY,6BAA6B,OAAS,0BAA0B,KAAO,wBAAwB,MAAQ,yBAAyB,KAAO,wBAAwB,OAAS,0BAA0B,QAAU,2BAA2B,OAAS,4B,4CCAnTD,EAAOC,QAAU,CAAC,YAAY,2BAA2B,sBAAsB,uC,sKCDhE,MAA0B,yC,OCanCC,EAAmBC,IAAOC,IAAV,mtCA+DTC,EAAU,WACrB,IAAMC,EAAUC,cAIhB,OACE,eAACL,EAAD,WACE,qBAAKM,UAAU,cAAf,SACE,cAACC,EAAA,EAAD,CAAcC,MAAO,CAAEC,SAAU,YAEnC,qBAAKH,UAAU,yBAAf,SACE,qBAAKA,UAAU,UAAf,SACE,cAAC,IAAD,CAAQI,QAVA,WACdN,EAAQO,KAAR,iBASgCC,KAAK,QAAQC,KAAK,UAAUP,UAAU,aAAhE,8BAKJ,8BACE,qBAAKQ,IAAKC,EAAaC,IAAI,2BAM7BC,EAAU,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,GAAIC,EAA6B,EAA7BA,SACtBhB,EAAUC,cAIhB,OACE,eAACL,EAAD,WACGoB,EACC,qBAAKZ,MAAO,CAAEa,OAAQ,QAASC,SAAU,QAASC,SAAU,QAASC,QAAS,aAA9E,SAA8FJ,IAE9F,qBAAKC,OAAO,QAAQP,IAAKI,EAAOF,IAAI,YAEtC,qBAAKV,UAAU,YAAf,SACE,qBAAKA,UAAU,UAAf,SACE,cAAC,IAAD,CAAQI,QAZA,WACdN,EAAQO,KAAR,mBAAyBQ,KAWOP,KAAK,QAAQC,KAAK,UAAUP,UAAU,aAAhE,4B,0BCzFGmB,EAAUC,YAAU,CAC/BC,UAAWC,YAAe,CAAEC,QAASC,0DACrCC,UAAW,SAACC,GAAD,MAAc,CACvBC,aAAcD,EAAQE,MAAkC,CACtDA,MAAO,iCAETC,YAAaH,EAAQE,MAA+C,CAClEA,MAAO,gBAAGf,EAAH,EAAGA,GAAH,0BAAyBA,UAKvBiB,EAAkDX,EAAlDW,qBAAsBC,EAA4BZ,EAA5BY,wB,yDC9B/BC,EAAO,WAAO,IAAD,EAC+BF,IAAxCG,EADS,EACTA,KAAMC,EADG,EACHA,UAAoBC,GADjB,EACQC,QADR,EACiBD,WAElC,OACE,cAAC,IAAD,CAAYE,UAAU,EAAMnC,MAAO,CAAEa,OAAQ,QAA7C,SACE,sBAAKf,UAAU,WAAf,UACE,eAAC,IAAD,CAAKsC,MAAM,SAASC,QAAQ,SAASvC,UAAU,SAA/C,UACE,cAAC,IAAD,CAAKwC,KAAM,GAAX,SACE,cAAC,IAAD,CAAKF,MAAM,SAASC,QAAQ,SAA5B,SACE,cAAC,IAAD,UACE,sBAAMvC,UAAU,QAAhB,wBAIN,cAAC,IAAD,CAAKwC,KAAM,GAAX,SACE,cAAC,IAAD,CAAKF,MAAM,SAASC,QAAQ,SAA5B,SACE,cAAC,IAAD,CAAKrC,MAAO,CAAEuC,UAAW,UAAzB,SACE,uBAAMzC,UAAU,WAAhB,+CACoC,+CAK1C,cAAC,IAAD,CAAKE,MAAO,CAAEwC,WAAY,QAAUF,KAAM,GAA1C,SACE,cAAC,IAAD,CAAKF,MAAM,SAASC,QAAQ,SAA5B,SACE,eAAC,IAAD,CAAKvC,UAAU,OAAO2C,GAAI,GAAIC,GAAI,GAAI1C,MAAO,CAAEuC,UAAW,UAA1D,UACE,sJAIA,uBAEA,mBAAGI,OAAO,SAASC,KAAK,mCAAxB,SACE,uDACqB,cAACC,EAAA,EAAD,CAAc7C,MAAO,CAAE8C,SAAU,WAAYC,IAAK,MAAO9C,SAAU,yBAQlG,eAAC,IAAD,CAAKH,UAAU,kBAAkBsC,MAAM,SAASY,OAAQ,CAAC,EAAG,GAAIX,QAAQ,SAAxE,UACE,cAAC,IAAD,CAAKC,KAAM,GAAX,SACE,sBAAMxC,UAAU,QAAhB,kDAEF,cAAC,IAAD,CAAKwC,KAAM,GAAX,SACE,sBAAMxC,UAAU,WAAhB,0FAIJ,eAAC,IAAD,CAAKuC,QAAQ,SAASvC,UAAU,gBAAgBkD,OAAQ,CAAC,EAAG,IAA5D,UACE,cAAC,IAAD,CAAKN,GAAI,EAAT,SACE,cAAC,EAAD,MAEDV,GACC,CAAC,EAAG,GAAGiB,KAAI,SAACC,EAAMC,GAChB,OACE,cAAC,IAAD,CAAKC,GAAI,GAAIX,GAAI,GAAIC,GAAI,EAAG1C,MAAO,CAAEuC,UAAW,UAAhD,SACE,cAAC,EAAD,CAEE5B,GAAI,YACJC,SACE,qCACE,cAAC,IAAD,CAAUyC,QAAQ,IAClB,cAAC,IAAD,CAAUA,QAAQ,QALjBF,QAYdlB,GAAaF,EACVA,EAAKuB,SAASL,KAAI,SAACC,EAAMC,GACvB,OACE,cAAC,IAAD,CAAKT,GAAI,EAAT,SACE,cAAC,EAAD,CAAmB/B,GAAIuC,EAAKK,OAAQ7C,MAAOwC,EAAKM,SAAlCL,QAIpB,c,uFCvFDM,EAAe,CAC1B,CAAEC,KAAM,SAAUC,MAAO,gEACzB,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,iBAAkBC,MAAO,wEACjC,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,aAAcC,MAAO,oEAC7B,CAAED,KAAM,OAAQC,MAAO,8DACvB,CAAED,KAAM,mBAAoBC,MAAO,0EACnC,CAAED,KAAM,aAAcC,MAAO,oEAC7B,CAAED,KAAM,mBAAoBC,MAAO,0EACnC,CAAED,KAAM,kBAAmBC,MAAO,yEAClC,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,SAAUC,MAAO,gEACzB,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,cAAeC,MAAO,qEAC9B,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,SAAUC,MAAO,gEACzB,CAAED,KAAM,cAAeC,MAAO,qEAC9B,CAAED,KAAM,UAAWC,MAAO,iEAC1B,CAAED,KAAM,eAAgBC,MAAO,sEAC/B,CAAED,KAAM,mBAAoBC,MAAO,0EACnC,CAAED,KAAM,OAAQC,MAAO,8DACvB,CAAED,KAAM,QAASC,MAAO,+DACxB,CAAED,KAAM,qBAAsBC,MAAO,4EACrC,CAAED,KAAM,sBAAuBC,MAAO,6EACtC,CAAED,KAAM,QAASC,MAAO,+DACxB,CAAED,KAAM,cAAeC,MAAO,qEAC9B,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,YAAaC,MAAO,mEAC5B,CAAED,KAAM,YAAaC,MAAO,oEC5BxBC,EAAM,CACVC,kBAAmB,GACnBlD,GAAI,GACJN,KAAM,IAGKyD,EAAqBC,wBAAmBH,GAExCI,EAAiB,SAACC,GAC7B,IAAMC,EAAMC,iBAAO,GAQnB,OAAO,cAACL,EAAmBM,SAApB,CAA6BT,MAAO,CAAEU,MAN/B,WACZ,GAAIH,EAAII,SAAkC,kBAAhBJ,EAAII,QAC5B,QAASJ,EAAII,UAIV,SAAgDL,EAAMM,YChBzDC,EAAyB,WAAO,IAC5BH,EAAUI,qBAAWX,GAArBO,MACR,MAAO,CACLK,MAAO,kBAAML,OCJJM,EAAkBZ,wBAAmB,MAErCa,EAAe,SAACX,GAC3B,IAAMY,EAAYV,iBAAO,MACnBW,EAAmBX,iBAAO,MAFK,EAGHY,oBAAS,GAHN,mBAG9BC,EAH8B,KAGhBC,EAHgB,OAInBF,mBAAS,GAJU,mBAI9BG,EAJ8B,KAI3BC,EAJ2B,OAKnBJ,mBAAS,GALU,mBAK9BK,EAL8B,KAK3BC,EAL2B,OAMHN,oBAAS,GANN,mBAM9BO,EAN8B,KAMnBC,EANmB,OAObR,mBAAS,GAPI,mBAO9BS,EAP8B,KAOxBC,EAPwB,OAQbV,mBAAS,GARI,mBAQ9BW,EAR8B,KAQxBC,EARwB,OASDZ,oBAAS,GATR,mBAS9Ba,EAT8B,KASlBC,EATkB,OAUXd,mBAAS,GAVE,mBAU9Be,EAV8B,KAUvBC,EAVuB,OAWXhB,mBAAS,GAXE,mBAW9BiB,EAX8B,KAWvBC,EAXuB,OAYLlB,oBAAS,GAZJ,mBAY9BmB,EAZ8B,KAYpBC,EAZoB,KAerC,OACE,cAACxB,EAAgBP,SAAjB,CACET,MAAO,CACLO,IAAKW,EACLuB,SAAUpB,EACVC,YACAC,IACAE,IACAD,OACAE,OACAG,OACAE,OACAD,UACAE,UACAU,KAAM,CACJH,WACAC,eAEFG,KAAM,CACJV,aACAC,gBACAC,QACAC,WACAC,QACAC,YAEFX,YACAC,eACAT,oBA3BJ,SA8BGb,EAAMM,YC/CAgC,EAAc,WAEzB,OADiB9B,qBAAWE,ICJjB6B,EAAoB,SAApBA,EAAqBC,EAAeC,GAA0C,IAApBC,EAAmB,uDAAZ,GAC5E,QAAiBC,IAAbH,EACF,OAAO,KAET,IAAMI,EAAUJ,EAChB,GAAII,EAAQC,YAAcD,EAAQC,WAAW,aAAc,CACzD,IAAMC,EAAqBF,EAAQC,WAAW,aAC9C,GAAIC,EAAWC,SAASN,GACtB,MAAO,CAACG,EAASF,GAGrB,GAAIE,EAAQtC,SACV,IAAK,IAAI0C,EAAI,EAAGA,EAAIJ,EAAQtC,SAAS2C,OAAQD,IAAK,CAChD,IAAME,EAAQN,EAAQtC,SAAS0C,GACzBG,EAAMZ,EAAkBW,EAAOT,EAAiBC,EAAI,oBAAgBM,EAAhB,MAC1D,GAAIG,EACF,OAAOA,EAKb,OAAO,MCrBHC,EACC,WAAmB,IAAD,uBAAdC,EAAc,yBAAdA,EAAc,gBACrBC,QAAQC,IAAIF,IAFVD,EAIG,WAAmB,IAAD,uBAAdC,EAAc,yBAAdA,EAAc,gBACvBC,QAAQE,MAAMH,IALZD,GAOE,WAAmB,IAAD,uBAAdC,EAAc,yBAAdA,EAAc,gBACtBC,QAAQG,KAAKJ,ICJXK,GAAoB,SAACd,GACzB,IAAMe,EAAUf,EAAQe,QAAQ,aAC5BC,EAAkB,KAEtB,OAAKD,IAKLC,EAAkBC,GAAqBF,EAASA,EAAQG,aAGtDV,GAAY,6BAGPQ,IAVLR,GAAY,0BACLQ,IAYLC,GAAuB,SAACjB,EAAkBmB,GAE9C,IAFyG,IAAlCC,EAAiC,uDAApB,gBAChFJ,EAAkB,KACbZ,EAAI,EAAGe,GAAaf,EAAIe,EAAUd,OAAQD,IAAK,CACtD,IAAM3C,EAAU0D,EAAUf,GAC1B,GAAI3C,EAAQ0C,SAASiB,GAAa,CAChCJ,EAAkBvD,EAClB,OAGJ,OAAOuD,GAGHK,GAAiC,SAACH,GACtC,OAAOD,GAAqB,KAA4BC,EAAUI,MAAM,OAiCpEC,GAA8B,SAA9BA,EAA+BlF,EAAWmF,GAC9C,GAAKnF,EAAL,CAIA,IAAK,IAAI+D,EAAI,EAAG/D,EAAI,UAAgB+D,EAAI/D,EAAI,SAAagE,OAAQD,IAC/D/D,EAAI,SAAa+D,GAAKmB,EAA4BlF,EAAI,SAAa+D,GAAIoB,GAGzE,IAAIC,EAAOpF,EAAI,WACf,GAAIoF,EAAM,CACR,IAAIC,EAAYD,EAAK,aACrBC,EA1CiC,SAACxB,EAAoByB,GACxD,IAAIC,EAAoB,GACxB,GAA0B,kBAAf1B,EAET,OADAM,EAAA,0FAA8FN,EAA9F,aACO,KAGT,IADA,IAAI2B,EAAgB3B,EAAWoB,MAAM,KAC5BlB,EAAI,EAAGA,EAAIyB,EAAcxB,OAAQD,IAAK,CAC7C,IAAI3C,EAAUoE,EAAczB,GAC5B,GAAI3C,EAAQ0C,SAAS,iBAAkB,CAKrC,IAAM2B,GAJNrE,EAAUA,EAAQsE,QAISC,MAAM,UAC3BrB,EAAMlD,EAEVA,EADEqE,EACQrE,EAAQwE,QAAQH,EAAW,GAA3B,WAAmCH,IAEtC,WAAOlE,EAAP,YAAkBkE,GAE3BnB,EAAA,0BAA8BG,EAA9B,eAAwClD,EAAxC,MAEFmE,GAAiB,WAAQnE,GAE3B,OAAOmE,EAiBOM,CAA6BR,EAAWF,KACpDC,EAAK,aAAeC,EAKtB,OAFArF,EAAI,WAAiBoF,EAEdpF,IAGH8F,GAAkC,SAACzE,EAAiB0E,GACxD,IAAK,IAAIhC,EAAI,EAAGgC,GAAoB1E,GAAYA,EAAS2C,OAAS,GAAKD,EAAI1C,EAAS2C,OAAQD,IAAK,CAC/F,IAAME,EAAQ5C,EAAS0C,GACvB,GAAIE,GAASA,EAAK,YAAkBA,EAAK,WAAe,aAAaH,SAASiC,GAC5E,OAAOhC,EAGX,OAAQ,GChGJiC,GAAY,SAACC,EAAcC,GAC/B,GAAID,GAAKA,EAAEE,aAAc,CACvBF,EAAEE,aAAaC,cAAgB,OAC/B,IAAMC,EAAeJ,EAAExG,OACvBwG,EAAEE,aAAaG,aAAaD,GAAe,GAAI,GAC/CJ,EAAEE,aAAaI,QAAQ,SAAUC,KAAKC,UAAUP,MCM9CQ,GAAa,CAAC,mBAAoB,sBAAuB,wBAAyB,wBAAyB,oBAAqB,kBAAmB,iBAAkB,SAAU,gBAAiB,cAAe,gBAAiB,eAAgB,aAAc,YAAa,YAAa,aAAc,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,cAMnXC,GAA2B,CAAC,MAAS,SAAU,mBAAoB,UAAW,OAAU,OAAQ,gBAAiB,MAAO,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,cAAe,SAAU,gBAAiB,YAAa,cAAe,OAAQ,QAAW,YAAa,OAAU,SAAU,aAAc,OAAQ,kBAAmB,OAAQ,iBAAkB,OAAQ,iBAAkB,UAWxaC,GAAoB,CAC/B,CACEC,QAAS,WACTjD,WAAY,CACVxG,IAAK,mDACL,YAAa,iBACb0J,MAAO,UAGX,CACED,QAAS,UACTjD,WAAY,CACV,cAAe,MACf,YAAa,OACb1E,MAAO,SACP,YAAa,kBAEf6H,QAAS,wCAIAC,GAAS,CACpBH,QAAS,YACTjD,WAAY,CACV,YAAa,gCACb9F,QAAS,WAEXuD,SAAS,GAAD,OAAMuF,IACdK,kBApCwB,CAAC,mBAAoB,yBAA0B,SAAU,gBAAiB,cAAe,eAAgB,aAAc,gBAAiB,eAAgB,sBAAuB,oBAAqB,qBAAsB,mBAAoB,sBAAuB,QAAS,iBAAkB,UAAW,cAAe,iBAAkB,eAAgB,gBAAiB,cAuC1XC,GAAU,WACrB,IAAIhB,EAAS,CACXW,QAAS,aACTjD,WAAW,2BACN+C,IADK,IAER,YAAa,iCACb,gBAAiB,MACjB,mBAAoB,OACpB,aAAc,WAEhBtF,SAAU,GACV8F,YAAa,CAAC,aAAc,aAC5BF,kBAAmBP,IAIXzD,EACNI,IADFF,KAAQF,YAGJmE,EAAc,SAACnB,GACnB,IAAMxG,EAASwG,EAAExG,OACXsF,EAAaH,GAAqBnF,EAAQA,EAAOoF,UAAW,cAClE,GAAIE,EAAY,CACd,IAAMY,EAAQZ,EAAWY,MAAM,mBAC/B,GAAIA,EAAO,CAGT,IAFA,IAAI0B,EAAQC,SAAS3B,EAAM,IACvBtE,EAAW,GACRgG,EAAQ,GACbhG,EAASpE,KAAK+J,IACdK,IAEFnB,EAASqB,IAAEC,IAAItB,EAAQ,WAAY7E,IAGvC2E,GAAUC,EAAUC,GACpBjD,GAAY,IAGVwE,EAAkB,CAAC,EAAG,EAAG,EAAG,GAAG1H,KAAI,SAACU,EAAOiH,GAC7C,OACE,eAAC,WAAD,WACE,cAACC,GAAD,UACE,8BAAIlH,EAAJ,cADiBA,EAAQiH,EAAQ,SAGnC,cAACE,GAAD,CAEEhL,UAAS,qBAAgB6D,GACzBoH,WAAW,EACXT,YAAaA,EAJf,SAME,qBAAKxK,UAAS,UAAd,SACE,qBAAKA,UAAU,SAAf,SACE,cAAC,GAAD,CAAWoH,OAAQvD,SAPlBA,EAAQiH,EAAQ,aALVjH,MAmBnB,OAAO,mCAAGgH,KAGNE,GAAepL,YAAOuL,IAAPvL,CAAH,2NAYZqL,GAAerL,YAAOuL,IAAPvL,CAAH,8yBAqCZwL,GAAY,SAAC,GAIjB,IAJqD,IAAlC/D,EAAiC,EAAjCA,OACf+C,EAAU,GACRiB,EAAWC,gBAAM,IAAMjE,GAEpBD,EAAI,EAAGA,EAAIC,EAAQD,IAC1BgD,EAAQ9J,KACN,qBAEEH,MAAO,CACLoL,QAAS,OACTF,WACArK,OAAQ,OACRwK,YAAapE,IAAMC,EAAS,EAAI,GAAK,4BACrCoE,aAAc,QANXrE,EAAIiE,IAWf,OAAO,mCAAGjB,KCpLCsB,GAAS,CAEpBC,QAAS,oEAGTC,OAAQ,SAAUC,GAChB,IACIC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,EADpCC,EAAS,GAETjF,EAAI,EAIR,IAFAyE,EAAQH,GAAOY,aAAaT,GAErBzE,EAAIyE,EAAMxE,QAKf4E,GAJAH,EAAOD,EAAMU,WAAWnF,OAIT,EACf8E,GAAgB,EAAPJ,IAAa,GAJtBC,EAAOF,EAAMU,WAAWnF,OAIY,EACpC+E,GAAgB,GAAPJ,IAAc,GAJvBC,EAAOH,EAAMU,WAAWnF,OAIa,EACrCgF,EAAc,GAAPJ,EAEHQ,MAAMT,GACRI,EAAOC,EAAO,GACLI,MAAMR,KACfI,EAAO,IAGTC,EACEA,EACAI,KAAKd,QAAQe,OAAOT,GACpBQ,KAAKd,QAAQe,OAAOR,GACpBO,KAAKd,QAAQe,OAAOP,GACpBM,KAAKd,QAAQe,OAAON,GAGxB,OAAOC,GAITM,OAAQ,SAAUd,GAChB,IACIC,EAAMC,EAAMC,EACNE,EAAMC,EAAMC,EAFlBC,EAAS,GAGTjF,EAAI,EAGR,IADAyE,EAAQA,EAAM5C,QAAQ,sBAAuB,IACtC7B,EAAIyE,EAAMxE,QAMfyE,EALOW,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOtF,OAKzB,GAJhB8E,EAAOO,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOtF,QAIX,EAC9B2E,GAAgB,GAAPG,IAAc,GAJvBC,EAAOM,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOtF,QAIJ,EACrC4E,GAAgB,EAAPG,IAAa,GAJtBC,EAAOK,KAAKd,QAAQiB,QAAQf,EAAMa,OAAOtF,OAMzCiF,GAAkBQ,OAAOC,aAAahB,GAE1B,IAARK,IACFE,GAAkBQ,OAAOC,aAAaf,IAG5B,IAARK,IACFC,GAAkBQ,OAAOC,aAAad,IAM1C,OAFAK,EAASX,GAAOqB,aAAaV,IAM/BC,aAAc,SAAUU,GACtB,IAAIC,EAAU,GACdD,EAASA,EAAO/D,QAAQ,QAAS,MAEjC,IAAK,IAAIiE,EAAI,EAAGA,EAAIF,EAAO3F,OAAQ6F,IAAK,CACtC,IAAIC,EAAIH,EAAOT,WAAWW,GAEtBC,EAAI,IACNF,GAAWJ,OAAOC,aAAaK,GACtBA,EAAI,KAAOA,EAAI,MACxBF,GAAWJ,OAAOC,aAAcK,GAAK,EAAK,KAC1CF,GAAWJ,OAAOC,aAAkB,GAAJK,EAAU,OAE1CF,GAAWJ,OAAOC,aAAcK,GAAK,GAAM,KAC3CF,GAAWJ,OAAOC,aAAeK,GAAK,EAAK,GAAM,KACjDF,GAAWJ,OAAOC,aAAkB,GAAJK,EAAU,MAI9C,OAAOF,GAITF,aAAc,SAAUE,GACtB,IAEIE,EAAOC,EAAIC,EAFXL,EAAS,GACT5F,EAAI,EAIR,IAFA+F,EAASC,EAAK,EAEPhG,EAAI6F,EAAQ5F,SACjB8F,EAAIF,EAAQV,WAAWnF,IAEf,KACN4F,GAAUH,OAAOC,aAAaK,GAC9B/F,KACS+F,EAAI,KAAOA,EAAI,KACxBC,EAAKH,EAAQV,WAAWnF,EAAI,GAC5B4F,GAAUH,OAAOC,cAAmB,GAAJK,IAAW,EAAW,GAALC,GACjDhG,GAAK,IAELgG,EAAKH,EAAQV,WAAWnF,EAAI,GAC5BiG,EAAKJ,EAAQV,WAAWnF,EAAI,GAC5B4F,GAAUH,OAAOC,cAAmB,GAAJK,IAAW,IAAa,GAALC,IAAY,EAAW,GAALC,GACrEjG,GAAK,GAIT,OAAO4F,IC3HLM,GAAgB,SAAhBA,EAAiBC,GAAwC,IAAzBC,EAAwB,uDAAP,GACrD,IAAKD,EACH,OAAO,KAGT,GAAIA,EAAQ,YAAkBA,EAAQ,WAAe,aAAc,CACjE,IAAME,EAAWF,EAAQ,WAAe,aACxC,GAAIE,EAAStG,SAAS,yBACpB,OAAO,KAaX,IAPA,IAAMuG,EACJF,GACAD,EAAQ,YACRA,EAAQ,WAAe,cACvBA,EAAQ,WAAe,aAAapG,SAASqG,GAE3CG,EAAmB,GACdvG,EAAI,EAAGmG,EAAQ,UAAgBnG,EAAImG,EAAQ,SAAalG,OAAQD,IAAK,CAC5E,IAAM/D,EAAOkK,EAAQ,SAAanG,GAE5BwG,EAASF,EAAarK,EAAOiK,EAAcjK,EAAMmK,GACnDI,GACFD,EAAYrN,KAAKsN,GAcrB,OARIL,GAAoC,cAAxBA,EAAQ,SAAsD,IAAvBI,EAAYtG,QACjEsG,EAAYrN,KAAZ,MAAAqN,EAAW,YAAS1D,KAGlB0D,EAAYtG,SACdkG,EAAQ,SAAeI,GAGlBJ,GAGHM,GAAa,SAAbA,EAAchC,GAClB,GAAKA,EAAL,CAMA,GAAIA,EAAK,YAAkBA,EAAK,WAAe,aAAc,CAC3D,IAAIiC,EAAMjC,EAAK,WAAe,aAC9BiC,EAAMA,EAAIxF,MAAM,KAEhB,IADA,IAAIyF,EAAS,GACJ3G,EAAI,EAAGA,EAAI0G,EAAIzG,OAAQD,IAAK,CACnC,IAAM3C,EAAkBqJ,EAAI1G,GAE1B3C,EAAQ0C,SAAS,kBACjB1C,EAAQ0C,SAAS,mBACjB1C,EAAQ0C,SAAS,0BAInB4G,EAAOzN,KAAKmE,GAEVsJ,EAAO1G,SACTyG,EAAMC,EAAOC,KAAK,MAIlBnC,EAAK,UAEPA,EAAK,QAAcH,GAAOE,OAAOC,EAAK,UAIxC,IADA,IAAInH,EAAgB,GACX0C,EAAI,EAAGyE,EAAK,UAAgBzE,EAAIyE,EAAK,SAAaxE,OAAQD,IAAK,CACtE,IAAME,EAAQuE,EAAK,SAAazE,GAC1BwD,EAAIiD,EAAWvG,GACjBsD,GACFlG,EAASpE,KAAKsK,GAQlB,OAJIlG,EAAS2C,SACXwE,EAAK,SAAenH,GAGfmH,IAGT,SAASoC,GAAepC,GACtB,GAAKA,EAAL,CAIIA,EAAK,UACPA,EAAK,QAAcH,GAAOiB,OAAOd,EAAK,UAIxC,IADA,IAAInH,EAAgB,GACX0C,EAAI,EAAGyE,EAAK,UAAgBzE,EAAIyE,EAAK,SAAaxE,OAAQD,IAAK,CACtE,IACMwD,EAAIqD,GADIpC,EAAK,SAAazE,IAE5BwD,GACFlG,EAASpE,KAAKsK,GAQlB,OAJIlG,EAAS2C,SACXwE,EAAK,SAAenH,GAGfmH,GAGT,IAAMqC,GAAa,SAACrC,EAAYsC,GAA4D,IAAjCC,EAAgC,wDACrFC,EAAoB9F,GAA4BsD,EAAOsC,GAc3D,OATEE,GACAA,EAAkBnE,SACY,SAA9BmE,EAAkBnE,SAClBmE,EAAkB3J,UAClB2J,EAAkB3J,SAAS2C,OAAS,IAEpCgH,EAAkB3J,SAAS,GAAGA,SAAWkG,IAAE0D,UAAUC,KAGhDH,EAAaC,EAAoBJ,GAAeI,I,oBCpCrDG,GAAW,I,WA9Fb,aAAe,0BAHRC,UAGO,OAFdC,UAEc,EACZjC,KAAKgC,KAAO,GACZhC,KAAKiC,KAAO,G,8CAGd,SAAiBC,GACXlC,KAAKgC,KAAKpH,OAAS,GAAKuD,IAAEgE,QAAQD,EAAQlC,KAAKoC,YACjDrH,EAAW,yEAGbiF,KAAKgC,KAAKnO,KAAKmM,KAAKhG,KAAKkI,IACzBlC,KAAKqC,sBACLrC,KAAKiC,KAAO,M,wBAGd,WAA8C,IAA5BjK,EAA2B,wDAC3C,GAAIgI,KAAKgC,KAAKpH,OAAS,EACrB,OAAO,EAGT,IAAM0H,EAActC,KAAKhG,KAAKgG,KAAKgC,KAAKO,OAGxC,OAFAvC,KAAKiC,KAAKpO,KAAKyO,GAEXtK,GAAWmG,IAAEgE,QAAQG,EAAatK,IACpC+C,EAAW,iFACJiF,KAAKwC,WAAWxK,IAGlBsK,I,wBAGT,WAA8C,IAA5BtK,EAA2B,wDAC3C,GAAIgI,KAAKiC,KAAKrH,OAAS,EACrB,OAAO,EAGT,IAAM0H,EAActC,KAAKhG,KAAKgG,KAAKiC,KAAKM,OAExC,OADAvC,KAAKgC,KAAKnO,KAAKyO,GACXtK,GAAWmG,IAAEgE,QAAQG,EAAatK,IACpC+C,EAAW,iFACJiF,KAAKyC,WAAWzK,IAElBsK,I,sBAGT,WACE,IAAII,GAAsB,EAI1B,OAHI1C,KAAKgC,KAAKpH,OAAS,IACrB8H,EAAO1C,KAAKhG,KAAKgG,KAAKgC,KAAKhC,KAAKgC,KAAKpH,OAAS,KAEzC8H,I,sBAGT,WACE,IAAIA,GAAsB,EAI1B,OAHI1C,KAAKiC,KAAKrH,OAAS,IACrB8H,EAAO1C,KAAKiC,KAAKjC,KAAKiC,KAAKrH,OAAS,IAE/B8H,I,yBAGT,WACE,OAA4B,IAArB1C,KAAKgC,KAAKpH,S,yBAGnB,WACE,OAA4B,IAArBoF,KAAKiC,KAAKrH,S,mBAGnB,WACEoF,KAAKgC,KAAO,GACZhC,KAAKiC,KAAO,K,mBAGd,WACElH,EAAW,aAAciF,KAAKgC,KAAMhC,KAAKiC,Q,iCAG3C,WACE,IACEU,aAAaC,QAAQ,UAAWxF,KAAKC,UAAU2C,KAAKgC,OACpD,MAAOnF,GACP9B,EAAW,4CACXA,EAAW,8FACXiF,KAAKgC,KAAO,CAAChC,KAAKgC,KAAKhC,KAAKgC,KAAKpH,OAAS,IAC1C+H,aAAaC,QAAQ,UAAWxF,KAAKC,UAAU2C,KAAKgC,U,kBAIxD,SAAapL,GACX,OAAOuH,IAAE0D,UAAUjL,O,MAMtBiM,OAAeC,QAAUf,G,OClFtBgB,G,wCCRSC,GAAgBvL,wBAAmB,MAEnCqK,GAAe,CAC1B,CAAErE,QAAS,WAAYjD,WAAY,GAAIvC,SAAU,IACjD,CAAEwF,QAAS,WAAYE,QCjBA,oDDeG,mBAGvBxG,EAAaR,KAAI,SAACsM,GACnB,MAAO,CACLxF,QAAS,UACTjD,WAAY,CACVpD,KAAM6L,EAAK7L,KACXd,KAAM2M,EAAK5L,aAMb6L,GAAe,CACnBzF,QAAS,OACTxF,SAAU,CACR,CACEwF,QAAS,UACTjD,WAAY,GACZvC,SAAU6J,IAEZ,CACErE,QAAS,UACTjD,WAAY,CAAE,YAAa,8BAA+B,mBAAoB,OAAQkD,MAAO,SAC7FzF,SAAU,KAGduC,WAAY,IAGR2I,GAAc,UAEPC,GAAgB,SAACzL,GAAW,IAC/B0L,EAAmDC,cAAnDD,WACAjL,EAAUF,IAAVE,MAF8B,EAGNK,mBAAc,MAHR,mBAG/BqI,EAH+B,KAGrByC,EAHqB,OAIqBhO,IAJrB,mBAI/BiO,EAJ+B,YAIpB/N,EAJoB,EAIpBA,KAAMG,EAJc,EAIdA,QAASF,EAJK,EAILA,UAAWC,EAJN,EAIMA,UAE5C8N,qBAAU,WAER,IAAMC,EAAUf,aAAagB,QAAQ,WAFvB,4CAId,4BAAAC,EAAA,yDACMzC,GAAS,GACTuC,EAFN,gCAGmBG,IACb,WACE,IAAMC,EAAS1G,KAAK2G,MAAML,GACpBM,EAAYvC,GAAWqC,EAAOA,EAAOlJ,OAAS,GAAIxC,GAAO,GAC/D2J,GAASC,KAAO8B,EAChBP,EAAYS,MAEd,WACET,EAAYpF,IAAE0D,UAAUqB,KACxBnB,GAASkC,UAAU9F,IAAE0D,UAAUqB,KAC/BP,aAAauB,WAAW,cAbhC,OAGI/C,EAHJ,uCAiBSA,GAjBT,4CAJc,kEAwBdgD,GAA0BC,MAAK,SAACC,GAC1BA,IAGiB,QAAfhB,GAA8C,qBAAfA,EACjCE,EAAYpF,IAAE0D,UAAUqB,KAEpBG,IACFiB,IAAQC,QAAQ,CAAE5G,QAAS,uBAAwB9G,IAAKsM,GAAaqB,SAAU,IAC/EhB,EAAQ,CAAEnP,GAAIgP,WAKrB,IAEHI,qBAAU,WACR,GAAI9N,GAAaF,EACf,IACE8N,EAAY9B,GAAWrE,KAAK2G,MAAMtO,EAAKuB,SAASvB,MAAO2C,IACvD,MAAOyE,GACPyH,IAAQnJ,MAAM,0BAA2B,QAElCxF,IAAcF,GACvB6O,IAAQnJ,MAAM,oBAAqB,GAEjCxF,GACF2O,IAAQG,QAAQtB,IAEdvN,GACF0O,IAAQlJ,KAAK,uCAAwC,KAEtD,CAACxF,EAASF,EAAWC,EAAWF,IA9DG,MAgEFgD,mBAAc,IAhEZ,mBAgE/B+B,EAhE+B,KAgEnBkK,EAhEmB,KAkEtC,OACE,cAAC1B,GAAclL,SAAf,CACET,MAAO,CACLyJ,SAAUA,EACVyC,cACA/I,aACAkK,iBALJ,SAQG/M,EAAMM,YAKP4L,GAA0B,uCAAG,WAAOc,EAAwBC,GAA/B,SAAAhB,EAAA,+EAC1B,IAAIiB,SAAiB,SAACC,EAASC,GACpCC,IAAMC,QAAQ,CACZC,MAAO,UACPC,KAAM,cAACC,GAAA,EAAD,IACNzH,QAAS,2CACT0H,OAAQ,UACRC,WAAY,SACZC,KAAM,WACJZ,IACAG,GAAQ,IAEVU,SAAU,WACRZ,IACAE,GAAQ,UAdmB,2CAAH,wDE7HnBW,GAAchO,wBAAmB,MAEjCiO,GAA0BC,gBAAK,SAAChO,GAAW,IAAD,EACXc,mBAAS,IADE,mBAC9CmN,EAD8C,KAC/BC,EAD+B,OAGfpN,qBAHe,mBAG9CqN,EAH8C,KAGjCC,EAHiC,OAKzBtN,qBALyB,mBAK9C1B,EAL8C,KAKtC4B,EALsC,KAO/Cf,EAAMC,iBAAY,GAP6B,EASjCY,mBAAc,GATmB,mBAS9CpE,EAT8C,KAS1C2R,EAT0C,KAkBrD,OACE,eAACP,GAAY3N,SAAb,CACET,MAAO,CACL4O,OAAQL,EACRC,mBACAC,cACAC,iBACAhP,SACA4B,YACAtE,KACA2R,QACA5N,MAlBQ,WACZ4N,EAAM3R,EAAK,GACX0G,EAAW,QAAS1G,KAMpB,UAaE,8BAAM,qCAAG0G,EAAW,uBAAwBnD,EAAII,WAA1C,SACLL,EAAMM,eCnCAiO,GAAiB,WAE5B,OADoB/N,qBAAWsN,KCIpBU,GAAY,WAEvB,OADgBhO,qBAAW6K,K,mDCLhBoD,GAAsB3O,wBAGhC,CAAEjB,SAAU,CAAEoC,EAAG,EAAGE,EAAG,EAAGD,KAAM,aAAUE,KAAM,cAAYsN,OAAQ,CAAEtP,QAAQ,EAAO4B,UAAW,gBAEtF2N,GAA2B,SAAC3O,GAAW,IAAD,EAC/Bc,mBAAS,GADsB,mBAC1CG,EAD0C,KACvCC,EADuC,OAE/BJ,mBAAS,GAFsB,mBAE1CK,EAF0C,KAEvCC,EAFuC,OAGrBN,oBAAS,GAHY,mBAG1C1B,EAH0C,KAGlC4B,EAHkC,KAIjD,OACE,cAACyN,GAAoBtO,SAArB,CAA8BT,MAAO,CAAEb,SAAU,CAAEoC,IAAGE,IAAGD,OAAME,QAAQsN,OAAQ,CAAEtP,SAAQ4B,cAAzF,SACGhB,EAAMM,YCZPsO,GAA0B,WAE9B,OADqBpO,qBAAWiO,IAAxB5P,UAIJgQ,GAAwB,WAE5B,OADmBrO,qBAAWiO,IAAtBC,QCTJI,GAAqB,SAACC,EAA8BC,GACxD,OACEC,GAAcF,EAAyBC,IACvCD,EAAwBzO,UACxByO,EAAwBzO,SAAW,GAIjC2O,GAAgB,SAACF,EAA8BC,GACnD,IAAKA,EACH,OAAO,EACF,GAAe,SAAXA,EACTA,EAAS,0BACJ,GAAe,YAAXA,EACTA,EAAS,4BACJ,IAAe,WAAXA,EAGT,OAAO,EAFPA,EAAS,uBAKX,OACED,EAAwB/O,OACxB+O,EAAwB/O,MAAxB,WACsD,kBAA/C+O,EAAwB/O,MAAxB,WACP+O,EAAwB/O,MAAxB,UAA2C+C,SAASiM,ICvBlDE,GAAwB,SAAxBA,EAAyBC,EAAyBC,GACtD,IAAKD,EACH,OAAO,KAET,IAAIE,EAASF,EAAKxL,QAAQ,aAC1B,GAAI0L,GAAUA,EAAOvL,UAAW,CAC9B,IAAMkB,EAAmBnB,GAAqBwL,EAAQA,EAAOvL,WAC7D,GAAIkB,GAAoBA,EAAiBjC,SAASqM,GAChD,MAAO,CAACC,EAAQrK,GAElBqK,EAASA,EAAOC,cAGlB,OAAOJ,EAAsBG,EAAQD,IAOjCG,GAAuB,SAACJ,GAC5B,OAAOD,GAAsBC,EAAM,eCrB/BK,GAA2B,SAACC,EAAY/Q,GAC5C,IAAMgR,EAAMhR,EAAOiR,wBACbC,EAASH,EAAMI,QACfC,EAASL,EAAMM,QAEjBC,EAASN,GAAOE,GAAUE,IAAU,EAUxC,OARIF,EAASF,EAAIO,MAAQL,EAASF,EAAIQ,SACpCF,GAAS,IAGPF,EAASJ,EAAI5Q,KAAOgR,EAASJ,EAAIS,UACnCH,GAAS,GAGJA,GCDHI,GAA8B,SAAC,GAOI,IANvCjH,EAMsC,EANtCA,SACAyC,EAKsC,EALtCA,YACAyE,EAIsC,EAJtCA,cACOnL,EAG+B,EAHtCuK,MACAa,EAEsC,EAFtCA,cACAC,EACsC,EADtCA,WAEA,GAAIF,GAAiBE,EAAY,CAC/B,IAAMC,EAAiBF,EAAc3M,QAAd,WAA0B4M,IACjD,GAAIC,GAAkBH,GAChBb,GAAyBtK,EAAGmL,GAAgB,CAC9C,IAAMI,EDRa,SAAChB,EAAY/Q,GACtC,IAAMgR,EAAMhR,EAAOiR,wBACbG,EAASL,EAAMM,QAErB,GAAIP,GAAyBC,EAAO/Q,GAAS,CAC3C,IAAMgS,EAASxJ,iBAAOwI,EAAIS,OAAST,EAAI5Q,KAAO,GAAK4Q,EAAI5Q,IACvD,GAAIgR,EAASY,EACX,MAAO,MACF,GAAIZ,EAASY,EAClB,MAAO,SAIX,OAAO,ECL2BC,CAAmBzL,EAAGsL,GAClD,GAAIC,EAAqB,CACvB,IAAIxR,EAAOsD,EAAkBiE,IAAE0D,UAAUf,GAAWoH,GACpD,GAAItR,EAAM,CAMR,IANS,IACAyD,EADD,YACwBzD,EADxB,MAGFoQ,EAAS3M,EAAKkO,MAAM,EAAGlO,EAAKmO,YAAY,cAC1CC,EAAYtK,IAAEuK,IAAIvK,IAAE0D,UAAUf,GAAWkG,GACzC2B,EAAW,GACNhO,EAAI,EAAG8N,GAAaA,EAAUxQ,UAAY0C,EAAI8N,EAAUxQ,SAAS2C,OAAQD,IAAK,CACrF,IAAIiO,EAAYH,EAAS,SAAa9N,GACtCI,EAAW6N,GACX,IAAM5H,EAAW4H,EAAUpO,YAAcoO,EAAS,WAAe,aAE7D5H,GAAYA,EAAStG,SAAS,2BAG9BsG,GAAYA,EAAStG,SAASwN,GACJ,QAAxBE,EACFO,EAAS9U,KAAKgV,GAAsBD,GACH,WAAxBR,GACTO,EAAS9U,KAAK+U,EAAWC,IAI7BF,EAAS9U,KAAK+U,IAGhB,GAAIH,GAAaE,EAAS/N,OAAS,EAAG,CAEpC6N,EAAUxQ,SAAW0Q,EACrB,IAAMG,EAAU3K,IAAEC,IAAID,IAAE0D,UAAUf,GAAWkG,EAAQyB,GAC/CM,EAAyBvN,GAC7BwM,EACAA,EAAcvM,UACd,wBAEF,GAAIsN,EAAwB,CAC1B,IAAMC,EAAUnI,GAAciI,EAASC,GAClC5K,IAAEgE,QAAQrB,EAAUkI,GAIvBjO,EAAW,qEAHXA,EAAW,aAAc+F,EAAUkI,GACnCzF,EAAY,eAAKyF,UAKd7K,IAAEgE,QAAQrB,EAAUgI,GAIvB/N,EAAW,qEAHXA,EAAW,aAAc+F,EAAUgI,GACnCvF,EAAY,eAAKuF,WAqF7BD,GAAuB,CAC3BpL,QAAS,UACTjD,WAAY,CACV1E,MAAO,SACP,YAAa,yBAEf6H,QAAS,gB,sBClKLsL,GAAgB,SAACzV,EAAmBsN,EAAeyC,GAAuC,IAArB2F,EAAoB,uDAAT,KAC9E3N,EAAkBK,GAA+BpI,GACvD,GAAI+H,EAAiB,CACnB,IAAMV,EAAQX,EAAkB4G,EAAUvF,GACpCyL,EAAS9M,EAAkB4G,EAAU,sBAC3C,GAAIjG,GAASmM,EAAQ,CAMnB,IANoB,IAAD,cACcA,EADd,GACZmC,EADY,KACAC,EADA,mBAECvO,EAFD,GAEZ+N,EAFY,KAIfD,EAAW,GACXU,GAAe,EACV1O,EAAI,EAAGwO,EAAWlR,SAAS2C,OAAS,GAAKD,EAAIwO,EAAWlR,SAAS2C,OAAQD,IAAK,CACrF,IAAM2O,EAAeH,EAAWlR,SAAS0C,GACzC,GAAI2O,GAAgBA,EAAa9O,YAAc8O,EAAa9O,WAAW,aAAaE,SAASa,GAAkB,CAC7G8N,EAAc1O,EACd,OAIJ,IAAqB,IAAjB0O,EACF,IAAK,IAAI1O,EAAI,EAAGwO,EAAWlR,SAAS2C,OAAS,GAAKD,EAAIwO,EAAWlR,SAAS2C,OAAQD,IAAK,CACrF,IAAM2O,EAAeH,EAAWlR,SAAS0C,GACzC,GAAI2O,GAA6B,OAAbJ,EAAmB,CAErC,GAAIvO,IAAM0O,EAAc,EAAG,CACzBV,EAAS9U,KAAK+U,GACdD,EAAS9U,KAAKyV,GACd3O,GAAK,EACL,SAEFgO,EAAS9U,KAAKyV,GAEhB,GAAIA,GAA6B,SAAbJ,EAAqB,CAEvC,GAAIvO,IAAM0O,EAAa,CACrB,IAAME,EAAYJ,EAAWlR,SAAS0C,EAAI,GAC1CgO,EAAS9U,KAAK0V,GACdZ,EAAS9U,KAAK+U,GACdjO,GAAK,EACL,SAEFgO,EAAS9U,KAAKyV,IAIpB,GAAIX,EAAS/N,OAAS,EAAG,CACvB,IAAI4O,EAAgBrL,IAAE0D,UAAUsH,GAChCK,EAAcvR,SAAWkG,IAAE0D,UAAU8G,GACrC,IAAMG,EAAU3K,IAAEC,IAAI0C,EAAUsI,EAAWb,MAAM,GAAIiB,GACrDzH,GAASkC,UAAU6E,GACnBvF,EAAY,eAAKuF,Q,kGCrDnBW,GAAsB,SAAC5M,EAAQ9I,GAA+B,IAAjB2V,EAAgB,uDAAP,GAM1D,OALI7M,IACFA,EAAE8M,iBACF9M,EAAE+M,mBAEJ7O,EAAW,iBAAkBhH,EAAM2V,GAC3B3V,GACN,IAAK,OACH8V,SAASC,YAAY,QACrB,MACF,IAAK,YACHD,SAASC,YAAY,aACrB,MACF,IAAK,UACHD,SAASC,YAAY,UACrB,MACF,IAAK,OACHD,SAASC,YAAY,YAAY,EAAOJ,GACxC,MACF,IAAK,QACHG,SAASC,YAAY,aAAa,EAAOJ,GACzC,MACF,IAAK,YACHG,SAASC,YAAY,aAAa,EAAOJ,GACzC,MACF,IAAK,aACHG,SAASC,YAAY,YAAY,EAAOJ,GACxC,MACF,QACE3O,GAAA,2BAAgChH,IAEpC,OAAO,G,UCxBIgW,GAAc,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,aAAcC,EAAkC,EAAlCA,UAAkC,EAClDxR,oBAAS,iBAAM,UADmC,mBACrEyR,EADqE,KAC9DC,EAD8D,KAS5E,OACE,cAACC,GAAD,CACEC,YAAa,SAACxN,GACPoN,IACHpN,EAAE8M,iBACF9M,EAAE+M,oBAGNM,MAAOA,EAPT,SASE,qBAAK1W,UAAU,UAAf,SACE,cAAC,KAAD,CAAc8W,cAAc,EAAOJ,MAAOA,EAAOK,SAAU,SAACL,GAAD,OAjBvC,SAACA,GACzB,IAAMM,EAAO,UAAMN,EAAMO,KAAZ,OAAkBC,GAAaR,EAAMS,IAAI/G,IACtDuG,EAASK,GACTR,EAAa,QAAD,OAASE,EAAMS,IAAI5H,EAAnB,YAAwBmH,EAAMS,IAAIC,EAAlC,YAAuCV,EAAMS,IAAIE,EAAjD,YAAsDX,EAAMS,IAAI/G,EAAhE,MAcmEkH,CAAkBZ,WAM/FQ,GAAe,SAACK,GAAD,OAA8B,IAAVA,EAAc,KAAOC,KAAKC,MAAM,IAAMF,GAAOG,SAAS,KAEzFd,GAAuBjX,IAAOC,IAAV,8GCxBpB+X,GAAgB,SAAC,GAA4F,IAA1FC,EAAyF,EAAzFA,UAAWC,EAA8E,EAA9EA,SAAUC,EAAoE,EAApEA,WAAoE,EAClF7S,oBAAyB,GADyD,mBACzG8S,EADyG,KAChGC,EADgG,KAGxGzU,EAAWmP,KAAXnP,OAHwG,EAKxF0B,mBAAS,IAL+E,mBAKzG4B,EALyG,KAKnGoR,EALmG,KAOxG3K,EAAaqF,KAAbrF,SAqCR,OAnCA2C,qBAAU,WACR,GAAI1M,EAAQ,CACV,IAAM4F,EAAmBnB,GAAqBzE,EAAQA,EAAO0E,WAC7D,GAAIkB,EAAkB,CACpB,IAAItC,EAAOH,EAAkB4G,EAAUnE,GAMvC,GAJI2O,IACFjR,EAAO,CAAC,KAAM,IAAMiR,IAGlBjR,EAAM,CAAC,IAAD,EACkBA,EAAjBqR,EADD,oBAKR,GAHIA,EAAc9Q,OAAS,GACzB6Q,EAAQC,EAAcnD,MAAM,IAE1B6C,EAAW,CACb,IAAMxU,EAAOuH,IAAEuK,IAAI5H,EAAU4K,EAAcnD,MAAM,IACjD,GAAI3R,GAAQA,EAAKiH,mBAAqBjH,EAAKiH,kBAAkBnD,SAAS0Q,GAEpE,YADAI,GAAW,QAGR,GAAIH,EAAU,CACnB,IAAMzU,EAAOuH,IAAEuK,IAAI5H,EAAU4K,EAAcnD,MAAM,IACjD,GAAI3R,GAAQA,EAAKyU,GAEf,YADAG,GAAW,MAOrBA,GAAW,GACXC,EAAQ,MACP,CAAC1U,IAEG,CAACwU,EAASlR,EAAMtD,IASnB4U,GAAW,SAAC,GAAiD,IAA/CtR,EAA8C,EAA9CA,KAAMkR,EAAwC,EAAxCA,QAASH,EAA+B,EAA/BA,UACzBtK,EAAaqF,KAAbrF,SAaR,MAAO,CAAE8K,SAXQ,WACf,IAAIvU,EAAQ,GACZ,GAAIgD,GAAQkR,EAAS,CACnB,IAAIhR,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC1BE,GAAWA,EAAQC,aACrBnD,EAAQkD,EAAQC,WAAW4Q,IAG/B,OAAO/T,KCzELwU,GAAY,cACZC,GAAe,CAAC,SAAU,YAAa,QAAS,cAChDC,GAAQ5U,EAAaR,KAAI,SAACsM,GAAD,OAAUA,EAAK7L,KAAKkF,UAE7C0P,GAAW,WAA2B,IAAD,EACjBb,GAAc,CAAEC,UAAWS,KADV,mBAClCN,EADkC,KACzBlR,EADyB,KAEjCuR,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAWS,KAAlDD,SAFiC,EAGfnT,mBAAS,IAHM,mBAGlCpB,EAHkC,KAG3B4U,EAH2B,KAezC,OAVAxI,qBAAU,WACR,GAAI8H,EAAS,CACX,IAAMW,EAASN,IACf,GAAIM,GAAUA,EAAO/L,QAAQ,KAAM,CACjC,IAAMgM,EAASD,EAAOrQ,MAAM,KAAK,GACjCoQ,EAASE,OAGZ,CAACP,IAEG,CAAC,GAAD,OAAKE,GAAL,YAAsBC,KAAQ1U,IhBAjC+U,GAAmB,WACvB,IAAIC,EAAaxJ,OAAOyJ,eACxB,GAAKD,EAAL,CAGA,IAAME,EAAOxJ,GACH,OAAVsJ,QAAU,IAAVA,KAAYG,kBACF,OAAVH,QAAU,IAAVA,KAAYI,SAAS1J,IACrBA,GAAIwJ,IAGAG,GAAe,WACnB,IAAM9U,EAAMC,iBAAY,MADC,EAER0O,KAAT3N,EAFiB,EAEjBA,EAAGE,EAFc,EAEdA,EACH/B,EAAWyP,KAAXzP,OACQ4V,EAA8CzG,KAAtDnP,OAJiB,EAKSoP,KAA1BrF,EALiB,EAKjBA,SAAUyC,EALO,EAKPA,YALO,EAMNyI,KAAZY,EANkB,oBAkEzB,OAzDAnJ,qBAAU,WACR,GAAI7L,EAAII,QAAS,CACf,IAAM6U,EAAUhD,SAASiD,iBAAiB,uCAC1C,GAAID,EAKF,OAJAA,EAAQE,SAAQ,SAACnW,GACfmE,EAAW,+CACXnE,EAAKoW,iBAAiB,QAASC,OAE1B,kBACLJ,EAAQE,SAAQ,SAACnW,GACfmE,EAAW,8CACXnE,EAAKsW,oBAAoB,QAASD,WAIzC,CAACrV,IAEJ6L,qBAAU,WACR,GAAI1M,GAAU4V,EAAe,CAC3B,IAAMhQ,EAAmBnB,GAAqBmR,EAAeA,EAAclR,WAC3E,UAAIkB,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBjC,SAAS,WAAY,CACzC,IAAIyS,EAAcR,EAAc1U,SAAS,GAEnCmV,EAAQ,SAACvQ,GACbwQ,GAAoBF,EAAQrM,EAAUyC,IAOlC+J,EAAU,WAAO,IAAD,EACpBvK,GAAC,UAAGF,OAAOyJ,sBAAV,aAAG,EAAuBiB,WAAW,IAexC,OAZAJ,EAAOH,iBAAiB,WAAYI,GAAO,GAC3CD,EAAOH,iBAAiB,QAASM,GAAS,GAC1CH,EAAOH,iBAAiB,QAASM,GAAS,GAE1CH,EAAO1R,UAAU+R,IAAI,iBACrBL,EAAOM,aAAa,kBAAmB,QACvCN,EAAOM,aAAa,aAAc,SAM3B,WACL1S,EAAW,iDACXoS,EAAOD,oBAAoB,WAAYE,GAAO,GAC9CD,EAAOD,oBAAoB,QAASI,GAAS,GAC7CH,EAAOD,oBAAoB,QAASI,GAAS,QAIlD,CAACX,EAAe7L,IAGjB,sBACEpN,MAAO,CACLoL,QAAS/H,EAAS,QAAU,OAC5BP,SAAU,QACVC,IAAI,GAAD,OAAKqC,EAAL,MACH8O,KAAK,GAAD,OAAKhP,EAAL,MACJlE,QAAS,UACTgZ,OAAQ,kBACRC,OAAQ,IACRC,gBAAiB,OACjBC,WAAY,iDAEdxZ,GAAG,gBACHuD,IAAKA,EACLyS,YAAa4C,GAdf,UAgBE,cAAC,KAAD,CACEnZ,KAAK,QACLga,cAAe,CAAEtZ,SAAU,QAC3BuZ,aAAc,EACdra,MAAO,CAAEC,SAAU,QACnB4W,SAAU,SAAClT,GACToS,GAAoB,KAAM,OAAQpS,IANtC,SASG2W,MAAMC,KAAKD,MAAM,GAAGE,QAAQvX,KAAI,SAACgE,GAAD,OAC/B,cAAC,KAAOwT,OAAR,CACE9D,YAAa4C,GACbmB,QAASnB,GACTvZ,MAAO,CAAEC,SAAU,QACnB0D,MAAOsD,EAAI,EAJb,SAME,sBAAM0P,YAAa4C,GAAqBmB,QAASnB,GAAjD,SACGtS,EAAI,WAKb,cAAC,KAAD,CACE7G,KAAK,QACLia,aAAc,SACdD,cAAe,CAAEtZ,SAAU,QAC3Bd,MAAO,CAAEC,SAAU,QACnB4W,SAAU,SAAClT,GACToS,GAAoB,KAAM,aAAcpS,IAE1CgT,YAAa4C,GARf,SAUGL,EAASjW,KAAI,SAACsM,GAAD,OACZ,cAAC,KAAOkL,OAAR,CACE9D,YAAa4C,GACbmB,QAASnB,GACTvZ,MAAO,CAAEC,SAAU,QACnB0D,MAAO4L,EAJT,SAME,sBAAMoH,YAAa4C,GAAqBmB,QAASnB,GAAjD,SACGhK,WAMT,cAAC,KAAD,CACEoL,iBAAiB,qCACjB7K,QAAQ,QACR8K,UAAU,SACV3Q,QACE,cAAC,GAAD,CACEqM,aAAc,SAACE,GACbT,GAAoB,KAAM,YAAaS,IAEzCD,WAAW,IAGfsE,sBAAsB,EAZxB,SAcE,cAAC,IAAD,CAAQpJ,KAAM,cAACqJ,GAAA,EAAD,IAAwB9a,MAAO,CAAEC,SAAU,QAAUG,KAAK,YAE1E,cAAC,KAAD,CACEua,iBAAiB,qCACjB7K,QAAQ,QACR8K,UAAU,SACV3Q,QACE,cAAC,GAAD,CACEqM,aAAc,SAACE,GACbT,GAAoB,KAAM,QAASS,IAErCD,WAAW,IAGfsE,sBAAsB,EAZxB,SAcE,cAAC,IAAD,CAAQpJ,KAAM,cAACsJ,GAAA,EAAD,IAAsB/a,MAAO,CAAEC,SAAU,QAAUG,KAAK,YAExE,cAAC,IAAD,CACEqR,KAAM,cAACuJ,GAAA,EAAD,IACN9a,QAAS,SAACiJ,GAAD,OAAO4M,GAAoB5M,EAAG,SACvCnJ,MAAO,CAAEC,SAAU,QACnBG,KAAK,UAEP,cAAC,IAAD,CACEqR,KAAM,cAACwJ,GAAA,EAAD,IACN/a,QAAS,SAACiJ,GAAD,OAAO4M,GAAoB5M,EAAG,YACvCnJ,MAAO,CAAEC,SAAU,QACnBG,KAAK,UAEP,cAAC,IAAD,CACEqR,KAAM,cAACyJ,GAAA,EAAD,IACNhb,QAAS,SAACiJ,GAAD,OAAO4M,GAAoB5M,EAAG,cACvCnJ,MAAO,CAAEC,SAAU,QACnBG,KAAK,UAEP,cAAC,GAAD,CAAU+a,gBAAiB,SAAChS,GAAD,OAAO4M,GAAoB5M,EAAG,eASzDiS,GAAW,SAAC,GAAuC,EAArCD,gBAAsC,IAAD,EAC3BpW,oBAAS,GADkB,mBAChD1B,EADgD,KACxC4B,EADwC,OAE/BF,mBAAS,IAFsB,mBAEhDsW,EAFgD,KAE1CC,EAF0C,KAGjDC,EAAUpX,iBAAY,MAU5B,OACE,cAAC,KAAD,CACE0T,QAASxU,EACT4G,QACE,sBAAKjK,MAAO,CAAEoL,QAAS,OAAQoQ,IAAK,OAApC,UACE,cAAC,KAAD,CACE1b,UAAU,qBACVoE,IAAKqX,EACL5X,MAAO0X,EACP1E,YAbU,SAACxN,GACnBuP,MAaQ7B,SAlBO,SAAC1N,GAChBmS,EAAQnS,EAAExG,OAAOgB,QAkBT8X,YAAY,SAEd,cAAC,IAAD,CACEpb,KAAK,UACLsW,YAAa4C,GACbrZ,QAAS,WACP+E,GAAU,GACVyT,KAEAvC,SAASC,YACP,cACA,EACA,YAAciF,EAAO,qBAAuBlF,SAASyC,eAAiB,SAV5E,uBAkBJ9I,QAAQ,QACR8K,UAAU,SA/BZ,SAiCE,cAAC,IAAD,CACE5a,MAAO,CAAEC,SAAU,QACnBC,QAAS,SAACiJ,GACRoQ,GAAoBpQ,GACpBlE,GAAW5B,GACXiY,EAAQ,KAEVlb,KAAK,QACLqR,KAAM,cAACiK,GAAA,EAAD,SAMR/B,GAAsB,SAACzW,EAAWkK,EAAeyC,GACrDxI,EAAA,iDACA,IAAMsU,EAAgBhU,GAAkBzE,GACxC,GAAKyY,EAAL,CAGA,IAAM1S,EAAmB0S,EACzB,UAAI1S,QAAJ,IAAIA,OAAJ,EAAIA,EAAkBjC,SAAS,WAAY,CACzC,IAAM4U,EAAOpV,EAAkB4G,EAAUnE,GACzC,GAAI2S,EAAM,CAAC,IACAjV,EADD,YACSiV,EADT,MAEJC,EAAWpR,IAAEuK,IAAI5H,EAAUzG,EAAKkO,MAAM,IAC1C,GAAIgH,EAAU,CACZ,IAAIC,EAAerR,IAAE0D,UAAU0N,GAC/BxU,EAAW,0BAA2BnE,GACtC,IAAM6Y,EAAO7Y,EAAK8Y,UAClBF,EAAa7R,QAAU8R,EACvB,IAAM3G,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAKkO,MAAM,GAAIiH,GAC/CjM,EAAY,eAAKuF,SAMZmE,GAAsB,SAACpQ,GAElC,GADA9B,EAAW,UAAW8B,EAAExG,UAEtBwG,EAAExG,QACmB,UAArBwG,EAAExG,OAAOoH,SACTZ,EAAExG,OAAO7C,WACTqJ,EAAExG,OAAO7C,UAAUkH,SAAS,uBAQ9B,OAHAK,EAAW,2BAA4B8B,EAAExG,QACzCwG,EAAE8M,iBACF9M,EAAE+M,mBACK,EANL7O,EAAW,uBiB5ST4U,GAAa,SAAC,GAAmD,IAAjDnc,EAAgD,EAAhDA,UAAWoc,EAAqC,EAArCA,MAAO7Y,EAA8B,EAA9BA,OAA8B,EAClCoP,KAA1BrF,EAD4D,EAC5DA,SAAUyC,EADkD,EAClDA,YADkD,EAEpC9K,oBAAS,GAF2B,mBAE7DoX,EAF6D,KAEnDC,EAFmD,OAGhCrX,oBAAS,GAHuB,mBAG7DsX,EAH6D,KAGjDC,EAHiD,KAKpEvM,qBAAU,WACR,GAAImM,EAAM5X,UAAYjB,EAAQ,CAC5B,IAAMwE,EAAkBK,GAA+BpI,GACvD,GAAI+H,EAAiB,CACnB,IAAMV,EAAQX,EAAkB4G,EAAUlF,GAA+BpI,IACnEwT,EAAS9M,EAAkB4G,EAAU,sBAC3C,GAAIjG,GAASmM,EAAQ,CAAC,IACbmC,EADY,YACEnC,EADF,kBAECnM,EAFD,MAKnB,GAAIsO,GAAcA,EAAWlR,UAA2C,IAA/BkR,EAAWlR,SAAS2C,OAG3D,OAFAkV,GAAY,QACZE,GAAc,GAET,GAAI7G,GAAcA,EAAWlR,UAAYkR,EAAWlR,SAAS2C,OAAS,EAE3E,IADA,IAAMqV,EAAW9G,EAAWlR,SAAS2C,OAAS,EACrCD,EAAI,EAAGA,EAAIwO,EAAWlR,SAAS2C,OAAQD,IAAK,CACnD,IAAM2O,EAAeH,EAAWlR,SAAS0C,GACzC,GACE2O,GACAA,EAAa9O,YACb8O,EAAa9O,WAAW,cACxB8O,EAAa9O,WAAW,aAAaE,SAASa,GAC9C,CACA,GAAIZ,IAAMsV,EAAU,CAClBD,GAAc,GACdF,GAAY,GACZ,MACK,GAAU,IAANnV,EAAS,CAClBmV,GAAY,GACZE,GAAc,GACd,cAQb,CAAClP,EAAU8O,EAAO7Y,IAYrB,OACE,qBACEsT,YAAa4C,GACbvZ,MAAO,CAAE8C,SAAU,WAAYsI,QAAS/H,IAAW6Y,EAAM5X,QAAU,QAAU,QAF/E,SAIE,sBACEtE,MAAO,CACL8C,SAAU,WACVoR,MAAO,GACPE,OAAQ,EACRhJ,QAAS,OACToR,cAAe,SACfC,OAAQ,OAPZ,UAUE,cAAC,IAAD,CACEpc,KAAK,UACLqc,UAAWP,EACXjc,QA5BO,SAACiJ,GACdoQ,GAAoBpQ,GACpBoM,GAAczV,EAAWsN,EAAUyC,IA2B7B4B,KAAM,cAACkL,GAAA,EAAD,CAA0B3c,MAAO,CAAEC,SAAU,YAErD,cAAC,IAAD,CACEI,KAAK,UACLqc,UAAWL,EACXnc,QA7BS,SAACiJ,GAChBoQ,GAAoBpQ,GLPA,SAACtB,EAAyBuF,EAAeyC,GACxD0F,GAAc1N,EAAiBuF,EAAUyC,EAAa,QKO3D+M,CAAgB9c,EAAWsN,EAAUyC,IA4B/B4B,KAAM,cAACoL,GAAA,EAAD,CAA6B7c,MAAO,CAAEC,SAAU,kBCzEnD6c,GAAc7K,gBAAK,YAAoD,IAAjD8K,EAAgD,EAAhDA,UAAWC,EAAqC,EAArCA,aAAqC,EAE/ExK,KADwBvN,GADuD,EACzEkN,iBADyE,EACvDlN,WAAWoN,EAD4C,EAC5CA,eAAgBhP,EAD4B,EAC5BA,OAAQ+O,EADoB,EACpBA,YAAazR,EADO,EACPA,GAAW+D,GADJ,EACH4N,MADG,EACI5N,OADJ,KACW6N,OAQxFhM,KALFhB,EAJ+E,EAI/EA,aACAE,EAL+E,EAK/EA,QACAE,EAN+E,EAM/EA,QACAW,EAP+E,EAO/EA,KACQJ,EARuE,EAQ/EG,KAAQH,SARuE,EAU/CuM,KAA1BrF,EAVyE,EAUzEA,SAAUyC,EAV+D,EAU/DA,YAV+D,EAWtBgD,KAA7CoK,EAXmE,EAWzE9X,KAA8B+X,EAX2C,EAWjD7X,KACb8X,EAA0BrK,KAArC7N,UACFiX,EAAQ/X,iBAAOxD,GACfyc,EAAWjZ,iBAAOxD,GAEhBoF,EAAsCO,EAAtCP,SAAUF,EAA4BS,EAA5BT,cAAeI,EAAaK,EAAbL,SAEjC8J,qBAAU,WACRrL,MACC,IAGHqL,qBAAU,WACO,OAAX1M,IACFwC,GAAc,GACdN,GAAa,GACb4X,GAAsB,MAEvB,CAAC9Z,IAEJ,IAAMga,EAAUC,mBACd,kBAAM,SAACnU,GACLkJ,EAAe6J,EAAM5X,YAEvB,CAAC4X,IAGGhc,EAAUod,mBACd,kBACEpB,EAAM5X,UAAY8N,EACd,SAACjJ,GAEKA,GAAKA,EAAExG,QAA+B,MAArBwG,EAAExG,OAAOoH,SAC5BZ,EAAE8M,iBAEJhR,EAAUiX,EAAM5X,SAChB,IACMiZ,EADcpU,EAAExG,OACSiF,QAAQ,aACvC,GAAI2V,EAAY,CACd,IAAM5J,EAAM4J,EAAW3J,wBAGjB3L,EAAaH,GAAqByV,EAAYA,EAAWxV,WAC/D,UAAIE,QAAJ,IAAIA,OAAJ,EAAIA,EAAYjB,SAAS,QAAS,CAChC,IAAM9B,EAAIyO,EAAIO,KACR9O,EAAIuO,EAAI5Q,IAAM,GAEpBoa,GAAsB,GACtBF,EAAiB/X,GACjBgY,EAAiB9X,QAEjB+X,GAAsB,GAIxB5X,GAAa,GACbM,GAAc,GC3ER,SAAC,GAA2F,IAAzF8N,EAAwF,EAAxFA,IAAwF,IAAnF6J,OAAU/X,EAAyE,EAAzEA,QAASE,EAAgE,EAAhEA,QAAgE,IAArDW,KAAQP,EAA6C,EAA7CA,SAAUE,EAAmC,EAAnCA,SAG1E,GAAI0N,EAAK,CACPlO,EAAQkO,EAAIQ,MAAQ,GACpB,IAAMQ,EAASxJ,iBAAOwI,EAAIS,OAAST,EAAI5Q,KAAO,GAAK0a,GACnD9X,EAAQgO,EAAI5Q,IAAM4R,GAClB5O,EAAS4N,EAAIQ,MAAQ,GAErBlO,EAAS0N,EAAI5Q,IAAM4R,EARJ,GAQwB,IDoE7B+I,CAAY,CAAE/J,MAAK6J,OAAQ,CAAE/X,UAASE,WAAWW,KAAM,CAAEP,WAAUE,gBAGvE,OACN,CAACiW,EAAO9J,IAEJrH,EAAYqH,IAAgB8J,EAAM5X,QAElCqZ,GADcL,mBAAQ,kBAAOlL,IAAgB8J,EAAM5X,QAAU,UAAY,YAAY,CAAC8N,EAAa8J,IACzF9J,IAAgB8J,EAAM5X,QAAU,gCAAkC,SAC5EsZ,EAAeva,IAAW6Y,EAAM5X,QAAU,+BAAiC,QAG7EyO,GAAmBiK,EAAc,SACnC3V,GAAY,uBAGV0L,GAAmBiK,EAAc,YACnC3V,GAAY,0BAGd,IAAMiD,EAAc,SAACnB,GACf9F,GACF4B,EAAU,MAEZkE,EAAEE,aAAawU,WAAa,OAC5B,IAAMhW,EAAkBF,GAAkBwB,EAAExG,QACtCiZ,EAAOpV,EAAkB4G,EAAUvF,GACzC,GAAI+T,EAAM,CAAC,IACAjV,EADD,YACSiV,EADT,MAEJ1Y,EAAOuH,IAAEuK,IAAI5H,EAAUzG,EAAKkO,MAAM,IACtC3R,EAAO,CAAE4a,KAAM,OAAQjW,gBAAiBA,EAAiBuB,OAAQqB,IAAE0D,UAAUjL,IAC7EiG,EAAEE,aAAaG,aAAaL,EAAExG,QAAS,GAAI,GAC3CwG,EAAEE,aAAaI,QAAQ,SAAUC,KAAKC,UAAUzG,SAEhDmE,GAAA,iEAAsEQ,KAIpEkW,EAAWC,uBAAY,SAAC7U,GAAD,OThHtBgK,GSgH8DhK,EThHlC,eSgHsC,IAGnE8U,EAAa,SAAC9U,GAClB,IAAIjD,EAAJ,CAIA,IAAMqO,EAAgBpL,EAAE+U,YAAYvb,OAC9B6R,EAAa7M,GAAkB4M,GAErC,KAAc,OAAVC,QAAU,IAAVA,OAAA,EAAAA,EAAYxN,SAAS,gBAArB,OAAqCwN,QAArC,IAAqCA,OAArC,EAAqCA,EAAYxN,SAAS,kBAC5DK,EAAW,gCACPmN,EAAWxN,SAAS,cAAc,CAEpC,IAAmB,IPzDmB,SAAC,GAI6C,IAH1FoG,EAGyF,EAHzFA,SACAyC,EAEyF,EAFzFA,YACA2E,EACyF,EADzFA,WAEA,GAAIA,EAAY,CACd,IAAIoH,EAAOpV,EAAkB4G,EAAUoH,GACvC,GAAIoH,EAAM,CACR,IAAMuC,EAAkBhR,GAAc1C,IAAE0D,UAAUf,IAClD/F,EAAW,mBAAoB+F,EAAU+Q,GAIzC,IANQ,IAGCxX,EAHD,YAGwBiV,EAHxB,MAIJwC,EAAY3T,IAAEuK,IAAIvK,IAAE0D,UAAUgQ,GAAkBxX,EAAKkO,MAAM,IAC3DI,EAAW,GACNhO,EAAI,EAAGmX,GAAaA,EAAU7Z,UAAY0C,EAAImX,EAAU7Z,SAAS2C,OAAQD,IAAK,CACrF,IAAMiO,EAAYkJ,EAAS,SAAanX,GAClCqG,EAAW4H,EAAUpO,YAAcoO,EAAS,WAAe,aAE7D5H,GAAYA,EAAStG,SAAS,0BAI9BsG,GAAYA,EAAStG,SAAS,mBAGlCiO,EAAS9U,KAAK+U,GAIhB,GAAID,EAAS/N,OAAS,EAGpB,OAAO,EAIT+N,EAAS9U,KAAKgV,IAEd,IAAIkJ,EAAc1X,EAAKkO,MAAM,EAAGlO,EAAKmO,YAAY,cACjD,GAAIsJ,EAAW,CAGbA,EAAU7Z,SAAW0Q,EAGrB,IAFA,IAAIqJ,EAAgB7T,IAAEuK,IAAIvK,IAAE0D,UAAUgQ,GAAkBE,GACpDE,EAAyB,GACpBtX,EAAI,EAAGqX,GAAiBA,EAAc/Z,UAAY0C,EAAIqX,EAAc/Z,SAAS2C,OAAQD,IAAK,CACjG,IAAMuX,EAAcF,EAAa,SAAarX,GACxCqG,EAAWkR,EAAY1X,YAAc0X,EAAW,WAAe,aAC7CtW,GAA+BoF,KAG/BkH,EAIxB+J,EAAuBpe,KAAKqe,GAH1BD,EAAuBpe,KAAKie,GAKhCE,EAAc/Z,SAAWga,EACzB,IAAMnJ,EAAU3K,IAAEC,IAAIyT,EAAiBE,EAAaC,GAOpD,OANK7T,IAAEgE,QAAQrB,EAAUgI,GAIvB/N,EAAW,qEAHXA,EAAW,aAAc8W,EAAiB/I,GAC1CvF,EAAY,eAAKuF,MAIZ,KORYqJ,CAAsC,CAAErR,WAAUoH,aAAY3E,gBAG/E,YADAxI,EAAW,+DAGbA,EAAW,0FAIf,IAAIiN,EAAgByJ,EAASxJ,GAE7B,GAAID,EAAe,CAAC,IAAD,EACCA,EAAjBA,EADgB,oBAGnBjN,EAAW,sCACXgN,GAA4B,CAC1BjH,WACAoH,aACAF,gBACAC,gBACA1E,cACA6D,MAAOvK,MAILuV,EAAUpB,mBACd,kBACEqB,wBACE3B,EAAa4B,SADF,YAAC,eAGP5B,EAAa/Y,OAHP,IAIT4a,aAAcxB,EACdyB,aAAczB,EACdY,WAAYxT,IAAEsU,SAASd,EAAY,KACnC3T,cACAS,YACA7G,IAAKgY,EACLvb,GAAIyc,EAAS9Y,QACbpE,UACAiD,IAAK4Z,EACL/c,MAAM,2BACDgd,EAAa/Y,MAAMjE,OADnB,IAEHgf,OAAQ,UACRrB,QAASta,IAAW6Y,EAAM5X,QAAUsZ,EAAeD,MAGvDX,EAAazY,YAEjB,CAAC2X,EAAOnR,EAAWsS,EAASnd,EAAS8c,EAAcW,EAASC,EAAcva,EAAQ+Z,EAAUhL,IAI9F,OAAI4K,GAAgBA,EAAa/Y,MAAMnE,UAAUkH,SAAS,cAEtD,qCACG0X,EACD,cAAC,GAAD,CAAY5e,UAAWkd,EAAa/Y,MAAMnE,UAAWoc,MAAOA,EAAO7Y,OAAQA,IAC3E,qBAAKrD,MAAO,CAAE8C,SAAU,YAAxB,SACE,qBAAK9C,MAAO,CAAE8C,SAAU,WAAYqR,OAAQ,EAAGC,QAAS,IAAxD,SACG/Q,IAAW6Y,EAAM5X,SAAW8N,IAAgB8J,EAAM5X,QACjD,uBAAOtE,MAAO,CAAEgB,QAAS,UAAWie,WAAY,UAAWzI,MAAO,SAAlE,iBACE,YAOPkI,KEiSMQ,GA3eoB,CAEjCC,OAAQ,SACRC,cAAe,gBACf,iBAAkB,gBAClBC,UAAW,YACX7Q,OAAQ,SACR8Q,gBAAiB,kBACjB9e,IAAK,MACL4B,MAAO,QACPmd,GAAI,KACJC,MAAO,QACPC,eAAgB,iBAChBC,aAAc,eACdC,YAAa,cACbC,UAAW,YACXC,SAAU,WACVC,SAAU,WACVC,QAAS,UACTC,YAAa,cACbC,YAAa,cACbC,UAAW,YACXC,QAAS,UACTC,QAAS,UACT7b,SAAU,WACV8b,KAAM,OACNC,MAAO,YACPC,QAAS,UACTC,UAAW,YACXC,KAAM,OACNC,QAAS,UACTzW,QAAS,UACT0W,gBAAiB,kBACjBC,YAAa,cACbC,SAAU,WACVC,aAAc,eACdC,OAAQ,SACRC,YAAa,cACbC,wBAAyB,0BACzBlf,KAAM,OACNmf,SAAU,WACVC,QAAS,UACTC,eAAgB,iBAChBC,aAAc,eACdC,MAAO,QACPC,IAAK,MACL7E,SAAU,WACV8E,wBAAyB,0BACzBC,sBAAuB,wBACvBC,SAAU,WACV3W,UAAW,YACX4W,QAAS,UACTC,aAAc,eACdC,IAAK,UACLC,KAAM,OACNC,WAAY,aACZC,WAAY,aACZC,YAAa,cACbC,eAAgB,iBAChBC,WAAY,aACZC,YAAa,cACbC,QAAS,UACTxhB,OAAQ,SACRyhB,OAAQ,SACRC,KAAM,OACN3f,KAAM,OACN4f,SAAU,WACVC,QAAS,UACTC,UAAW,YACX,aAAc,YACdjR,KAAM,OACN9Q,GAAI,KACJgiB,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,GAAI,KACJC,OAAQ,SACRC,SAAU,WACVC,QAAS,UACTC,UAAW,YACXC,SAAU,WACVC,UAAW,YACXC,QAAS,UACTC,KAAM,OACNC,MAAO,QACPC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,IAAK,MACLC,SAAU,WACVC,YAAa,cACbC,aAAc,eACdC,IAAK,MACLC,UAAW,YACXC,MAAO,QACPC,WAAY,aACZC,OAAQ,SACRC,IAAK,MACLC,UAAW,YACXC,SAAU,WACVC,MAAO,QACP7gB,KAAM,OACN8gB,SAAU,WACVC,MAAO,QACPC,WAAY,aACZC,KAAM,OACNC,QAAS,UACTC,QAAS,UACTpJ,YAAa,cACbqJ,YAAa,cACbC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,WAAY,aACZC,SAAU,WACVC,eAAgB,iBAChBC,IAAK,MACLC,SAAU,WACVC,SAAU,WACVC,KAAM,OACNC,KAAM,OACNC,QAAS,UACTC,QAAS,UACTC,MAAO,QACPC,OAAQ,SACRC,UAAW,YACXC,SAAU,WACVC,SAAU,WACVC,MAAO,QACP7lB,KAAM,OACN8lB,MAAO,QACP5jB,KAAM,OACN6jB,WAAY,aACZ7lB,IAAK,MACL8lB,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACRC,MAAO,QACPC,KAAM,OACNxmB,MAAO,QACPymB,QAAS,UACTC,SAAU,WACV/jB,OAAQ,SACR6O,MAAO,QACPnR,KAAM,OACNsmB,OAAQ,SACRhjB,MAAO,QACPqG,MAAO,QACP4c,MAAO,QACPC,KAAM,OAGNC,MAAO,QACPC,aAAc,eACd,gBAAiB,eACjBC,WAAY,aACZC,SAAU,WACVC,kBAAmB,oBACnB,qBAAsB,oBACtBC,aAAc,eACdC,WAAY,aACZC,UAAW,YACXC,WAAY,aACZ,cAAe,aACfC,OAAQ,SACRC,cAAe,gBACfC,cAAe,gBACfC,YAAa,cACbC,QAAS,UACTC,cAAe,gBACfC,cAAe,gBACf,iBAAkB,gBAClBC,YAAa,cACbC,KAAM,OACNC,MAAO,QACPC,KAAM,OACNC,GAAI,KACJC,SAAU,WACVC,UAAW,YACX,aAAc,YACdC,KAAM,OACNC,SAAU,WACV,YAAa,WACbC,cAAe,gBACfC,SAAU,WACV,YAAa,WACbhS,MAAO,QACPiS,mBAAoB,qBACpB,sBAAuB,qBACvBC,0BAA2B,4BAC3B,8BAA+B,4BAC/BC,aAAc,eACd,gBAAiB,eACjBC,eAAgB,iBAChB,kBAAmB,iBACnBC,kBAAmB,oBACnBC,iBAAkB,mBAClB9J,OAAQ,SACR+J,GAAI,KACJC,GAAI,KACJC,EAAG,IACHC,SAAU,WACVC,WAAY,aACZC,QAAS,UACTC,gBAAiB,kBACjBC,UAAW,YACXle,QAAS,UACTme,QAAS,UACTC,iBAAkB,mBAClB,oBAAqB,mBACrBC,IAAK,MACLC,GAAI,KACJC,GAAI,KACJC,SAAU,WACVC,UAAW,YACXC,iBAAkB,mBAClB,oBAAqB,mBACrBC,IAAK,MACLC,SAAU,WACVC,0BAA2B,4BAC3BC,KAAM,OACNC,YAAa,cACb,eAAgB,cAChBC,SAAU,WACV,YAAa,WACbC,OAAQ,SACRC,UAAW,YACXC,YAAa,cACbC,aAAc,eACd,gBAAiB,eACjBC,WAAY,aACZ,cAAe,aACfC,UAAW,YACXC,WAAY,aACZ,cAAe,aACfC,SAAU,WACV,YAAa,WACbC,eAAgB,iBAChB,mBAAoB,iBACpBC,YAAa,cACb,eAAgB,cAChBC,UAAW,YACX,aAAc,YACdC,YAAa,cACb,eAAgB,cAChBC,WAAY,aACZ,cAAe,aACfC,OAAQ,SACR3Q,KAAM,OACN4Q,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,UAAW,YACX,aAAc,YACdC,2BAA4B,6BAC5B,+BAAgC,6BAChCC,yBAA0B,2BAC1B,6BAA8B,2BAC9BC,SAAU,WACVC,kBAAmB,oBACnBC,cAAe,gBACfC,QAAS,UACTC,UAAW,YACX,cAAe,YACfC,aAAc,eACd,iBAAkB,eAClBC,YAAa,cACbC,eAAgB,iBAChB,kBAAmB,iBACnBC,IAAK,MACLC,GAAI,KACJC,OAAQ,SACRC,UAAW,YACXC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,EAAG,IACHC,aAAc,eACdC,iBAAkB,mBAClBC,QAAS,UACTC,UAAW,YACXC,WAAY,aACZC,SAAU,WACVC,aAAc,eACdC,cAAe,gBACf,iBAAkB,gBAClBC,cAAe,gBACf,iBAAkB,gBAClBC,kBAAmB,oBACnBC,MAAO,QACPC,UAAW,YACX,aAAc,YACdC,aAAc,eACdC,UAAW,YACX,aAAc,YACdC,YAAa,cACb,eAAgB,cAChBC,YAAa,cACbC,YAAa,cACbC,KAAM,OACNC,iBAAkB,mBAClBC,UAAW,YACXC,aAAc,eACdjQ,KAAM,OACNkQ,WAAY,aACZC,OAAQ,SACRC,QAAS,UACTC,SAAU,WACVC,MAAO,QACPC,OAAQ,SACRC,YAAa,cACbC,OAAQ,SACRC,SAAU,WACVC,iBAAkB,mBAClB,oBAAqB,mBACrBC,kBAAmB,oBACnB,qBAAsB,oBACtBC,WAAY,aACZ,cAAe,aACfC,QAAS,UACT,WAAY,UACZC,WAAY,aACZC,oBAAqB,sBACrBC,iBAAkB,mBAClBC,aAAc,eACdC,cAAe,gBACf,iBAAkB,gBAClBC,OAAQ,SACRC,UAAW,YACXC,UAAW,YACXC,UAAW,YACXC,OAAQ,SACRC,cAAe,gBACfC,oBAAqB,sBACrBC,eAAgB,iBAChB9X,SAAU,WACVtI,EAAG,IACHqgB,OAAQ,SACRC,KAAM,OACNC,KAAM,OACNC,gBAAiB,kBACjB,mBAAoB,kBACpBC,YAAa,cACbC,UAAW,YACXC,mBAAoB,qBACpBC,iBAAkB,mBAClBC,SAAU,WACVC,QAAS,UACT1iB,OAAQ,SACR2iB,QAAS,UACTC,OAAQ,SACRC,GAAI,KACJC,GAAI,KACJC,MAAO,QACPC,SAAU,WACVC,KAAM,OACNC,eAAgB,iBAChB,kBAAmB,iBACnBC,MAAO,QACPC,QAAS,UACTC,iBAAkB,mBAClBC,iBAAkB,mBAClBC,MAAO,QACPC,aAAc,eACdC,YAAa,cACbC,aAAc,eACdC,MAAO,QACPC,MAAO,QACPC,YAAa,cACbC,UAAW,YACX,aAAc,YACdC,YAAa,cACb,eAAgB,cAChBC,sBAAuB,wBACvB,yBAA0B,wBAC1BC,uBAAwB,yBACxB,0BAA2B,yBAC3B7kB,OAAQ,SACR8kB,OAAQ,SACRC,gBAAiB,kBACjB,mBAAoB,kBACpBC,iBAAkB,mBAClB,oBAAqB,mBACrBC,cAAe,gBACf,iBAAkB,gBAClBC,eAAgB,iBAChB,kBAAmB,iBACnBC,iBAAkB,mBAClB,oBAAqB,mBACrBC,YAAa,cACb,eAAgB,cAChBC,cAAe,gBACf,iBAAkB,gBAClBC,+BAAgC,iCAChCC,yBAA0B,2BAC1BC,aAAc,eACdC,eAAgB,iBAChBC,YAAa,cACbC,QAAS,UACTC,QAAS,UACTC,WAAY,aACZ,cAAe,aACfC,eAAgB,iBAChB,kBAAmB,iBACnBC,WAAY,aACZC,cAAe,gBACf,iBAAkB,gBAClBC,GAAI,KACJC,UAAW,YACXC,OAAQ,SACRC,GAAI,KACJC,GAAI,KACJC,kBAAmB,oBACnB,qBAAsB,oBACtBC,mBAAoB,qBACpB,sBAAuB,qBACvBC,QAAS,UACTC,YAAa,cACb,eAAgB,cAChBC,aAAc,eACd,gBAAiB,eACjBC,WAAY,aACZ,eAAgB,aAChBC,aAAc,eACdC,YAAa,cACb,eAAgB,cAChBC,OAAQ,SACRC,aAAc,eACd,gBAAiB,eACjBC,QAAS,UACTC,SAAU,WACV,aAAc,WACdC,YAAa,cACb,gBAAiB,cACjBC,YAAa,cACb,iBAAkB,gBAClB,gBAAiB,cACjBC,SAAU,WACV,YAAa,WACbC,aAAc,eACd,gBAAiB,eACjBC,QAAS,UACTC,WAAY,aACZC,WAAY,aACZC,cAAe,gBACf,iBAAkB,gBAClBC,MAAO,QACPC,OAAQ,SACRC,YAAa,cACb,eAAgB,cAChBC,YAAa,cACb,eAAgB,cAChBC,GAAI,KACJC,GAAI,KACJ1vB,EAAG,IACH2vB,iBAAkB,mBAClBC,QAAS,UACT,WAAY,UACZC,aAAc,eACd,gBAAiB,eACjBC,aAAc,eACd,gBAAiB,eACjBC,UAAW,YACX,aAAc,YACdC,UAAW,YACX,aAAc,YACdC,UAAW,YACX,aAAc,YACdC,WAAY,aACZ,cAAe,aACfC,UAAW,YACX,aAAc,YACdC,QAAS,UACT,WAAY,UACZC,QAAS,UACT,WAAY,UACZC,MAAO,QACP,YAAa,WACbC,WAAY,aACZ,cAAe,aACfC,SAAU,WACVC,GAAI,KACJC,GAAI,KACJxwB,EAAG,IACHywB,iBAAkB,mBAClBC,EAAG,IACHC,WAAY,cC1eRC,GAAkB,SAAC,GAA6D,IAA3DpX,EAA0D,EAA1DA,SAAU3a,EAAgD,EAAhDA,MAAOM,EAAyC,EAAzCA,SAAU5D,EAA+B,EAA/BA,GACpD,OAAOge,wBACLC,EADkB,YAAC,eAEd3a,GAFa,IAENd,IAAKxC,EAAIX,MAAM,2BAAMiE,EAAMjE,OAAb,IAAoB2d,QAAS,kCACvDpZ,ICLE0xB,GAAiB,IAAIC,UAiBrBC,GAAY,SAAZA,EAAatvB,GAAmC,IAAb1D,EAAY,uDAAN,EAC7C,QAAgByD,IAAZC,EAAJ,CAIA,IAAI+X,EAAW/X,EAAQ+X,SAASwX,cAGhC,GACe,WAAbxX,GACa,UAAbA,GACa,SAAbA,GACa,SAAbA,GACa,UAAbA,GACa,OAAbA,EACA,CACA,GAAiB,SAAbA,EAAqB,CACvB,IAAIyX,EAAKxvB,EACT,OAAOyvB,IAAM3X,cACXC,EACA,CAAE2X,UAAWF,EAAGE,UAAWtsB,QAASosB,EAAGpsB,QAAS9G,IAAKyb,EAAWzb,KAChE,MAGJ,GAAiB,SAAbyb,EAAqB,CACvB,IAAIyX,EAAKxvB,EACLxG,EAAO,KAIX,OAHIg2B,EAAGh2B,OACLA,EAAOg2B,EAAGh2B,MAELi2B,IAAM3X,cACXC,EACA,CACEhc,KAAMyzB,EAAGzzB,KACTyiB,IAAKgR,EAAGhR,IACRhlB,OACA8C,IAAKyb,EAAWzb,KAElB,MAGJ,MAAiB,OAAbyb,EACK0X,IAAM3X,cAAcC,EAAU,CAAEzb,IAAKyb,EAAWzb,KAAS,MAG3DmzB,IAAM3X,cAAcC,EAAU,CACnC4X,wBAAyB,CAAEC,OAAQ5vB,EAAQmV,UAAW7Y,IAAKyb,EAAWzb,OAM1E,IAFA,IAAI2D,EAA0E,GAErEG,EAAI,EAAGJ,EAAQC,YAAcG,EAAIJ,EAAQC,WAAWI,OAAQD,IAAK,CACxE,IAAIyQ,EAAY7Q,EAAQC,WAAWG,GAC/ByvB,EAAYxX,GAAsBxH,EAAUhU,MAEhD,QAAkBkD,IAAd8vB,EAAyB,CAC3BA,EAAYC,GAAYjf,EAAUhU,MACzB,sBAAkBgU,EAAUhU,KAA5B,8DACDgzB,EADC,aAKX,IAAI/yB,EAA2B,UAAnB+T,EAAUhU,KAAmBkzB,GAA2Blf,EAAU/T,OAAS+T,EAAU/T,MAAMiF,OAEvG9B,EAAW4vB,GAAa/yB,EAG1BmD,EAAU,IAAU3D,IAEpB,IAAIoB,EAAwB,GAE5B,GAAIsC,EAAQ/G,WAAa+G,EAAQ/G,UAAUkH,SAAS,WAAY,CAI9D,IAAM6vB,EAAW,CAAEjY,WAAU3a,MAAM,2BAAM6C,GAAP,IAAmB0vB,wBAAyB,CAAEC,OAAQ5vB,EAAQmV,cAEhG,OAAO,cAACc,GAAD,CAAaC,UAAW5Z,IAAO6Z,aAAc6Z,IAGtD,IAAK,IAAI5vB,EAAI,EAAGA,EAAIJ,EAAQiwB,WAAW5vB,OAAQD,IAAK,CAClD,IAAIE,EAAQN,EAAQiwB,WAAW7vB,GAE/B,GAA0B,UAAtBE,EAAK,SAYiB,aAAtBA,EAAK,UAIQ,WAAbyX,GAAsC,UAAbA,GAC3Bra,EAASpE,KAAKg2B,EAAUhvB,EAAsBhE,WAhB9C,GAAIgE,EAAM4vB,YAAa,CAGrB,IAAM9sB,EAAU9C,EAAM4vB,YAAYC,WAAW,KAAM,IAAIpuB,OACnDqB,GACF1F,EAASpE,KAAK8J,IActB,GAAIpD,EAAQkB,WAAalB,EAAQkB,UAAUkvB,SAAS,YAAa,CAG/D,IAAMJ,EAAW,CAAEjY,WAAU3a,MAAM,eAAM6C,GAAcvC,YAEvD,OAAO,cAACuY,GAAD,CAAaC,UAAW5Z,IAAO6Z,aAAc6Z,IAMtD,OAAIhwB,EAAQkB,WAAalB,EAAQkB,UAAUkvB,SAAS,yBAC3C,cAAC,GAAD,CAAiBt2B,GAAIwC,IAAOyb,SAAUA,EAAU3a,MAAK,eAAO6C,GAAcvC,SAAUA,KAK5E,cAAbqa,IACFA,EAAW,OAII,MAAbA,WACK9X,EAAU,YACVA,EAAU,QAIF,QAAb8X,EACK0X,IAAM3X,cAAcC,EAApB,aAAgCzb,IAAKA,KAAU2D,GAAc,MACtC,IAArBD,EAAQqwB,SACVZ,IAAM3X,cAAcC,EAApB,2BAAmC9X,GAAnC,IAA+C3D,IAAKA,MAAS0D,EAAQkwB,aAGvET,IAAM3X,cAAcC,EAAU9X,EAAYvC,MAG7CqyB,GAA6B,SAAC52B,GAQlC,IAPA,IAAIm3B,EAAyC,GAKzCC,EAAap3B,EAAMmI,MAAM,kBAEpBlB,EAAI,EAAGA,EAAImwB,EAAWlwB,OAAQD,IACrC,GAAsB,KAAlBmwB,EAAWnwB,GAAf,CAD0C,MAOnBmwB,EAAWnwB,GAAGkB,MAAM,KAPD,kBAStCkvB,EAAY,CAT0B,gBASbxpB,KAAK,MAC9B8J,EAAW0f,EAAU,GAAGzuB,OAC5B+O,EAAWgf,GAAYhf,GACvB,IAAIhU,EAAQ0zB,EAAU,GAAGzuB,OACzBuuB,EAAYxf,GAAYhU,EAG1B,OAAOwzB,GAGHR,GAAc,SAACW,GACnB,OAAOA,EAAIxuB,QAAQ,iBAAiB,SAACyuB,GACnC,OAAOA,EAAGC,cAAc1uB,QAAQ,IAAK,IAAIA,QAAQ,IAAK,Q,WCjMpD2uB,GAAU,SAACC,GACf9mB,IAAQ6mB,QAAQC,ICFZC,GAA0B,SAACz0B,GAS/B,OARIA,GAAQA,EAAKqB,WACfrB,EAAKqB,SAAWrB,EAAKqB,SAAS8lB,QAAO,SAACjhB,GACpC,QAAIA,GAAUA,EAAM,YAAkBA,EAAM,WAAe,gBACjDA,EAAM,WAAe,aAAapC,SAAS,sBAKlD9D,GCcH00B,GAAM,SAAC,GAAqE,IAAnEj1B,EAAkE,EAAlEA,OAAQk1B,EAA0D,EAA1DA,cAAehoB,EAA2C,EAA3CA,YAAazC,EAA8B,EAA9BA,SAAU5E,EAAoB,EAApBA,IACvDX,EAAkBF,GAAkBhF,GAExC,IAAKkF,EAAiB,CACpB,IAAMsW,EAAkBhR,GAAcC,GAEtC,OADAyC,EAAY,eAAKsO,IACV,KAGT,GAA8B,eAA1B0Z,EAAc9tB,UACQ,uBAApBlC,GAAgE,0BAApBA,GAA6C,CAC3F,IAAMsW,EAAkBhR,GAAcC,GAGtC,OAFAyC,EAAY,eAAKsO,IF9BT,SAACuZ,GACb9mB,IAAQnJ,MAAMiwB,GE8BVjwB,CAAM,4CACC,KAIX,GAAIowB,EAAc9tB,SAAqC,eAA1B8tB,EAAc9tB,SACjB,uBAApBlC,EAA0C,CAC5C,IAAM6vB,EAAM,yDAGZ,OAFA9mB,IAAQlJ,KAAKgwB,QACbrwB,EAAA,yBAA6BqwB,IAKjC,IAAII,EAAuBrtB,IAAE0D,UAAU0pB,GACvCC,EAAuB1vB,GAA4B0vB,EAAsBtvB,GAEzE,IAAMuvB,EAAmBvxB,EAAkBiE,IAAE0D,UAAUf,GAAWvF,GAElE,IAAKkwB,EACH,OAAO,KAjCsE,kBAoC5DA,EApC4D,GAoC1E70B,EApC0E,KAoCpEyD,EApCoE,KAqC/EU,GAAY,iCAAkCnE,EAAM,kBAAmByD,GAIvEzD,EDpD2C,SAACA,EAAW80B,GACvD,GAAqB,YAAjB90B,EAAK6G,SAAyB7G,EAAKqB,SAAS2C,OAG9C,IAAK,IAAID,EAAI,EAAGA,EAAI/D,EAAKqB,SAAS2C,OAAQD,IAAK,CAC7C,IAAME,EAAQjE,EAAKqB,SAAS0C,GACtBqG,EAAWnG,EAAML,WAAW,aAC9BwG,GAAYA,EAAStG,SAAS,yBAChC9D,EAAKqB,SAAS0C,GAAK+wB,EAGrB90B,EAAKqB,SAAS0C,GAAKE,OAIrBjE,EAAKqB,SAASpE,KAAK63B,GAGrB,OAAO90B,ECkCA+0B,CAFP/0B,EAAOy0B,GAAwBz0B,GAEmB40B,GAE9CzpB,GAAS6pB,eACX7pB,GAASkC,UAAUpD,GAAc1C,IAAE0D,UAAUf,KAG/C,IAAIgI,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAKkO,MAAM,GAAI3R,GAC7CkS,EAAUjI,GAAciI,GACxB/G,GAASkC,UAAU6E,GACnBvF,EAAY,eAAKuF,KAoEb+iB,GAAS,SAAC,GASI,IACdtwB,EATJlF,EAQiB,EARjBA,OACiBy1B,EAOA,EAPjBvwB,gBACAuF,EAMiB,EANjBA,SACAyC,EAKiB,EALjBA,YACAtK,EAIiB,EAJjBA,aACAM,EAGiB,EAHjBA,cACAZ,EAEiB,EAFjBA,UACAozB,EACiB,EADjBA,SAGA,GAAI11B,EACFkF,EAAkBF,GAAkBhF,OAC/B,KAAIy1B,EAMT,YAHA/wB,GAAA,4GAFAQ,EAAkBuwB,EAOpB,IAAKvwB,EACH,OAAO,KAGT,IAAMkwB,EAAmBvxB,EAAkB4G,EAAUvF,GACrD,IAAKkwB,EACH,OAAO,KAlBQ,IAsBbzkB,EAtBa,YAqBaykB,EArBb,MAsBM5vB,MAAM,KACvBmwB,EAAehlB,EAAOzE,MAC5ByE,EAASA,EAAOzF,KAAK,KACrB,IAAI3K,EAAOuH,IAAEuK,IAAI5H,EAAUkG,EAAOuB,MAAM,IAClC0jB,EAAaD,EAAKzvB,MAAM,aAE9B,GAAI0vB,EAAY,CAGd,IAFA,IAAMC,EAAgBhuB,SAAS+tB,EAAW,IACtC/qB,EAAc,GACTvG,EAAI,EAAG/D,GAAQA,EAAKqB,UAAY0C,EAAI/D,EAAKqB,SAAS2C,OAAQD,IAC7DA,IAAMuxB,GACRhrB,EAAYrN,KAAK+C,EAAKqB,SAAS0C,IAKnC,GAAIqM,EAAQ,CACV,IAAMmC,EAAahL,IAAEuK,IAAI5H,EAAUkG,EAAOuB,MAAM,IAE5CY,EAAW1L,SAAkC,cAAvB0L,EAAW1L,SAAkD,IAAvByD,EAAYtG,SAC1EsG,EAAc1D,IAIlB5G,EAAKqB,SAAWiJ,EAGlBvI,EAAU,MACV,IAAMmQ,EAAU3K,IAAEC,IAAI0C,EAAUkG,EAAOuB,MAAM,GAAI3R,GAC7CkS,GACF7P,GAAa,GACbM,GAAc,GACdgK,EAAY,eAAKuF,IAKZijB,GACHhqB,GAASkC,UAAU6E,IAGrB/N,GAAY,gDA+BVoxB,GAAO,SAAC,GAAwG,IAAtGrrB,EAAqG,EAArGA,SAAUnI,EAA2F,EAA3FA,UAAW4K,EAAgF,EAAhFA,YAAahK,EAAmE,EAAnEA,cAAeN,EAAoD,EAApDA,aAAc5C,EAAsC,EAAtCA,OAAQ0F,EAA8B,EAA9BA,aAC/EY,EAAmBnB,GAAqBnF,EAAQA,EAAOoF,WACzD2wB,EAAyB,GACzB9tB,GAAS,EAEb,GAAI3B,EAAkB,CACpB,IAAMwB,E/BxJwB,SAAC2I,EAAmBhG,EAAenE,GACnE,IAAI2B,GAAS,EACT0I,EAASF,EAAKxL,QAAQ,aAO1B,IALI0L,IAAWF,IACbE,EAASF,EAAKG,gBAIE,IAAX3I,GAAgB0I,GAAQ,CAC7B,IAAMolB,EAAyB5wB,GAAqBwL,EAAQA,EAAOvL,WACnE,GAAI2wB,EAAwB,CAC1B,IAAI7xB,EAAUL,EAAkB4G,EAAUsrB,GAC1C,GAAI7xB,EAAS,CAAC,IAAD,EACCA,EAEZ,GAFCA,EADU,qBAGI,KADf+D,EAAQ5B,GAAgCnC,EAAQtC,SAAU0E,IAExD,OAKN,IAAM0vB,EAAcrlB,EAAO1L,QAAQ,aAC/B+wB,GAAeA,IAAgBrlB,EAC7BA,EAAOC,gBACTD,EAASA,EAAOC,cAAc3L,QAAQ,cAGxC0L,EAASqlB,EAKb,MAAO,CAAC/tB,EADiB0I,GAAUA,EAAOvL,UAAYD,GAAqBwL,EAAQA,EAAOvL,WAAa,M+BwH3F6wB,CAA0Bj2B,EAAQyK,EAAUnE,GACtD,IAAIwB,GAAqB,kBAATA,EAAE,IAAmC,kBAATA,EAAE,GAI5C,YADAmG,IAAQnJ,MAAM,0BAHgD,IAAD,cAC3BgD,EAD2B,GAC5DG,EAD4D,KACrD8tB,EADqD,KAQjE,IAAIG,EAAeryB,EAAkB4G,EAAUnE,GAC/C,GAAI4vB,GAAgBjuB,GAAS,EAAG,CAAC,IAAD,EACbiuB,EAKjB,OALCA,EAD6B,oBAE9BhzB,GAAc,GACdN,GAAa,GACbN,EAAU,MAnLK,SAAC,GAOI,IANtB4yB,EAMqB,EANrBA,cACAhoB,EAKqB,EALrBA,YACAzC,EAIqB,EAJrBA,SACA5E,EAGqB,EAHrBA,IACAswB,EAEqB,EAFrBA,4BACAluB,EACqB,EADrBA,MAEI/C,EAAkBixB,EAEtB,IAAKjxB,EAAiB,CACpB,IAAMsW,EAAkBhR,GAAcC,GAEtC,OADAyC,EAAY,eAAKsO,IACV,KAGT,IAAI2Z,EAAuBrtB,IAAE0D,UAAU0pB,GACvCC,EAAuB1vB,GAA4B0vB,EAAsBtvB,GAEzE,IAAMuvB,EAAmBvxB,EAAkB4G,EAAUvF,GAErD,IAAKkwB,EACH,OAAO,KAfY,kBAkBFA,EAlBE,GAkBhB70B,EAlBgB,KAkBVyD,EAlBU,KAwBrB,GALAU,GAAY,iCAAkCnE,EAAM,kBAAmByD,GAEvEzD,EAAOy0B,GAAwBz0B,GAG3B0H,GAAS,EACX,IAAK,IAAI3D,EAAI,EAAG/D,GAAQA,EAAKqB,UAAY0C,EAAI/D,EAAKqB,SAAS2C,OAAQD,IAC7DA,IAAM2D,GACR1H,EAAKqB,SAASw0B,OAAO9xB,EAAG,EAAG6wB,GAIjC,IAAI1iB,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAKkO,MAAM,GAAI3R,GAC7CkS,EAAUjI,GAAciI,GAExB/G,GAASkC,UAAU6E,GACnBvF,EAAY,eAAKuF,IA2IR4jB,CAAW,CAChBnB,cAAeptB,IAAE0D,UAAU0qB,GAC3BhpB,cACAzC,WACA5E,IAAKH,EACLuC,QACAkuB,4BAA6BJ,MCjR7BO,GAAe,SAAfA,EAAgB7lB,GACpB,GAAsB,IAAlBA,EAAK8jB,SACP,OAAO9jB,EAGT,IAAK,IAAInM,EAAI,EAAGmM,EAAK0jB,YAAc7vB,EAAImM,EAAK0jB,WAAW5vB,OAAQD,IAAK,CAClE,IAAMiyB,EAAWD,EAAa7lB,EAAK0jB,WAAW7vB,IAC9C,GAAIiyB,EACF,OAAOC,GAAqBD,KAK5BC,GAAuB,SAAvBA,EAAwB/lB,GAC5B,IAAKA,EACH,OAAO,KAET,GAAsB,IAAlBA,EAAK8jB,SACP,OAAOiC,EAAqB/lB,EAAKgmB,YAGnC,IAAMvyB,EAAUuM,EAEhB,OAAyB,IAArBvM,EAAQqwB,SACSrwB,EAAQe,QAAQ,OAI9Bf,G,qBC1BIwyB,GAAet1B,wBAAmB,MAElCu1B,GAAkB,SAACr1B,GAAW,IAAD,EACFc,oBAAS,GADP,mBACjCw0B,EADiC,KACpBC,EADoB,OAEFz0B,mBAAc,MAFZ,mBAEjC00B,EAFiC,KAEpBC,EAFoB,OAGZ30B,mBAAS,GAHG,mBAGjC40B,EAHiC,KAGzBC,EAHyB,OAIZ70B,mBAAS,GAJG,mBAIjC80B,EAJiC,KAIzBC,EAJyB,KAMxC,OACE,cAACT,GAAaj1B,SAAd,CACET,MAAO,CACL41B,cACAC,iBACAC,cACAC,iBACAC,SACAE,SACAD,YACAE,aATJ,SAYG71B,EAAMM,YCpBAw1B,GAAiB,WAE5B,OADct1B,qBAAW40B,K,0CCedW,GAAS,WAAO,IAAD,EACiDzzB,IAA9CjB,GADH,EAClBpB,IADkB,EACbkC,SADa,EACHlB,EADG,EACAE,EADA,EACGE,WAAWE,EADd,EACcA,KAAME,EADpB,EACoBA,KAAMH,EAD1B,EAC0BA,aAAce,EADxC,EACwCA,KADxC,EAEQmM,KAA1BrF,EAFkB,EAElBA,SAAUyC,EAFQ,EAERA,YAFQ,EAGI2C,KAAtBnP,EAHkB,EAGlBA,OAAQ4B,EAHU,EAGVA,UAHU,EAI8C80B,KAAhER,EAJkB,EAIlBA,YAA6BG,GAJX,EAILC,OAJK,EAIGE,OAJH,EAIWH,gBAC/BD,GALoB,EAI2BD,eAC/BO,KAAhBN,aACE7zB,EAA4CU,EAA5CV,WAAYC,EAAgCS,EAAhCT,cAAeC,EAAiBQ,EAAjBR,MAAOE,EAAUM,EAAVN,MAClCtB,EAAUu1B,IAAVv1B,MAERqL,qBAAU,WACR,GAAI0pB,EAAa,CACf,IAAMxxB,EAAaH,GAAqBzE,EAAQA,EAAO0E,WACvD0xB,EAAYS,GAAG,eAAe,WAC5B,IAAMC,EAASV,EAAYW,UAAUC,WAAWre,UAEhD,GADA3U,EAAW8yB,GACPlyB,EAAY,CACd,IAAInF,EAAW0D,EAAkB4G,EAAUnF,GAC3C,GAAInF,EAAU,CAAC,IACN6D,EADK,YACG7D,EADH,MAERI,EAAOuH,IAAEuK,IAAI5H,EAAUzG,EAAKkO,MAAM,IACtC3R,EAAK+G,QAAUkwB,EACf,IAAM/kB,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAKkO,MAAM,GAAI3R,GAC/C2M,EAAY,eAAKuF,SAKzB,OAAO,kBAAMqkB,GAAeA,EAAYa,IAAI,kBAC3C,CAACb,IAEJ1pB,qBAAU,WACR,GAAI1M,GAAUk2B,EAAa,CACzB,IAAIL,EAAWD,GAAa51B,GAO5B,GALIo2B,GAEFA,EAAYa,IAAI,eAGdpB,EAAU,CAEZ,KAAOA,EAAS3lB,cAAcxL,UAAUkvB,SAAS,iBAAmBiC,EAASqB,aAAa,eACxFrB,EAAWA,EAAS3lB,cAElB2lB,EAASnxB,UAAUkvB,SAAS,kBAC9BiC,EAASnxB,UAAUyyB,OAAO,gBAC1BtB,EAASnxB,UAAUyyB,OAAO,YAG5B,IAAIC,EAAc,IAAIC,KAAMxB,EAAU,CAAEyB,MAAO,OAAQC,QAAS,CAAEzhB,QAAS,uBAK3EshB,EAAOI,UAAU,WAAWT,UAAUtD,WAAWzd,SAAQ,SAACxS,GACxD,IAAMi0B,EAAQj0B,EAAQk0B,WAAU,GAChCl0B,EAAQuyB,WAAW4B,aAAaF,EAAOj0B,MAGzC,IAAIsS,EAAUshB,EAAOI,UAAU,WAE/B1hB,EAAQihB,UAAUtD,WAAWzd,SAAQ,SAAC3N,GACpCyN,EAAQ8hB,OAAOvvB,KACdyN,GAEHugB,EAAee,GACfA,EAAOhhB,OAAOyhB,OAAOC,QAAQpzB,UAAUyyB,OAAO,aAG9CC,EAAOL,UAAU71B,SAAS,GAAGi2B,SAC7BC,EAAOL,UAAU71B,SAAS,GAAGi2B,SAC7BC,OAAS7zB,MAGZ,CAACvD,IAEJ,IAAM+3B,EAAgB9d,mBACpB,kBAAM,WACAja,GAEF80B,GAAO,CAAEx1B,OAAQU,EAAQ+J,WAAUyC,cAAatK,eAAcN,YAAWY,qBAG7E,CAACxC,IAiBH,OACE,qCAsDE,cAAC,GAAD,CACErD,MAAO,CAAEoL,QAAS9F,EAAY,QAAU,OAAQxC,SAAU,QAASoR,KAAK,GAAD,OAAK1O,EAAL,MAAezC,IAAI,GAAD,OAAK2C,EAAL,OACzF01B,cAAeA,IAEjB,cAAC,GAAD,CACEl7B,QA1Ea,WACbmD,GACFg4B,GAAc,CACZjuB,WACAnI,YACA4K,cACAhK,gBACAN,eACA5C,OAAQU,EACRgF,aAAc3D,KAkEd1E,MAAO,CAAEoL,QAASxF,EAAa,QAAU,OAAQ9C,SAAU,QAASoR,KAAK,GAAD,OAAKpO,EAAL,MAAgB/C,IAAI,GAAD,OAAKiD,EAAL,aAW7Fs1B,GAAS,SAAC,GAA2C,IAAzCt7B,EAAwC,EAAxCA,MAAOo7B,EAAiC,EAAjCA,cACvB,OACE,cAAC,KAAD,CAAYxgB,UAAU,QAAQpJ,MAAM,iBAAiBG,OAAO,SAASC,WAAW,SAAS2pB,UAAWH,EAApG,SACE,cAAC,IAAD,CAAQp7B,MAAOA,EAAOK,KAAK,UAAUoR,KAAM,cAAC,KAAD,SAU3CgnB,GAAO,SAAC,GAAmC,IAAjCz4B,EAAgC,EAAhCA,MAAOE,EAAyB,EAAzBA,QACrB,OAAO,cAAC,IAAD,CAAQF,MAAOA,EAAOE,QAASA,EAASG,KAAK,UAAUoR,KAAM,cAAC,KAAD,O,+CCpMhE+pB,GAAW,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,aAAcC,EAAkC,EAAlCA,aAChC,OACE,sBAAK17B,MAAO,CAAE8C,SAAU,QAAS9B,QAAS,MAAOoK,QAAS,OAAQoR,cAAe,SAAUC,OAAQ,OAAnG,UACE,cAAC,KAAD,CAASkf,gBAAiB,GAAKnlB,MAAM,OAAOhF,MAAM,OAAOoJ,UAAU,QAAnE,SACE,cAAC,IAAD,CACE8B,SAAUrO,GAAS6pB,cACnBh4B,QAASu7B,EACTp7B,KAAK,UACLD,KAAK,QACLJ,MAAO,CAAEif,WAAY,QACrBxN,KAAM,cAACmqB,GAAA,EAAD,QAIV,cAAC,KAAD,CAASD,gBAAiB,GAAKnlB,MAAM,OAAOhF,MAAM,OAAOoJ,UAAU,QAAnE,SACE,cAAC,IAAD,CACE8B,SAAUrO,GAASwtB,cACnB37B,QAASw7B,EACTr7B,KAAK,UACLL,MAAO,CAAEif,WAAY,QACrB7e,KAAK,QACLqR,KAAM,cAACqqB,GAAA,EAAD,YCRVC,GAAkBt8B,YAAO,MAAPA,CAAH,kGAQRu8B,GAAO,SAAC/3B,GAAsB,IAAD,EACNwO,KAA1BrF,EADgC,EAChCA,SAAUyC,EADsB,EACtBA,YACVnL,EAAUF,IAAVE,MAFgC,EAGV8N,KAAtBvN,EAHgC,EAGhCA,UAAW5B,EAHqB,EAGrBA,OAHqB,EAQpCkD,IAHFhB,EALsC,EAKtCA,aACAe,EANsC,EAMtCA,KANsC,IAOtCD,KAAQF,EAP8B,EAO9BA,YAAaD,EAPiB,EAOjBA,SAEfL,EAAkBS,EAAlBT,cAERkK,qBAAU,WACR1B,GAAS4tB,UACR,CAAC7uB,IAEJ,IAmBM6Q,EAAaD,uBACjB,SAAC7U,GACK9F,GACF4B,EAAU,MAEZkE,EAAE8M,mBAEJ,CAAChR,EAAW5B,IA+Bd,OACE,eAAC,IAAD,CAAYrD,MAAO,CAAEa,OAAQ,QAA7B,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CAAU46B,aA7DO,WACnB,IAAMjtB,EAASH,GAASS,WAAW1B,GAC/BoB,IACFqB,EAAY,eAAKrB,IACjBvJ,EAAU,MACVM,GAAa,GACbM,GAAc,KAuDwB61B,aApDrB,WACnB,IAAMltB,EAASH,GAASU,WAAW3B,GAC/BoB,IACFvJ,EAAU,MACV4K,EAAY,eAAKrB,IACjBjJ,GAAa,GACbM,GAAc,OA+Cd,cAACk2B,GAAD,CACEj8B,UAAS,UAAK6N,KAAIuuB,WAAT,6CACTC,OAnCS,SAAChzB,GACdA,EAAE8M,iBACF/P,GAAYC,GAAY,GACxB,IAAIiD,EAASM,KAAK2G,MAAMlH,EAAEE,aAAa+yB,QAAQ,WAC3ChzB,GAAUA,EAAO0U,MAAwB,SAAhB1U,EAAO0U,MAAmB1U,EAAM,SAE3D+uB,GAAO,CACLtwB,gBAAiBuB,EAAOvB,gBACxBuF,WACAyC,cACA5K,YACAM,eACAM,gBACAwyB,UAAU,IAEZhxB,GAAA,kFACc+B,EAAOvB,gBADrB,MAEAuB,EAASA,EAAM,QAEjBwuB,GAAI,CACFj1B,OAAQwG,EAAE+U,YAAYvb,OACtBk1B,cAAezuB,EACfgE,WACAyC,cACArH,IAAK9D,KAYHuZ,WAAYA,EAHd,SAKE,cAACoe,GAAD,CAAeC,KAAMlvB,EAAUlH,SAAUA,UAM3Cm2B,GAAgBpqB,gBAAK,YAA2D,IAAxDqqB,EAAuD,EAAvDA,KAAuD,EAAjDp2B,SAClC,OAAOo2B,GT7GoB,SAACvgB,GAC5B,GAAoB,kBAATA,EAET,OADA1U,EAAa,oCACNivB,IAAM3X,cAAc,MAAO,GAAI,oCAGxC,IAAI4d,EAAMtG,GAAUuG,gBAAgBzgB,EAAM,aAE1C,OAAY,OAARwgB,GACFl1B,EAAa,mDACNivB,IAAM3X,cAAc,IAAK,GAAI,qCAE/BwX,GAAUoG,EAA+B,GSiGjCE,CAAcC,KAAUJ,GAAMvgB,S,+FC3GlC4gB,GAAQ,WAAO,IAAD,EACDllB,GAAc,CAAEC,UAHxB,UAES,mBAClBG,EADkB,KACTlR,EADS,OAES8L,KAA1BrF,EAFiB,EAEjBA,SAAUyC,EAFO,EAEPA,YACVxM,EAAWmP,KAAXnP,OAEFnD,EAAU,SAACkC,GACf,GAAIiB,GAAUwU,GAAWlR,EAAM,CAC7B,IAAIzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GAC3B,GAAIzD,GAAQA,EAAK4D,YAAc5D,EAAK4D,WAAY,CAC9C5D,EAAK4D,WAAL,MAA2B1E,EAC3B,IAAMgT,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAMzD,GACtC2M,EAAY,eAAKuF,OAKvB,OAAOyC,EACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAK+kB,KAAK,IAAV,SACE,cAAC,KAAKC,KAAN,CAAWtZ,MAAM,YAEnB,cAAC,IAAD,CAAKqZ,KAAK,IAAV,SACE,eAAC,IAAD,CAAKv6B,QAAQ,gBAAb,UACE,cAAC,KAAD,CAASmP,MAAM,OAAf,SACE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,SAASG,KAAK,QAAQoR,KAAM,cAAC,KAAD,QAG7D,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,UAAf,SACE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,YAAYG,KAAK,QAAQoR,KAAM,cAAC,KAAD,UAIlE,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,SAAf,SACE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,WAAWG,KAAK,QAAQoR,KAAM,cAAC,KAAD,UAIjE,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,QAAf,SACE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,UAAUG,KAAK,QAAQoR,KAAM,cAAC,KAAD,kBAMpE,MC1COqrB,GAAa,SAAC,GAA+D,IAA7DC,EAA4D,EAA5DA,WAAYxZ,EAAgD,EAAhDA,MACjC7L,EADiF,EAAzCslB,mBAP9B,mBAOuE,EAErDvqB,KAA1BrF,EAF+E,EAE/EA,SAAUyC,EAFqE,EAErEA,YAFqE,EAG3D9K,oBAAS,kBAAM,KAH4C,mBAGhF1B,EAHgF,KAGxE4B,EAHwE,OAI7DF,oBAAS,iBAAM,UAJ8C,mBAIhFyR,EAJgF,KAIzEC,EAJyE,OAK/DgB,GAAc,CAAEC,YAAWE,WAAYmlB,IALwB,mBAKhFllB,EALgF,KAKvElR,EALuE,KAOvFoJ,qBAAU,WACR,GAAI8H,GAAWlR,EAAM,CACnB,IAAMzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GACzBzD,GAAQA,EAAK4D,YAAc5D,EAAK4D,WAAW4Q,IAC7CjB,EAASvT,EAAK4D,WAAW4Q,IAG7BrQ,EAAW,wBAAyBV,EAAMkR,KACzC,CAAClR,EAAMkR,IAcV,OAAOA,EACL,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAK+kB,KAAK,OAAV,SACE,cAAC,KAAKC,KAAN,CAAWtZ,MAAOA,GAAgB,iBAGpC,eAAC,GAAD,CAAa/M,MAAOA,EAAOomB,KAAK,OAAhC,UACE,qBAAK98B,UAAU,SAASI,QAAS,kBAAM+E,GAAU,IAAjD,SACE,qBAAKnF,UAAU,YAEhBuD,EACC,sBAAKvD,UAAU,UAAf,UACE,qBAAKA,UAAU,QAAQI,QAAS,kBAAM+E,GAAU,MAChD,cAAC,KAAD,CAAc2R,cAAc,EAAOJ,MAAOA,EAAOK,SAAU,SAACL,GAAD,OA1B7C,SAACA,GACzB,IAAMM,EAAO,UAAMN,EAAMO,KAAZ,OAAkBC,GAAaR,EAAMS,IAAI/G,IAEtD,GADAuG,EAASK,GACLnQ,GAAQkR,EAAS,CACnB,IAAIhR,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAW4Q,GAAaZ,EAChC,IAAImmB,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAEjCgJ,EAAY,eAAKotB,KAkBkE7lB,CAAkBZ,SAE7F,aAIR,MAGAQ,GAAe,SAACK,GAAD,OAA8B,IAAVA,EAAc,KAAOC,KAAKC,MAAM,IAAMF,GAAOG,SAAS,KAEzFnB,GAAc5W,YAAOy9B,IAAPz9B,CAAH,wgBAKC,SAACwE,GAAD,OAAWA,EAAMuS,SC9DtB2mB,GAAS,SAAC,GAAwD,IAAtDJ,EAAqD,EAArDA,WAAYxZ,EAAyC,EAAzCA,MAC/B6Z,EADwE,EAAlCC,gBAR1B,SAQ4D,EAEpD5lB,GAAc,CAAEC,UAAW0lB,EAAexlB,WAAYmlB,IAFF,mBAErEllB,EAFqE,KAE5DlR,EAF4D,OAG1C8L,KAA1BrF,EAHoE,EAGpEA,SAAUyC,EAH0D,EAG1DA,YACVqI,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAW0lB,IAAlDllB,SAJoE,EAMlDnT,mBAAS,IANyC,mBAMrEpB,EANqE,KAM9D4U,EAN8D,KAQ5ExI,qBAAU,WACJ8H,GACFU,EAASL,OAEV,CAACL,IAaJ,OAAOA,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAOA,GAAgB,SAAlC,SACE,cAAC,KAAD,CAAO1M,SAbU,SAAC1N,GAEpB,GADAoP,EAASpP,EAAExG,OAAOgB,OACdkU,GAAWlR,GAAQwC,EAAExG,OAAOgB,MAAO,CACrC,IAAIs5B,EACAp2B,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAWs2B,GAAiBj0B,EAAExG,OAAOgB,MAC7Cs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,MAMct5B,MAAOA,EAAO25B,UAAWA,OAExD,MAGAA,GAAY,SAACn0B,GACoB,IAAjCA,EAAEoL,cAAc5Q,MAAMuD,QAA0B,cAAViC,EAAEhG,MAC1CgG,EAAEoL,cAAc5Q,MAAQ,KC3CtBwU,GAAY,gBAMLolB,GAAe,SAAC,GAAuC,IAArCR,EAAoC,EAApCA,WAAoC,EAC/BtqB,KAA1BrF,EADyD,EACzDA,SAAUyC,EAD+C,EAC/CA,YAD+C,EAEzC4H,GAAc,CAAEC,UAAWS,GAAWP,WAAYmlB,IAFT,mBAE1DllB,EAF0D,KAEjDlR,EAFiD,KAa3D4R,EAAW,SAAC5U,GAChB,GAAIgD,EAAM,CACM,KAAVhD,IACFA,EAAQ,QAEV,IAAIkD,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAWqR,iBAAaxU,EAChC,IAAMs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GACnCgJ,EAAY,eAAKotB,MA4BjBt5B,EAAQ,GAKZ,OAJIkU,IACFlU,EAAQ8G,IAAEuK,IAAI5H,EAAUzG,EAAO,6BAG1BkR,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,gBAAjB,SACE,cAAC,KAAD,CAAO1M,SApDU,SAAC1N,GAChB0O,GAAW1O,EAAExG,OAAOgB,QACC,KAAnBwF,EAAExG,OAAOgB,QACXwF,EAAExG,OAAOgB,MAAQ,QAEnB4U,EAASpP,EAAEoL,cAAc5Q,SA+CMA,MAAOA,EAAO25B,UA/B/B,SAACn0B,GAKjB,GAJqC,IAAjCA,EAAEoL,cAAc5Q,MAAMuD,QAA0B,cAAViC,EAAEhG,MAC1CgG,EAAEoL,cAAc5Q,MAAQ,KAGZ,YAAVwF,EAAEhG,KAA+B,cAAVgG,EAAEhG,OAC3BgG,EAAE8M,iBACE4B,GAAS,CACX,IACIlU,EADe8G,IAAEuK,IAAI5H,EAAUzG,EAAO,cACnB,iBAEjBkC,EADK,IAAI20B,OAAO,QACLC,KAAK95B,GAClB+5B,EAAe70B,EAAQ2B,SAAS3B,EAAM,IAAM,EAClC,YAAVM,EAAEhG,IACJQ,EAAQA,EAAMmF,QAAQ,OAAQ40B,EAAe,GAC1B,cAAVv0B,EAAEhG,KAAuBu6B,EAAe,IACjD/5B,EAAQA,EAAMmF,QAAQ,OAAQ40B,EAAe,IAE/Cv0B,EAAEoL,cAAc5Q,MAAQA,EACxB4U,EAAS5U,SAcX,MC3DAwU,GAAY,6BAELwlB,GAAsB,WAAO,IAAD,EACLlrB,KAA1BrF,EAD+B,EAC/BA,SAAUyC,EADqB,EACrBA,YADqB,EAEX9K,oBAAS,kBAAM,KAFJ,mBAEhC1B,EAFgC,KAExB4B,EAFwB,OAGbF,oBAAS,iBAAM,UAHF,mBAGhCyR,EAHgC,KAGzBC,EAHyB,KAIvBmnB,EAAYprB,KAApBnP,OAJ+B,EAKfoU,GAAc,CAAEC,UAAWS,KALZ,mBAKhCN,EALgC,KAKvBlR,EALuB,KAOvCoJ,qBAAU,WACR,GAAI6tB,GAAW/lB,EACb,IACE,GAAIlR,EAAM,CACR,IAAIzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GACvBzD,EAAKiH,kBAAkBnD,SAASmR,KAClC1B,EAASvT,EAAK4D,WAAWqR,gCAG7B,MAAOhP,GACP9B,GAAY,uCAAwC8B,MAGvD,CAACy0B,IAcJ,OAAO/lB,EACL,mCACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAK+kB,KAAK,OAAV,SACE,cAAC,KAAKC,KAAN,CAAWtZ,MAAM,2BAGnB,eAAC,GAAD,CAAa/M,MAAOA,EAAOomB,KAAK,OAAhC,UACE,qBAAK98B,UAAU,SAASI,QAAS,kBAAM+E,GAAU,IAAjD,SACE,qBAAKnF,UAAU,YAEhBuD,EACC,sBAAKvD,UAAU,UAAf,UACE,qBAAKA,UAAU,QAAQI,QAAS,kBAAM+E,GAAU,MAChD,cAAC,KAAD,CAAc2R,cAAc,EAAOJ,MAAOA,EAAOK,SAAU,SAACL,GAAD,OA1B7C,SAACA,GACzB,IAAMM,EAAO,UAAMN,EAAMO,KAAZ,OAAkBC,GAAaR,EAAMS,IAAI/G,IAEtD,GADAuG,EAASK,GACLnQ,GAAQkR,EAAS,CACnB,IAAIhR,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAW,8BAAgCgQ,EACnD,IAAImmB,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAEjCgJ,EAAY,eAAKotB,KAkBkE7lB,CAAkBZ,SAE7F,aAIR,MAGAQ,GAAe,SAACK,GAAD,OAA8B,IAAVA,EAAc,KAAOC,KAAKC,MAAM,IAAMF,GAAOG,SAAS,KAEzFnB,GAAc5W,YAAOy9B,IAAPz9B,CAAH,wgBAKC,SAACwE,GAAD,OAAWA,EAAMuS,SCrE7BqnB,GAAW,UAEJC,GAAU,WAAO,IAAD,EACHrmB,GAAc,CAAEE,SAAUkmB,KADvB,mBACpBhmB,EADoB,KACXlR,EADW,OAEO8L,KAA1BrF,EAFmB,EAEnBA,SAAUyC,EAFS,EAETA,YAFS,EAGD9K,mBAAS,IAHR,mBAGpBpB,EAHoB,KAGb4U,EAHa,OAISxT,mBAAyB,MAJlC,mBAIpBg5B,EAJoB,KAIRC,EAJQ,OAKOj5B,oBAAS,GALhB,mBAKpBk5B,EALoB,KAKTC,EALS,KAMR1rB,KAAXnP,OAER0M,qBAAU,WACR,GAAI8H,GAAWlR,EAAM,CACnB,IAAIzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GAC3B,GAAIzD,EAAM,CAIR,GAHAqV,EAASrV,EAAK+G,QAAU/G,EAAK+G,QAAU,IAGlB,YAAjB/G,EAAK6G,QAAuB,CAC9B,GAAI7G,EAAK4D,YAAc5D,EAAK4D,WAAW,cAAgB5D,EAAK4D,WAAW,aAAaE,SAAS,cAG3F,OAFAg3B,GAAc,QACdE,GAAa,GAGfF,GAAc,QAEdA,GAAc,GAEhBE,GAAa,OAGhB,CAACrmB,EAASlR,IAEb,IAAM2P,EAAe,SAACnN,GACpB,IAAIxF,EAAQwF,EAAEoL,cAAc5Q,MAE5B,GADA4U,EAAS5U,GACLgD,GAAQkR,EAAS,CACnB,IAAIhR,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAE9B,GAAIE,GACEA,EAAO,UAAelD,EAAO,CAC/BkD,EAAO,QAAalD,EACpB,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAME,GACtCgJ,EAAY,eAAKuF,OAMzB,OAAOyC,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,UAAjB,SACG0a,EACC,cAAC,KAAME,SAAP,CAAgB1Y,KAAM,GAAI5O,SAAUP,EAAc3S,MAAOA,IAEzD,cAAC,KAAMw6B,SAAP,CACEzhB,SAAUqhB,IAA0B,EACpCK,SAAUL,IAA0B,EACpCtY,KAAM,EACN5O,SAAUP,EACV3S,MAAOA,MAIX,MC7DO06B,GAAiB,SAAC,GAAyC,IAAvCtB,EAAsC,EAAtCA,WAAsC,EACnCtqB,KAA1BrF,EAD6D,EAC7DA,SAAUyC,EADmD,EACnDA,YADmD,EAE7C4H,GAAc,CAAEC,UAAW,aAAcE,WAAYmlB,IAFR,mBAE9DllB,EAF8D,KAErDlR,EAFqD,KAI/D2P,EAAe,SAACnN,EAAwCmgB,GACxDzR,GAAWlR,GAAQwC,EAAExG,OAAOgB,QACP,KAAnBwF,EAAExG,OAAOgB,QACXwF,EAAExG,OAAOgB,MAAQ,IAEnB4U,EAAS+Q,EAAWngB,EAAExG,OAAOgB,SAI3B4U,EAAW,SAAC+Q,EAAmB3lB,GACnC,GAAIgD,EAAM,CACM,KAAVhD,IACFA,EAAQ,QAEV,IAAIkD,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAR,iBAA6BwiB,IAAe3lB,EAC5C,IAAMs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GACnCgJ,EAAY,eAAKotB,MAIfK,EAAY,SAACn0B,EAA0CmgB,GAK3D,GAJqC,IAAjCngB,EAAEoL,cAAc5Q,MAAMuD,QAA0B,cAAViC,EAAEhG,MAC1CgG,EAAEoL,cAAc5Q,MAAQ,KAGZ,YAAVwF,EAAEhG,KAA+B,cAAVgG,EAAEhG,OAC3BgG,EAAE8M,iBACE4B,GAAS,CACX,IACIlU,EADe8G,IAAEuK,IAAI5H,EAAUzG,EAAO,cACnB,UAAY2iB,GAE7BzgB,EADK,IAAI20B,OAAO,QACLC,KAAK95B,GAClB+5B,EAAe70B,EAAQ2B,SAAS3B,EAAM,IAAM,EAClC,YAAVM,EAAEhG,IACJQ,EAAQA,EAAMmF,QAAQ,OAAQ40B,EAAe,GAC1B,cAAVv0B,EAAEhG,KAAuBu6B,EAAe,IACjD/5B,EAAQA,EAAMmF,QAAQ,OAAQ40B,EAAe,IAE/Cv0B,EAAEoL,cAAc5Q,MAAQA,EAExB4U,EAAS+Q,EAAWngB,EAAEoL,cAAc5Q,SAKrC26B,EAAmC,GAA3BC,EAA+B,GAAvBC,EAA2B,GAAnBC,EAAuB,GAQpD,OAPI5mB,IACFymB,EAAS7zB,IAAEuK,IAAI5H,EAAUzG,EAAO,0BAChC43B,EAAS9zB,IAAEuK,IAAI5H,EAAUzG,EAAO,2BAChC83B,EAASh0B,IAAEuK,IAAI5H,EAAUzG,EAAO,yBAChC63B,EAAS/zB,IAAEuK,IAAI5H,EAAUzG,EAAO,6BAG3BkR,EACL,eAAC,KAAKglB,KAAN,CAAWtZ,MAAM,oBAAjB,UACE,cAAC,KAAMmb,MAAP,CAAa1+B,MAAO,CAAE2+B,aAAc,OAApC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKr8B,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE2Q,YAAY,MACZtB,UAAW,SAACn0B,GAAD,OAAOm0B,EAAUn0B,EAAG,QAC/B0N,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,QACjCxF,MAAO86B,MAGX,cAAC,IAAD,CAAKn8B,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE2Q,YAAY,QACZtB,UAAW,SAACn0B,GAAD,OAAOm0B,EAAUn0B,EAAG,UAC/B0N,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,UACjCxF,MAAO46B,WAKf,cAAC,KAAMG,MAAP,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKp8B,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE2Q,YAAY,SACZtB,UAAW,SAACn0B,GAAD,OAAOm0B,EAAUn0B,EAAG,WAC/B0N,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,WACjCxF,MAAO66B,MAIX,cAAC,IAAD,CAAKl8B,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CACE2Q,YAAY,OACZtB,UAAW,SAACn0B,GAAD,OAAOm0B,EAAUn0B,EAAG,SAC/B0N,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,SACjCxF,MAAO26B,cAMf,MCxGAnmB,GAAY,YAEL0mB,GAAW,WAAO,IAAD,EACJpnB,GAAc,CAAEC,UAAWS,KADvB,mBACrBN,EADqB,KACZlR,EADY,OAEM8L,KAA1BrF,EAFoB,EAEpBA,SAAUyC,EAFU,EAEVA,YACVqI,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAWS,KAAlDD,SAaR,OAAOL,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,WAAjB,SACE,cAAC,KAAD,CAAO1M,SAbU,SAAC1N,GACpB,IAAIxF,EAAQwF,EAAEoL,cAAc5Q,MAC5B,GAAIgD,GAAQkR,EAAS,CACnB,IAAIolB,EACAp2B,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAWqR,aAAaxU,EAChCs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,MAMct5B,MAAOuU,QAEtC,MCtBAC,GAAY,MAEZ2mB,GAAM,WAAO,IAAD,EACQrnB,GAAc,CAAEC,UAAWS,KADnC,mBACTN,EADS,KACAlR,EADA,OAEkB8L,KAA1BrF,EAFQ,EAERA,SAAUyC,EAFF,EAEEA,YAEVqI,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAWS,KAAlDD,SAeR,OAAOL,EACL,cAAC,IAAD,UACE,cAAC,IAAD,CAAKvV,KAAM,GAAX,SACE,cAAC,KAAD,CAAOs8B,YAAY,MAAM/nB,SAAU,SAAC1N,GAAD,OAdpB,SAACA,GACpB,IAAIxF,EAAQwF,EAAEoL,cAAc5Q,MAC5B,GAAIgD,GAAQkR,EAAS,CACnB,IAAIolB,EACAp2B,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAR,IAAgCnD,EAChCs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,KAO2B3mB,CAAanN,IAAIxF,MAAOuU,UAGpE,MCzBAC,GAAY,gBAEZ4mB,GAAe,WAAO,IAAD,EACHtnB,GAAc,CAAEC,UAAWS,KADxB,mBACpBN,EADoB,KACXlR,EADW,OAES8L,KAA1BrF,EAFiB,EAEjBA,SAAUyC,EAFO,EAEPA,YAFO,EAGC9K,qBAHD,mBAGlBpB,EAHkB,KAGX4U,EAHW,KAKzBxI,qBAAU,WACR,GAAI8H,GAAWlR,EAAM,CACnB,IAAMzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GACzBzD,GAAQA,EAAK4D,YAAc5D,EAAK4D,WAAWqR,kBAC7CI,EAASrV,EAAK4D,WAAWqR,qBAG5B,CAACN,EAASlR,IAEboJ,qBAAU,WACRpM,GhB0MgB,SAAC,GAAkF,IAAhFkU,EAA+E,EAA/EA,QAASlR,EAAsE,EAAtEA,KAAMyG,EAAgE,EAAhEA,SAAUyC,EAAsD,EAAtDA,YAAa6H,EAAyC,EAAzCA,UAAW/T,EAA8B,EAA9BA,MACtE,GAAIkU,GAAWlR,EAAM,CACnB,IAAIzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,EAAMkR,GACjC,GAAI3U,GACEA,EAAI,YAAkBA,EAAI,WAAewU,KAAe/T,EAAO,CACjET,EAAI,WAAewU,GAAa/T,EAChC,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAMzD,GACtC2M,EAAY,eAAKuF,MgBjNZ4pB,CAAY,CAAEnnB,UAASlR,OAAMyG,WAAUyC,cAAalM,QAAO+T,UAAWS,OAC9E,CAACxU,IAUJ,OAAOkU,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,kBAAjB,SACE,cAAC,KAAD,CAAO1M,SAVU,SAAC1N,GACpB,IAAMxF,EAAQwF,EAAEoL,cAAc5Q,MAC9B0D,EAAW,sBAAuB1D,GAC9BgD,GAAQkR,GACVU,EAAS5U,IAMsBtD,KAAK,OAAOsD,MAAOA,MAElD,M,qBChCAwU,GAAY,OAEZ8mB,GAAO,WAAO,IAAD,EACOxnB,GAAc,CAAEC,UAAWS,KADlC,mBACVN,EADU,KACDlR,EADC,OAEiB8L,KAA1BrF,EAFS,EAETA,SAAUyC,EAFD,EAECA,YAEVqI,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAWS,KAAlDD,SAgBR,OAAOL,EACL,cAAC,KAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAKvV,KAAM,GAAX,SACE,cAAC,KAAD,CAAOs8B,YAAazmB,GAAWtB,SAAU,SAAC1N,GAAD,OAf5B,SAACA,GACpB,IAAIxF,EAAQwF,EAAEoL,cAAc5Q,MAC5B,GAAIgD,GAAQkR,EAAS,CACnB,IAAIolB,EACAp2B,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAR,KAAgCnD,EAChCs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,KAQmC3mB,CAAanN,IAAIxF,MAAOuU,YAI5E,MC5BAgnB,GAAU,SAAC,GAAkC,IAAhCnC,EAA+B,EAA/BA,WAA+B,EAClBtlB,GAAc,CAAEC,UAAW,UAAWE,WAAYmlB,IADhC,mBAC3CllB,EAD2C,KAClClR,EADkC,KAC5BtD,EAD4B,OAEdoP,KAA1BrF,EAFwC,EAExCA,SAAUyC,EAF8B,EAE9BA,YAEZyG,EAAe,SAACnN,EAAkCmgB,GACxB,KAA1BngB,EAAEoL,cAAc5Q,QAClBwF,EAAEoL,cAAc5Q,MAAQ,KAK1Bw7B,EAAW7V,EAAWngB,EAAEoL,cAAc5Q,QAGlCw7B,EAAa7hB,mBACjB,kBAAM,SAACgM,EAAmB3lB,GACxB,GAAIgD,GAAQkR,EAAS,CACnB,IAAIolB,EAAO,GAEX,GAAI3T,EAAW,CACb,IAAIziB,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAR,kBAA8BwiB,IAAe3lB,EAC7Cs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,SAIvB,CAACplB,EAASlR,IAKNuR,EAAW,SAACoR,GAChB,IAAI3lB,EAAQ,GAGZ,GAAIgD,GAAQkR,GAAWxU,EAAQ,CAC7B,IAAIwD,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9B,IAAKE,EACH,OAGF,KADAlD,EAAQkD,EAAQC,WAAaD,EAAQC,WAAR,kBAA8BwiB,IAAe,QAExE3lB,EAAQkD,EAAQC,WAAR,SACG,CAAC,IAAD,EACsBnD,EAAMwE,MAAM,KADlC,mBACFi3B,EADE,KACQC,EADR,KAET,OAAQ/V,GACN,IAAK,MACL,IAAK,SACH,OAAO8V,EACT,IAAK,OACL,IAAK,QACH,OAAOC,IAKjB,OAAO17B,GAGT,OAAOkU,EACL,eAAC,KAAKglB,KAAN,CAAWtZ,MAAM,YAAjB,UACE,cAAC,KAAMmb,MAAP,CAAa1+B,MAAO,CAAE2+B,aAAc,OAApC,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKr8B,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO2Q,YAAY,MAAM/nB,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,QAAQxF,MAAOuU,EAAS,WAEpF,cAAC,IAAD,CAAK5V,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO2Q,YAAY,QAAQ/nB,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,UAAUxF,MAAOuU,EAAS,kBAI5F,cAAC,KAAMwmB,MAAP,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKp8B,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO2Q,YAAY,SAAS/nB,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,WAAWxF,MAAOuU,EAAS,cAG1F,cAAC,IAAD,CAAK5V,KAAM,GAAI2rB,OAAQ,EAAvB,SACE,cAAC,KAAD,CAAO2Q,YAAY,OAAO/nB,SAAU,SAAC1N,GAAD,OAAOmN,EAAanN,EAAG,SAASxF,MAAOuU,EAAS,oBAK1F,MCxFAC,GAAY,QAMLmnB,GAAQ,SAAC,GAAsC,IAApCvC,EAAmC,EAAnCA,WAAmC,EACjCtlB,GAAc,CAAEC,UAAWS,GAAWP,WAAYmlB,IADjB,mBAClDllB,EADkD,KACzClR,EADyC,OAGvB8L,KAA1BrF,EAHiD,EAGjDA,SAAUyC,EAHuC,EAGvCA,YAHuC,EAI/B9K,mBAAiB,IAJc,mBAIlDpB,EAJkD,KAI3C4U,EAJ2C,KAKjDL,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAWS,KAAlDD,SAERnI,qBAAU,WACJ8H,GACFU,EAASL,OAEV,CAACL,IAqBJ,OAAOA,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,QAAjB,SACE,cAAC,KAAD,CAAO1M,SArBU,SAAC1N,GAKpB,GAJAoP,EAASpP,EAAExG,OAAOgB,OACK,KAAnBwF,EAAExG,OAAOgB,OAAmC,MAAnBwF,EAAExG,OAAOgB,QACpCwF,EAAExG,OAAOgB,MAAQ,KAEfkU,GAAWlR,GAAQwC,EAAExG,OAAOgB,MAAO,CACrC,IAAIs5B,EACAp2B,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAR,MAAgCqC,EAAExG,OAAOgB,MACzCs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,MAWct5B,MAAOA,EAAO25B,UAR/B,SAACn0B,GACoB,IAAjCA,EAAEoL,cAAc5Q,MAAMuD,QAA0B,cAAViC,EAAEhG,MAC1CgG,EAAEoL,cAAc5Q,MAAQ,SAQxB,MAGA47B,GAAmB,SAEZC,GAAS,WAAO,IAAD,EACF/nB,GAAc,CAAEC,UAAW6nB,KADzB,mBACnB1nB,EADmB,KACVlR,EADU,OAEQ8L,KAA1BrF,EAFkB,EAElBA,SAAUyC,EAFQ,EAERA,YACVqI,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAW6nB,KAAlDrnB,SAHkB,EAIAnT,mBAAS,IAJT,mBAInBpB,EAJmB,KAIZ4U,EAJY,KAM1BxI,qBAAU,WACJ8H,GACFU,EAASL,OAEV,CAACL,IAqBJ,OAAOA,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,SAAjB,SACE,cAAC,KAAD,CAAO1M,SArBU,SAAC1N,GAKpB,GAJAoP,EAASpP,EAAExG,OAAOgB,OACK,KAAnBwF,EAAExG,OAAOgB,OAAmC,MAAnBwF,EAAExG,OAAOgB,QACpCwF,EAAExG,OAAOgB,MAAQ,IAEfkU,GAAWlR,GAAQwC,EAAExG,OAAOgB,MAAO,CACrC,IAAIs5B,EACAp2B,EAAU4D,IAAEuK,IAAI5H,EAAUzG,GAC9BE,EAAQC,WAAR,OAAuCqC,EAAExG,OAAOgB,MAChDs5B,EAAOxyB,IAAEC,IAAI0C,EAAUzG,EAAME,GAC7BgJ,EAAY,eAAKotB,MAWct5B,MAAOA,EAAO25B,UAR/B,SAACn0B,GACoB,IAAjCA,EAAEoL,cAAc5Q,MAAMuD,QAA0B,cAAViC,EAAEhG,MAC1CgG,EAAEoL,cAAc5Q,MAAQ,SAQxB,M,WCxEA3D,GAAQ,CACZoL,QAAS,OACTvK,OAAQ,OACRyK,aAAc,OAGVD,GAAc,4BAEdo0B,GAAiB,WAAO,IACpBp8B,EAAWmP,KAAXnP,OADmB,EAEOoP,KAA1BrF,EAFmB,EAEnBA,SAAUyC,EAFS,EAETA,YAFS,EAMvBtJ,IAFFhB,EAJyB,EAIzBA,aACQM,EALiB,EAKzBS,KAAQT,cAES65B,EAA0B5sB,KAArC7N,UACAP,EAAUF,IAAVE,MARmB,EASGK,oBAAS,GATZ,mBASpB8S,EAToB,KASXC,EATW,OAUuB/S,qBAVvB,mBAUpB46B,EAVoB,KAUDC,EAVC,KAY3B7vB,qBAAU,WACR,GAAI1M,EAAQ,CACV,IAAMw8B,EAAUrsB,GAAqBnQ,GACrC,GAAIw8B,EAAS,CAAC,IACH52B,EADE,YACkB42B,EADlB,MAIX,OAFA/nB,GAAW,QACX8nB,EAAqB32B,IAIzB6O,GAAW,KACV,CAACzU,EAAQwU,IAEZ,IAAMioB,EAAc,SAACC,GACnB,GAAIloB,GAAW8nB,EAAmB,CAChC,IAAM/jB,EAAOpV,EAAkB4G,EAAUuyB,GACzC,GAAI/jB,EAAM,CAAC,IAAD,cACaA,EADb,GACD1Y,EADC,KACKyD,EADL,KAER,GAAIzD,GAAQyD,GAAQzD,EAAKqB,UAAYw7B,EAAS74B,OAAS,EAAG,CASxD,IARA,IAAM84B,EAAiB98B,EAAKqB,SAAS2C,OAC/B+4B,EAAgBF,EAAS74B,OAI3BsG,EAAc,GAGTvG,EAAI,EAAGA,EAAI+4B,GAAkB/4B,EAAIg5B,EAAeh5B,IAAK,CAC5D,IAAIE,EAAQsD,IAAE0D,UAAUjL,EAAKqB,SAAS0C,IAClCE,GAASA,EAAML,aAEjBK,EAAML,WAAWkD,MAAQ+1B,EAAS94B,GAClCuG,EAAYrN,KAAKgH,IAKrB,IAAK,IAAIF,EAAI+4B,EAAgB/4B,EAAIg5B,EAAeh5B,IAAK,CACnD,IAAIi5B,EAAqB93B,GAA4BqC,IAAE0D,UAAUjE,IAASxF,GAC1Ew7B,EAAmBp5B,WAAWkD,MAAQ+1B,EAAS94B,GAC/CuG,EAAYrN,KAAK+/B,GAInB,IAAMC,EAAW,2BAAQj9B,GAAR,IAAcqB,SAAUiJ,IAGzCnG,EAAW,kBAAmB84B,GAE9B,IAAM/qB,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAKkO,MAAM,GAAIsrB,GAE3C/qB,IACF/G,GAASkC,UAAU6E,GACnB7P,GAAa,GACbM,GAAc,GACd65B,GAAsB,GACtB7vB,EAAY,eAAKuF,SAO3B,OAAOyC,EACL,qCACE,gCACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOuoB,MAAO,kBAAMN,EAAY,CAAC,UAAUO,IAAK,SAElD,sBAAKrgC,MAAO,CAAEsgC,UAAW,QAAzB,UACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOF,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,KAC/D,cAAC,GAAD,CAAOH,MAAO,kBAAMN,EAAY,CAAC,MAAO,SAASO,IAAK,GAAIE,IAAK,QAEjE,sBAAKvgC,MAAO,CAAEsgC,UAAW,QAAzB,UACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOF,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,KACjF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,QAAS,KAAM,WAAWO,IAAK,KAAME,IAAK,EAAGC,MAAO,OACrF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,KACjF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,KACjF,cAAC,GAAD,CAAOJ,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,QAEnF,sBAAKxgC,MAAO,CAAEsgC,UAAW,QAAzB,UACE,cAAC,GAAD,UACE,4CAEF,cAAC,GAAD,CAAOF,MAAO,kBAAMN,EAAY,CAAC,MAAO,MAAO,MAAO,SAASO,IAAK,GAAIE,IAAK,GAAIC,MAAO,GAAIC,KAAM,WAItG,qBAAKzgC,MAAO,CAAEuC,UAAW,UAAzB,2CAIEm+B,GAAQ,SAAC,GAYR,IAXLN,EAWI,EAXJA,MACAC,EAUI,EAVJA,IACAE,EASI,EATJA,IACAC,EAQI,EARJA,MACAC,EAOI,EAPJA,KAQA,OACE,qCACE,cAAC,IAAD,CAAKzgC,MAAO,CAAE2+B,aAAc,UAC5B,cAAC,GAAD,CAAcz+B,QAASkgC,QAAgBx5B,EAAvC,SACE,qBAAK9G,UAAU,UAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBAAKE,MAAK,2BAAOA,IAAP,IAAckL,SAAUm1B,EAAKh1B,YAAak1B,EAAMl1B,GAAc,YACvEk1B,EAAM,qBAAKvgC,MAAK,2BAAOA,IAAP,IAAckL,SAAUq1B,EAAKl1B,YAAam1B,EAAQn1B,GAAc,YAAoB,KACpGm1B,EACC,qBAAKxgC,MAAK,2BAAOA,IAAP,IAAckL,SAAUs1B,EAAOn1B,YAAao1B,EAAOp1B,GAAc,YACzE,KACHo1B,EAAO,qBAAKzgC,MAAK,2BAAOA,IAAP,IAAckL,SAAUq1B,MAAgB,gBAQhE11B,GAAepL,YAAOuL,IAAPvL,CAAH,+OAaZqL,GAAerL,YAAOuL,IAAPvL,CAAH,gzBClLZ0Y,GAAY,cAEVsC,GAAWkmB,KAAXlmB,OAEKmmB,GAAa,WAAO,IAAD,EACNnpB,GAAc,CAAEC,UAAWS,KADrB,mBACvBN,EADuB,KACdlR,EADc,OAEI8L,KAA1BrF,EAFsB,EAEtBA,SAAUyC,EAFY,EAEZA,YACVqI,EAAaD,GAAS,CAAEtR,OAAMkR,UAASH,UAAWS,KAAlDD,SAHsB,EAIAI,KAJA,mBAIvBY,EAJuB,KAIb2nB,EAJa,KAmB1Bl9B,EAAQ,GASZ,OAPIkU,GAAWlR,IACbhD,EAAQuU,MACKvU,EAAM8I,QAAQ,MAAQ,IACjC9I,EAAQA,EAAMwE,MAAM,KAAK,IAItB0P,EACL,cAAC,KAAKglB,KAAN,CAAWtZ,MAAM,cAAjB,SACE,cAAC,KAAD,CAAQ5f,MAAOk9B,EAAWhqB,SAxBT,SAAClT,GACpB,GAAIkU,GAAWlR,EAAM,CACnB,IAAIzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GAC3B,GAAIzD,EAAM,CACRA,EAAK4D,WAAW,eAAiBnD,EACjC,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAMzD,GAClCkS,GACFvF,EAAY,eAAKuF,OAiBrB,SACG8D,EAASjW,KAAI,SAACS,GACb,OACE,cAAC+W,GAAD,CAAmB9W,MAAOD,EAA1B,SACGA,GADUA,UAOnB,M,UCvCAyU,GAAY,iBAML2oB,GAAgB,SAAC,GAAwC,IAAtC/D,EAAqC,EAArCA,WAAqC,EAC3CtlB,GAAc,CAAEC,UAAWS,GAAWP,WAAYmlB,IADP,mBAC5DllB,EAD4D,KACnDlR,EADmD,OAEjC8L,KAA1BrF,EAF2D,EAE3DA,SAAUyC,EAFiD,EAEjDA,YACVxM,EAAWmP,KAAXnP,OAEFnD,EAAU,SAACyD,GACf,GAAIN,GAAUwU,GAAWlR,EAAM,CAC7B,IAAIzD,EAAOuH,IAAEuK,IAAI5H,EAAUzG,GAC3B,GAAIzD,GAAQA,EAAK4D,WAAY,CAC3B5D,EAAK4D,WAAWqR,kBAAaxU,EAC7B,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUzG,EAAMzD,GACtC2M,EAAY,eAAKuF,OAKvB,OAAOyC,EACL,eAAC,IAAD,WACE,cAAC,IAAD,CAAK+kB,KAAK,OAAV,SACE,cAAC,KAAKC,KAAN,CAAWtZ,MAAM,qBAEnB,cAAC,IAAD,UACE,eAAC,IAAD,CAAKlhB,QAAQ,gBAAgBW,OAAQ,CAAC,GAAI,GAA1C,UACE,cAAC,KAAD,CAASwO,MAAM,MAAf,SACE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,QAAQG,KAAK,QAAQoR,KAAM,cAAC,4BAAD,QAG5D,cAAC,IAAD,UACE,cAAC,KAAD,CACEmJ,UAAU,OACVpJ,MAAM,gFAFR,SAIE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,WAAWG,KAAK,QAAQoR,KAAM,cAAC,+BAAD,UAIjE,cAAC,IAAD,UACE,cAAC,KAAD,CAASD,MAAM,SAAf,SACE,cAAC,IAAD,CAAQtR,QAAS,kBAAMA,EAAQ,WAAWG,KAAK,QAAQoR,KAAM,cAAC,+BAAD,kBAMrE,MCtDAsvB,GAAM,iBACNC,GAAO,kBACPC,GAAS,oBAETC,GAAkB,WAAO,IAAD,EACNn8B,mBAAiB,IADX,mBACrBo8B,EADqB,KAChBC,EADgB,OAEJr8B,mBAAiB,IAFb,mBAErB3E,EAFqB,KAEfihC,EAFe,OAGAt8B,mBAAiB,IAHjB,mBAGrBu8B,EAHqB,KAGbC,EAHa,OAIM9uB,KAA1BrF,EAJoB,EAIpBA,SAAUyC,EAJU,EAIVA,YAJU,EAMK4H,GAAc,CAAEC,UAAWqpB,KANhC,mBAMrBS,EANqB,KAMNC,EANM,OAOOhqB,GAAc,CAAEC,UAAWspB,KAPlC,mBAOrBU,EAPqB,KAOLC,EAPK,OAQUlqB,GAAc,CAAEC,UAAWupB,KARrC,mBAQrBW,EARqB,KAQJC,EARI,KA2B5B,GAjBA9xB,qBAAU,WACR,GAAI3C,EAAU,CACZ,GAAIo0B,EAAe,CACjB,IAAMt+B,EAAOuH,IAAEuK,IAAI5H,EAAUq0B,GAC7Bv+B,GAAQk+B,EAAOl+B,EAAK4D,WAAWi6B,KAEjC,GAAIW,EAAgB,CAClB,IAAMx+B,EAAOuH,IAAEuK,IAAI5H,EAAUu0B,GAC7Bz+B,GAAQm+B,EAAQn+B,EAAK4D,WAAWk6B,KAElC,GAAIY,EAAiB,CACnB,IAAM1+B,EAAOuH,IAAEuK,IAAI5H,EAAUy0B,GAC7B3+B,GAAQq+B,EAAUr+B,EAAK4D,WAAWm6B,SAGrC,CAACO,EAAeE,EAAgBE,KAEb,IAAlBJ,IAA8C,IAAnBE,IAAgD,IAApBE,EACzD,OAAO,KAuCT,OACE,cAAC,KAAK/E,KAAN,CAAWtZ,MAAM,oBAAjB,SACE,cAAC,KAAMmb,MAAP,UACE,eAAC,IAAD,CAAK17B,OAAQ,CAAC,EAAG,GAAjB,UACGw+B,EACC,cAAC,IAAD,CAAKl/B,KAAM,GAAX,SACE,cAAC,KAAD,CAAOs8B,YAAY,MAAM/nB,SA1CjB,SAAC1N,GAEnB,GADAi4B,EAAOj4B,EAAExG,OAAOgB,OACZ69B,GAAiBC,GAAWt4B,EAAExG,OAAOgB,MAAO,CAC9C,IAAIT,EAAOuH,IAAEuK,IAAI5H,EAAUq0B,GAC3B,GAAIv+B,GAAQA,EAAK4D,WAAY,CAC3B5D,EAAK4D,WAAWi6B,IAAO53B,EAAExG,OAAOgB,MAChC,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUq0B,EAASv+B,GACzC2M,EAAY,eAAKuF,OAmCqCzR,MAAOw9B,MAEvD,KACHO,EACC,cAAC,IAAD,CAAKp/B,KAAM,GAAX,SACE,cAAC,KAAD,CACEs8B,YAAY,OACZ/nB,SArCO,SAAC1N,GAEpB,GADAk4B,EAAQl4B,EAAExG,OAAOgB,OACb+9B,GAAkBC,GAAYx4B,EAAExG,OAAOgB,MAAO,CAChD,IAAIT,EAAOuH,IAAEuK,IAAI5H,EAAUq0B,GAC3B,GAAIv+B,GAAQA,EAAK4D,WAAY,CAC3B5D,EAAK4D,WAAWk6B,IAAQ73B,EAAExG,OAAOgB,MACjC,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUu0B,EAAUz+B,GAC1C2M,EAAY,eAAKuF,OA+BTzR,MAAOvD,EACPqb,YAAY,mCAGd,KACHmmB,EACC,cAAC,IAAD,CAAKt/B,KAAM,GAAX,SACE,cAAC,KAAD,CAAOs8B,YAAY,SAAS/nB,SAjCjB,SAAC1N,GAEtB,GADAo4B,EAAUp4B,EAAExG,OAAOgB,OACfi+B,GAAmBC,GAAc14B,EAAExG,OAAOgB,MAAO,CACnD,IAAIT,EAAOuH,IAAEuK,IAAI5H,EAAUq0B,GAC3B,GAAIv+B,GAAQA,EAAK4D,WAAY,CAC3B5D,EAAK4D,WAAWm6B,IAAU93B,EAAExG,OAAOgB,MACnC,IAAMyR,EAAU3K,IAAEC,IAAI0C,EAAUy0B,EAAY3+B,GAC5C2M,EAAY,eAAKuF,OA0B2CzR,MAAO29B,EAAQ7lB,YAAY,aAEjF,aCnFNqmB,GAAYC,KAAZD,QACFE,GAAaviC,YAAOsiC,KAAPtiC,CAAH,6RAoBVwiC,GAAmB,WAAO,IACtB70B,EAAaqF,KAAbrF,SACA/J,EAAWmP,KAAXnP,OAFqB,EAGO0B,mBAAc,IAHrB,mBAGtBm9B,EAHsB,KAGbC,EAHa,KA+B7B,OA1BApyB,qBAAU,WACR,GAAI1M,EAAQ,CACV,IAAMw8B,EAAUrsB,GAAqBnQ,GACrC,GAAIw8B,EAAS,CAAC,IACHuC,EADE,YACyBvC,EADzB,MAELjkB,EAAOpV,EAAkB4G,EAAUg1B,GACzC,GAAIxmB,EAAM,CAAC,IAAD,cACWA,EADX,GACH1Y,EADG,KACGyD,EADH,KAIR,GAFAA,EAAOA,EAAKkO,MAAM,GAEd3R,GAAQA,EAAKqB,UAAYrB,EAAKqB,SAAS2C,OAAS,EAAG,CAErD,IADA,IAAIm7B,EAAW,GACNp7B,EAAI,EAAGA,EAAI/D,EAAKqB,SAAS2C,OAAQD,IACP,cAA7B/D,EAAKqB,SAAS0C,GAAG8C,SACnBs4B,EAASliC,KAAT,UAAiBwG,EAAjB,qBAAkCM,EAAlC,MAGCwD,IAAEgE,QAAQyzB,EAASG,IACtBF,EAAiBE,SAM1B,CAACh/B,IAEGA,EACL,cAAC2+B,GAAD,CAAYM,UAAQ,EAACC,iBAAiB,IAAIviC,MAAO,CAAEa,OAAQ,QAAU2hC,wBAAwB,EAA7F,SACGN,GACCA,EAAQj/B,KAAI,SAACw/B,EAAa73B,GACxB,OACE,cAACk3B,GAAD,CAASY,IAAG,iBAAY93B,EAAQ,GAAhC,SACE,cAAC,IAAD,CAAY5K,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,sBACErC,UAAU,OACV6W,YAAa,SAACxN,GACZkF,GAASkC,UAAUnD,IAErBu1B,OAAQ,SAACx5B,GACPkF,GAASkC,UAAUnD,IANvB,UASE,cAAC,GAAD,CAAO2vB,WAAY0F,IACnB,cAAC,GAAD,CAAe1F,WAAY0F,IAC3B,cAAC,GAAD,CAAS1F,WAAY0F,IAErB,cAAC,GAAD,CAAY1F,WAAY0F,IACxB,cAAC,GAAD,CACElf,MAAO,oBACPyZ,kBAAkB,yBAClBD,WAAY0F,IAEd,cAAC,GAAD,CAAc1F,WAAY0F,IAC1B,cAAC,GAAD,CAAQ1F,WAAY0F,IACpB,cAAC,GAAD,CAAgB1F,WAAY0F,UAvBQ73B,QA8BhD,MC9EEk3B,GAAYC,KAAZD,QAEFE,GAAaviC,YAAOsiC,KAAPtiC,CAAH,6EAMHmjC,GAAa,WAAO,IACvBx1B,EAAaqF,KAAbrF,SACA/J,EAAWmP,KAAXnP,OAFsB,EAGE0B,oBAAS,GAHX,mBAGvBmB,EAHuB,KAGbC,EAHa,KAY9B,OAPA4J,qBAAU,WACJ1M,GAAUA,EAAO0E,WAAa1E,EAAOvD,UAAUkH,SAAS,cAC1Db,GAAY,GAEdD,GAAYC,GAAY,KACvB,CAAC9C,IAGF,eAAC,GAAD,CAAYk/B,iBAAiB,IAAID,UAAQ,EAACtiC,MAAO,CAAEa,OAAQ,QAAU2hC,wBAAwB,EAA7F,UACE,cAAC,GAAD,CAASE,IAAI,aAAb,SACE,cAAC,aAAD,CAAY1iC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,qBACErC,UAAW6N,KAAIk1B,KACflsB,YAAa,SAACxN,GACZkF,GAASkC,UAAUnD,IAErBu1B,OAAQ,SAACx5B,GACPkF,GAASkC,UAAUnD,IANvB,SASGlH,EACC,sBAAKlG,MAAO,CAAEuC,UAAW,UAAzB,iEACsD,mEAGtD,qCACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CAAQghB,MAAM,eAAe8Z,eAAe,iBAC5C,cAAC,GAAD,CAAQ9Z,MAAM,eAAe8Z,eAAe,iBAC5C,cAAC,GAAD,CAAY9Z,MAAM,eAAeyZ,kBAAkB,iBACnD,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,YApCoB,KA0C9B,cAAC,GAAD,CAAS0F,IAAI,gBAAb,SACE,cAAC,aAAD,CAAY1iC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,qBAAKrC,UAAW6N,KAAIu0B,QAApB,SACE,cAAC,GAAD,SAH2B,KAOjC,cAAC,GAAD,CAASQ,IAAI,oBAAb,SACE,cAAC,aAAD,CAAY1iC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,cAAC,GAAD,OAFiC,S,gCChG9B2gC,GAAY,SAAC,GAAkE,IAAhE7jB,EAA+D,EAA/DA,WAAYsE,EAAmD,EAAnDA,MACtC,OACE,sBAAKzjB,UAAW6N,KAAIo1B,QAApB,UACE,qBAAKjjC,UAAS,UAAK6N,KAAIysB,UAAT,YAAsBzsB,KAAIsR,MACxC,+BAAOsE,QCGP3Z,GAAa,CAAC,QAAS,mBAAoB,SAAU,gBAAiB,cAAe,gBAAiB,eAAgB,aAAc,QAAS,6BAA8B,YAAa,cAAe,YAAa,aAAc,cAAe,SAAU,OAAQ,gBAAiB,iBAAkB,cAAe,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,MAAO,SAAU,aAAc,kBAAmB,iBAAkB,QAAS,iBAAkB,SAGjeo5B,GAAiC,CAAC,MAAS,SAAU,mBAAoB,UAAW,OAAU,OAAQ,gBAAiB,GAAI,cAAe,GAAI,gBAAiB,MAAO,eAAgB,GAAI,aAAc,GAAI,MAAS,UAAW,6BAA8B,GAAI,YAAa,GAAI,cAAe,uCAAwC,YAAa,OAAQ,aAAc,GAAI,cAAe,SAAU,OAAU,GAAI,KAAQ,GAAI,gBAAiB,YAAa,iBAAkB,GAAI,cAAe,OAAQ,QAAW,YAAa,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,GAAI,IAAO,GAAI,OAAU,SAAU,aAAc,OAAQ,kBAAmB,OAAQ,iBAAkB,OAAQ,MAAS,GAAI,iBAAkB,SAAU,MAAS,IAGrvBn5B,GAA2B,CAAC,MAAS,SAAU,mBAAoB,UAAW,OAAU,OAAQ,gBAAiB,MAAO,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,cAAe,SAAU,gBAAiB,YAAa,cAAe,OAAQ,QAAW,YAAa,OAAU,SAAU,aAAc,OAAQ,kBAAmB,OAAQ,iBAAkB,OAAQ,iBAAkB,UAExao5B,GAAS,WAAO,IAAD,EACQxwB,KAA1BrF,EADkB,EAClBA,SAAUyC,EADQ,EACRA,YAEZzG,EAAS,CACbW,QAAS,YACTjD,WAAW,2BACN+C,IADK,IAER,YAAa,kCAEftF,SAAU,GACV0F,QAAS,SACTE,kBAAmBP,GACnBs5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACh6B,GACjB,IAAMmM,EAAUnI,GAAcC,GAC9ByC,EAAY,eAAKyF,KAIUhL,YAVT,SAACnB,GACnBD,GAAUC,EAAGC,IASwC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAWkU,WAAW,SAASsE,MAAM,cCjCrC3Z,GAAa,CAAC,QAAS,cAAe,YAAa,aAAc,cAAe,cAAe,iBAAkB,SAAU,kBAAmB,iBAAkB,QAAS,6BAA8B,UAAW,cAAe,iBAAkB,eAAgB,gBAAiB,aAGpRo5B,GAAiC,CAAC,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,aAAc,GAAI,cAAe,GAAI,cAAe,IAAK,iBAAkB,OAAQ,OAAU,GAAI,kBAAmB,GAAI,iBAAkB,GAAI,MAAS,OAAQ,6BAA8B,GAAI,QAAW,YAAa,cAAe,GAAI,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,YAAa,IAG1bn5B,GAA2B,CAAC,MAAS,UAAW,cAAe,uCAAwC,YAAa,OAAQ,cAAe,IAAK,iBAAkB,OAAQ,MAAS,SAAU,QAAW,aAIxMu5B,GAAyB3/B,EAAaR,KAAI,SAACsM,GAAD,OAAUA,EAAK7L,QAAMmK,KAAK,MAE7Dw1B,GAAO,WAAO,IAAD,EACU5wB,KAA1BrF,EADgB,EAChBA,SAAUyC,EADM,EACNA,YACZzG,EAAS,CACbW,QAAS,UACTjD,WAAW,sDACD+C,IADA,IACyB,cAAc,GAAd,OAAkBA,GAAwB,eAA1C,aAA6Du5B,OADtF,IAERhhC,MAAO,OACP,eAAgB,MAChB,gBAAiB,MACjB,YAAa,gCAEf6H,QAAS,2FACTE,kBAAmBP,GACnBs5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACh6B,GACjB,IAAMmM,EAAUnI,GAAcC,GAC9ByC,EAAY,eAAKyF,KAIUhL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAWkU,WAAW,OAAOsE,MAAM,Y,WCxCnC3Z,I,QAAa,CAAC,QAAS,MAAO,SAAU,aAAc,gBAAiB,cAAe,eAAgB,gBAAiB,6BAA8B,YAAa,kBAAmB,SAAU,OAAQ,OAAQ,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,MAAO,QAAS,MAAO,SAAU,SAAU,QAAS,SAAU,UAG1Vo5B,GAAiC,CAAC,MAAS,SAAU,IAAO,GAAI,OAAU,OAAQ,aAAc,OAAQ,gBAAiB,OAAQ,cAAe,OAAQ,eAAgB,OAAQ,gBAAiB,GAAI,6BAA8B,GAAI,YAAa,GAAI,kBAAmB,GAAI,OAAU,OAAQ,KAAQ,GAAI,KAAQ,GAAI,QAAW,YAAa,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,GAAI,IAAO,GAAI,MAAS,GAAI,IAAO,GAAI,OAAU,GAAI,OAAU,SAAU,MAAS,GAAI,OAAU,GAAI,MAAS,QAG5gBn5B,GAA0B,CAAC,MAAS,SAAU,OAAU,OAAQ,aAAc,OAAQ,gBAAiB,OAAQ,cAAe,OAAQ,eAAgB,OAAQ,OAAU,OAAQ,QAAW,YAAa,OAAU,SAAU,MAAS,QAE9N62B,GAAQ,WAAO,IAAD,EACSjuB,KAA1BrF,EADiB,EACjBA,SAAUyC,EADO,EACPA,YACZzG,EAAS,CACbW,QAAS,WACTjD,WAAW,2BACN+C,IADK,IAER,YAAa,+BACbG,MAAO,OACPhJ,QAAS,UACTV,IAAK,oCAEPiE,SAAU,GACV4F,kBAAmBP,GACnBs5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACh6B,GACjB,IAAMmM,EAAUnI,GAAcC,GAC9ByC,EAAY,eAAKyF,KAIUhL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAWkU,WAAW,QAAQsE,MAAM,aCnCpC3Z,GAAa,CAAC,6BAA8B,YAAa,SAAU,UAAW,iBAAkB,eAAgB,gBAAiB,eAGjIo5B,GAAiC,CAAC,6BAA8B,GAAI,YAAa,GAAI,OAAU,OAAQ,QAAW,OAAQ,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,IAGxMn5B,GAA0B,CAAC,OAAU,OAAQ,QAAW,QAEjDy5B,GAAS,WAAO,IAAD,EACQ7wB,KAA1BrF,EADkB,EAClBA,SAAUyC,EADQ,EACRA,YACZzG,EAAS,CACbW,QAAS,YACTjD,WAAW,2BACN+C,IADK,IAER,YAAa,kCAEftF,SAAU,GACV4F,kBAAmBP,GACnBs5B,mCAAoCF,IAYtC,OACE,qBAAKG,UANW,SAACh6B,GACjB,IAAMmM,EAAUnI,GAAcC,GAC9ByC,EAAY,eAAKyF,KAIUhL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAWkU,WAAW,SAASsE,MAAM,cCjC9BggB,GAAO,WAAO,IAAD,EACU9wB,KAA1BrF,EADgB,EAChBA,SAAUyC,EADM,EACNA,YACZzG,EAAS,CACbW,QAAS,UACTjD,WAAY,CACV,YAAa,yCACb9F,QAAS,OAEXmJ,kBAAmB,CAAC,eACpBF,QAAQ,0kBAuCV,OACE,qBAAKk5B,UANW,SAACh6B,GACjB,IAAMmM,EAAUnI,GAAcC,GAC9ByC,EAAY,eAAKyF,KAIUhL,YAVT,SAACnB,GACnBD,GAAUC,EAAUC,IASiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAWkU,WAAW,OAAOsE,MAAM,aCjDnC3Z,GAAa,CAAC,eAAgB,eAAgB,eAAgB,6BAA8B,YAAa,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,QAAS,SAG/Lo5B,GAAiC,CAAC,eAAgB,UAAW,eAAgB,QAAS,eAAgB,MAAO,6BAA8B,GAAI,YAAa,GAAI,QAAW,YAAa,iBAAkB,GAAI,eAAgB,GAAI,gBAAiB,GAAI,cAAe,GAAI,MAAS,OAAQ,MAAS,UAGpSn5B,GAA0B,CAAC,eAAgB,UAAW,eAAgB,QAAS,eAAgB,MAAO,QAAW,YAAa,MAAS,OAAQ,MAAS,UAEjJ25B,GAAU,WAAO,IAAD,EACO/wB,KAA1BrF,EADmB,EACnBA,SAAUyC,EADS,EACTA,YACZzG,EAAS,CACbW,QAAS,aACTjD,WAAW,2BACN+C,IADK,IAER7I,QAAS,MACT,YAAa,mCAEfuD,SAAU,GACV4F,kBAAmBP,GACnBs5B,mCAAoCF,IAatC,OACE,qBAAKG,UANW,SAACh6B,GACjB,IAAMmM,EAAUnI,GAAcC,GAC9ByC,EAAY,eAAKyF,KAIUhL,YAXT,SAACnB,GACnBD,GAAUC,EAAUC,IAUiC2B,WAAW,EAAhE,SACE,cAAC,GAAD,CAAWkU,WAAW,UAAUsE,MAAM,eCvCtCkgB,GAAoB,CAAC,QAAS,gBAAiB,QAAS,YAAa,6BAA8B,cAAe,YAAa,aAAc,cAAe,cAAe,YAAa,gBAAiB,cAAe,OAAQ,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,eAAgB,eAAgB,mBAiB7UC,GAAwB,CAC5B35B,QAAS,oBACTjD,WAAY,CACV,YAAa,yCAEfqD,kBAbgC,CAAC,QAAS,MAAO,mBAAoB,gBAAiB,QAAS,YAAa,cAAe,YAAa,aAAc,cAAe,OAAQ,cAAe,YAAa,cAAe,OAAQ,UAAW,iBAAkB,eAAgB,gBAAiB,cAAe,eAAgB,eAAgB,QAAS,MAAO,SAAU,MAAO,SAAU,QAAS,kBAAmB,mBAgBzYw5B,GAAS,WACpB,IAAMv6B,EAAS,CACbW,QAAS,YACTjD,WAAY,CACV,YAAa,iCAEfvC,SAAU,CAAC,2BAEJm/B,IAFG,IAGN58B,WAAW,2BACN48B,GAAsB58B,YADjB,IAERpD,KAAM,mBACNd,KAAM,8BACNtC,IAAK,iDAPD,2BAYHojC,IAZG,IAaN58B,WAAW,2BACN48B,GAAsB58B,YADjB,IAERpD,KAAM,kBACNd,KAAM,+BACNtC,IAAK,gDAjBD,2BAsBHojC,IAtBG,IAuBN58B,WAAW,2BACN48B,GAAsB58B,YADjB,IAERpD,KAAM,kBACNd,KAAM,8BACNtC,IAAK,gDA3BD,2BAgCHojC,IAhCG,IAiCN58B,WAAW,2BACN48B,GAAsB58B,YADjB,IAERpD,KAAM,SACNd,KAAM,8BACNtC,IAAK,gDAIX6J,kBAAmBs5B,IAOrB,OACE,qBAAKn5B,YALa,SAACnB,GACnBD,GAAUC,EAAGC,IAIkB2B,WAAW,EAA1C,SACE,cAAC,GAAD,CAAWkU,WAAW,SAASsE,MAAM,cCvEnCqgB,GAAUC,KAAVD,MAEFE,GAAS,SAAC,GAAkC,IAAhCtyB,EAA+B,EAA/BA,MAChB,OAAO,mBAAG1R,UAAW6N,KAAI6D,MAAlB,SAA0BA,KAGtBuyB,GAAgB,WAC3B,OACE,cAAC,IAAD,CAAY/jC,MAAO,CAAEa,OAAQ,QAAUsB,UAAU,EAAjD,SACE,eAAC,KAAD,CACE6hC,mBAAoB,QACpBC,UAAU,EACV1B,iBAAkB,CAAC,IAAK,KACxBviC,MAAO,CAAEka,gBAAiB,oBAC1BgqB,WAAY,gBAAG99B,EAAH,EAAGA,SAAH,OAAkB,cAAC+9B,GAAA,EAAD,CAAmB9T,OAAQjqB,EAAW,EAAI,OAL1E,UAOE,cAACw9B,GAAD,CAAOQ,OAAQ,cAAC,GAAD,CAAQ5yB,MAAM,wBAA7B,SACE,cAAC,GAAD,KADyD,KAG3D,cAACoyB,GAAD,CAAOQ,OAAQ,cAAC,GAAD,CAAQ5yB,MAAM,wBAA7B,SACE,sBAAK1R,UAAW6N,KAAI02B,WAApB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,QARuD,W,0BC/BpDC,EAAQ,M,SCOjBC,I,QAAkB9kC,YAAO6R,KAAOkzB,MAAM,CAAEhzB,MAAO,WAA7B/R,CAAH,6UAkBfglC,GAAchlC,IAAOC,IAAV,qFAYJe,GAAU,SAAC,GAA8D,IAA5DoX,EAA2D,EAA3DA,QAAS6sB,EAAkD,EAAlDA,cAAeC,EAAmC,EAAnCA,eAAmC,EAC3D5/B,mBAAS,WADkD,mBAC5E+Y,EAD4E,KACtE8mB,EADsE,KASnF,OACE,eAACL,GAAD,CACE1sB,QAASA,EACT/F,SAAU,kBAAM4yB,GAAc,IAC9B7yB,KAAM,kBAAM6yB,GAAc,IAC1B16B,MAAO,QACPhK,MAAO,CAAE+C,IAAK,MAAOhC,SAAU,QAAS8jC,cAAe,MAAOhkC,OAAQ,QACtEikC,UAAW,CAAEjkC,OAAQ,QACrBkkC,UAAW,CAAElkC,OAAQ,QACrBmkC,gBAAgB,EAChBC,OAAQ,KATV,UAWE,cAACR,GAAD,UACE,cAAC,GAAD,CAAY5tB,SAnBD,SAAC1N,GACZA,EAAExG,OAAOgB,OACXihC,EAAQz7B,EAAExG,OAAOgB,QAiBiBA,MAAOma,MAExC6mB,EACC,wBACEnzB,MAAM,UACNxR,MAAO,CAAEklC,OAAQ,YACjBl7B,MAAgB,YAAT8T,EA7DK,QACD,QA6DXjd,OAAO,OACPskC,OAAQR,IAER,SAUJS,GAAa,SAAC,GAA0C,IAAxCvuB,EAAuC,EAAvCA,SAAUlT,EAA6B,EAA7BA,MAC9B,OACE,mCACE,cAAC,KAAM+6B,MAAP,CACE7nB,SAAUA,EACVlT,MAAOA,EACP0hC,QAAS,CACP,CAAE9hB,MAAO,UAAW5f,MAAO,WAC3B,CAAE4f,MAAO,SAAU5f,MAAO,WAE5B2hC,YAAY,QACZC,WAAW,cC5EXzH,I,OAAY0H,KAAZ1H,SAGK9D,IAFO1oB,IAAZC,QAEc,WAAO,IACnBnE,EAAaqF,KAAbrF,SADkB,EAEIrI,oBAAS,GAFb,mBAEnBvB,EAFmB,KAEViiC,EAFU,KAI1B11B,qBAAU,WAER1B,GAASq3B,UACR,IA0BH,OACE,eAAC,IAAD,CAAK1lC,MAAO,CAAEa,OAAQ,OAAQmJ,MAAO,QAAU3H,QAAQ,SAAvD,UACE,cAAC,IAAD,CAAKK,GAAI,GAAIijC,GAAI,EAAjB,SACE,qBAAK3lC,MAAO,CAAEuC,UAAW,SAAUvB,QAAS,OAAQwB,WAAY,OAAhE,SACE,6GAAgF,IAAhF,kBAGJ,eAAC,IAAD,CAAKY,GAAI,EAAGuiC,GAAI,GAAhB,UACE,cAAC,GAAD,CACE9tB,QAASrU,EACTkhC,cAAe,SAACkB,GAAD,OAAUH,EAAWG,IACpCjB,eAAgBnhC,EAAUk5B,KAAUtvB,GAAU2O,KAAO,KAEvD,eAAC,KAAD,CAAQ/b,MAAO,CAAEa,OAAQ,QAAzB,UACE,cAAC,KAAD,CACEglC,OAAO,EACPC,OAAQ,kBAAM32B,OAAOvP,QAAQmmC,QAC7Bv0B,MAAM,OACNw0B,SAAS,GACThmC,MAAO,CAAEimC,aAAc,qBACvBC,MAAO,CACL,qCAKE,cAAC,IAAD,CAAgBhmC,QAAS,kBAAMulC,GAAW,IAA1C,oBAAY,KAGZ,cAAC,IAAD,CAAgBvlC,QArDF,SAACiJ,GAC3BA,EAAE8M,iBACF,IAAM8F,EAAO2gB,KAAUtvB,GAAU2O,KACjCoqB,UAAUC,UAAUC,UAAUtqB,GAC9B1U,EAAW,OAAQ0U,GACnB0b,GAAQ,8CAgDI,yBAAY,KAGZ,cAAC,IAAD,CAAgBv3B,QAzCF,SAACiJ,GAC3BA,EAAE8M,iBACF,IAAMqwB,EAAU58B,KAAKC,UAAU+D,GAAWjD,IAAE0D,UAAUf,KACtD+4B,UAAUC,UAAUC,UAAUC,GAC9Bj/B,EAAW,OAAQi/B,GAEnB7O,GAAQ,8CAmCI,yBAAY,WAMlB,cAAC,GAAD,UACE,sBAAK33B,UAAW6N,KAAI8L,OAApB,UACE,qBAAK3Z,UAAW6N,KAAI44B,KAApB,SACE,cAAC,GAAD,MAEF,qBAAKzmC,UAAW6N,KAAI64B,KAApB,SACE,cAAC,GAAD,MAEF,qBAAK1mC,UAAW6N,KAAI7G,WAApB,SACE,cAAC,GAAD,sBC3ED2/B,GAhBK,kBAClB,cAACz0B,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,iBCbC00B,GCEC,WACd,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAAChgC,KAAM,CAAC,GAAI,SAAUigC,UAAW9kC,IAC7C,cAAC,IAAD,CAAO6E,KAAK,wBAAwBigC,UAAW5M,KAC/C,cAAC,IAAD,CAAOrzB,KAAK,IAAZ,SACE,cAAC,IAAD,CAAUmsB,GAAG,Y,6CCcG+T,GANVC,aAAY,CACxBpjC,KAAM,YACN8L,aAlBmB,CACnBu3B,UAAW,CACT,CACEpmC,GAAI,SACJ6C,QAAS,iCAEX,CACE7C,GAAI,QACJ6C,QAAS,iCAEX,CACE7C,GAAI,OACJ6C,QAAS,mCAObwjC,SAAU,KAGGC,Q,SCjBTC,GAAQC,aAAe,CAC3BF,SAAO,sBAAKhmC,EAAQmmC,YAAcnmC,EAAQgmC,SAAnC,+BAA0DJ,IAA1D,IACPQ,WAAY,SAACC,GAAD,OAA0BA,IAAuBC,OAAOtmC,EAAQomC,eAMjEG,GAAoB,SAAC,GAAkB,IAAhBjjC,EAAe,EAAfA,SAClC,OAAO,cAAC,KAAD,CAAU2iC,MAAOA,GAAjB,SAAyB3iC,KCInBkjC,OAZf,WACE,OACE,cAAC,GAAD,UACE,cAAC,IAAD,UACE,qBAAK3nC,UAAU,SAAf,SACE,cAAC4nC,GAAD,WCCKC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqBn3B,MAAK,YAAkD,IAA/Co3B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFlyB,SAASmyB,eAAe,SAM1BX,M,2GCfAroC,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,uBAAuB,KAAO,qBAAqB,WAAa,2BAA2B,WAAa,2BAA2B,KAAO,qBAAqB,QAAU,wBAAwB,eAAiB,+BAA+B,KAAO,qBAAqB,WAAa,2BAA2B,MAAQ,yB","file":"static/js/main.91a713b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UiWrapper_wrapper__23xNH\",\"container\":\"UiWrapper_container__2hsjd\",\"button\":\"UiWrapper_button__25Pv1\",\"text\":\"UiWrapper_text__3oy98\",\"image\":\"UiWrapper_image__3F-94\",\"html\":\"UiWrapper_html__12ygP\",\"spacer\":\"UiWrapper_spacer__1yYqc\",\"divider\":\"UiWrapper_divider__B19qo\",\"social\":\"UiWrapper_social__3MvUF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-modal\":\"Preview_ant-modal__3_7T8\",\"andt-modal-centered\":\"Preview_andt-modal-centered__3GZwp\"};","export default __webpack_public_path__ + \"static/media/new_template.3bcc1262.svg\";","import { Button } from 'antd';\nimport styled from 'styled-components';\nimport { PlusOutlined } from '@ant-design/icons';\nimport newTemplate from '../../Assets/Images/new_template.svg';\nimport { useHistory } from 'react-router';\nimport { ReactNode } from 'react';\n\ninterface PreviewProps {\n  image?: string;\n  skeleton?: ReactNode;\n  id: string;\n}\n\nconst PreviewContainer = styled.div`\n  flex: 1 1 0%;\n  border: 0.4px solid rgb(225, 230, 242);\n  filter: drop-shadow(rgba(0, 0, 0, 0.08) 4px 4px 4px);\n  max-height: 500px;\n  min-height: 150px;\n  height: min-content;\n  max-width: 280px;\n  overflow: hidden;\n  border-radius: 4px;\n  margin-bottom: 25px;\n  transition: all 0.2s ease 0s;\n  position: relative;\n  text-align: center;\n  margin: 0 auto;\n\n  .hoverItem {\n    display: none;\n    position: absolute;\n    inset: 0px;\n    background: rgba(255, 255, 255, 0.9);\n    padding: 20px;\n    flex-direction: column;\n    .content {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .hoverItem.alwaysActive {\n    display: flex;\n    background: unset;\n  }\n\n  &:hover {\n    box-shadow: rgb(0 0 0 / 15%) 0px 5px 20px;\n    .hoverItem {\n      display: flex;\n    }\n  }\n\n  img,\n  .newTemplate {\n    max-width: 280px;\n  }\n  .newTemplate {\n    max-height: 500px;\n    min-height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 60px;\n  }\n\n  .btn-choose {\n    padding: 8px 16px;\n    text-transform: capitalize;\n  }\n`;\n\nexport const NewItem = () => {\n  const history = useHistory();\n  const onClick = () => {\n    history.push(`template/new`);\n  };\n  return (\n    <PreviewContainer>\n      <div className=\"newTemplate\">\n        <PlusOutlined style={{ fontSize: '40px' }} />\n      </div>\n      <div className=\"hoverItem alwaysActive\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            New Template\n          </Button>\n        </div>\n      </div>\n      <div>\n        <img src={newTemplate} alt=\"img new template\" />\n      </div>\n    </PreviewContainer>\n  );\n};\n\nconst Preview = ({ image, id, skeleton }: PreviewProps) => {\n  const history = useHistory();\n  const onClick = () => {\n    history.push(`template/${id}`);\n  };\n  return (\n    <PreviewContainer>\n      {skeleton ? (\n        <div style={{ height: '350px', minWidth: '280px', maxWidth: '280px', padding: '24px 24px' }}>{skeleton}</div>\n      ) : (\n        <img height=\"350px\" src={image} alt=\"preview\" />\n      )}\n      <div className=\"hoverItem\">\n        <div className=\"content\">\n          <Button onClick={onClick} size=\"large\" type=\"primary\" className=\"btn-choose\">\n            choose\n          </Button>\n        </div>\n      </div>\n    </PreviewContainer>\n  );\n};\nexport { Preview };\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport interface ListTemplateResponse {\n  response: ListTemplateInfo[];\n}\n\nexport interface ListTemplateInfo {\n  preview: string;\n  docRef: string;\n  id: number;\n}\n\nexport interface getTemplateRequest {\n  id: string;\n}\n\nexport interface getTemplateResponse {\n  response: Response;\n}\nexport interface Response {\n  date: string;\n  docRef: string;\n  data: string;\n}\n\nexport const DndeApi = createApi({\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API }),\n  endpoints: (builder) => ({\n    getTemplates: builder.query<ListTemplateResponse, void>({\n      query: () => `templates/`,\n    }),\n    getTemplate: builder.query<getTemplateResponse, getTemplateRequest>({\n      query: ({ id }) => `templates/${id}`,\n    }),\n  }),\n});\n\nexport const { useGetTemplatesQuery, useLazyGetTemplateQuery } = DndeApi;\n","import { NewItem, Preview } from './Preview';\nimport './List.scss';\nimport { useGetTemplatesQuery } from '../../Api/api';\nimport { Col, Row, Skeleton } from 'antd';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { GithubFilled } from '@ant-design/icons';\n\nconst List = () => {\n  const { data, isLoading, isError, isSuccess } = useGetTemplatesQuery();\n\n  return (\n    <Scrollbars autoHide={true} style={{ height: '100%' }}>\n      <div className=\"template\">\n        <Row align=\"middle\" justify=\"center\" className=\"header\">\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col>\n                <span className=\"title\">Dnde</span>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col style={{ textAlign: 'center' }}>\n                <span className=\"subtitle\">\n                  Drag and Drop Editor tailored for <b>Mails</b>\n                </span>\n              </Col>\n            </Row>\n          </Col>\n          <Col style={{ paddingTop: '24px' }} span={24}>\n            <Row align=\"middle\" justify=\"center\">\n              <Col className=\"info\" md={24} lg={10} style={{ textAlign: 'center' }}>\n                <span>\n                  All features are optimised for mails, work flexibly through import/export, with responsive design for\n                  all devices.\n                </span>\n                <br />\n\n                <a target=\"_blank\" href=\"https://github.com/aghontpi/dnde\">\n                  <span>\n                    Check it on Github <GithubFilled style={{ position: 'relative', top: '4px', fontSize: '32px' }} />\n                  </span>\n                </a>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n\n        <Row className=\"choose-template\" align=\"middle\" gutter={[0, 8]} justify=\"center\">\n          <Col span={16}>\n            <span className=\"title\">Choose a template and get started.</span>\n          </Col>\n          <Col span={16}>\n            <span className=\"subtitle\">All templates are redesigned in dnde, using original mail as reference.</span>\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" className=\"template-list\" gutter={[0, 40]}>\n          <Col lg={6}>\n            <NewItem />\n          </Col>\n          {isLoading &&\n            [1, 2].map((item, key) => {\n              return (\n                <Col xs={24} md={12} lg={6} style={{ textAlign: 'center' }}>\n                  <Preview\n                    key={key}\n                    id={'8x93dummy'}\n                    skeleton={\n                      <>\n                        <Skeleton active={true} />\n                        <Skeleton active={true} />\n                      </>\n                    }\n                  />\n                </Col>\n              );\n            })}\n          {isSuccess && data\n            ? data.response.map((item, key) => {\n                return (\n                  <Col lg={6}>\n                    <Preview key={key} id={item.docRef} image={item.preview} />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </div>\n    </Scrollbars>\n  );\n};\n\nexport { List };\n","export const FONTS_CONFIG = [\n  { name: 'Roboto', value: 'https://fonts.googleapis.com/css2?family=Roboto&display=swap' },\n  { name: 'Festive', value: 'https://fonts.googleapis.com/css2?family=Festive&display=swap' },\n  { name: 'Noto Sans Mono', value: 'https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap' },\n  { name: 'Open Sans', value: 'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap' },\n  { name: 'Andada Pro', value: 'https://fonts.googleapis.com/css2?family=Andada+Pro&display=swap' },\n  { name: 'Lato', value: 'https://fonts.googleapis.com/css2?family=Lato&display=swap' },\n  { name: 'Scheherazade New', value: 'https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap' },\n  { name: 'Montserrat', value: 'https://fonts.googleapis.com/css2?family=Montserrat&display=swap' },\n  { name: 'Roboto Condensed', value: 'https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap' },\n  { name: 'Source Sans Pro', value: 'https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap' },\n  { name: 'Poppins', value: 'https://fonts.googleapis.com/css2?family=Poppins&display=swap' },\n  { name: 'Oswald', value: 'https://fonts.googleapis.com/css2?family=Oswald&display=swap' },\n  { name: 'Noto sans', value: 'https://fonts.googleapis.com/css2?family=Noto+sans&display=swap' },\n  { name: 'Georama', value: 'https://fonts.googleapis.com/css2?family=Georama&display=swap' },\n  { name: 'Roboto Mono', value: 'https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap' },\n  { name: 'Raleway', value: 'https://fonts.googleapis.com/css2?family=Raleway&display=swap' },\n  { name: 'Nunito', value: 'https://fonts.googleapis.com/css2?family=Nunito&display=swap' },\n  { name: 'Roboto Slab', value: 'https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap' },\n  { name: 'PT Sans', value: 'https://fonts.googleapis.com/css2?family=PT+Sans&display=swap' },\n  { name: 'Merriweather', value: 'https://fonts.googleapis.com/css2?family=Merriweather&display=swap' },\n  { name: 'Playfair Display', value: 'https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap' },\n  { name: 'Lora', value: 'https://fonts.googleapis.com/css2?family=Lora&display=swap' },\n  { name: 'Rubix', value: 'https://fonts.googleapis.com/css2?family=Rubix&display=swap' },\n  { name: 'IM Fell English SC', value: 'https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap' },\n  { name: 'Open Sans Condensed', value: 'https://fonts.googleapis.com/css2?family=Open+Sans+Condensed&display=swap' },\n  { name: 'Inter', value: 'https://fonts.googleapis.com/css2?family=Inter&display=swap' },\n  { name: 'Nunito Sans', value: 'https://fonts.googleapis.com/css2?family=Nunito+Sans&display=swap' },\n  { name: 'Work Sans', value: 'https://fonts.googleapis.com/css2?family=Work+Sans&display=swap' },\n  { name: 'Quicksand', value: 'https://fonts.googleapis.com/css2?family=Quicksand&display=swap' },\n  { name: 'Fira Sans', value: 'https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap' },\n];\n","import { createContext, FC, useEffect, useMemo, useRef } from 'react';\n\nconst def = {\n  mutableAttributes: {},\n  id: '',\n  type: '',\n};\n\nexport const DragAndCropContext = createContext<any>(def);\n\nexport const DNDContext: FC = (props) => {\n  const ref = useRef(1);\n\n  const genId = () => {\n    if (ref.current && typeof ref.current === 'number') {\n      return ++ref.current;\n    }\n  };\n\n  return <DragAndCropContext.Provider value={{ genId }}>{props.children}</DragAndCropContext.Provider>;\n};\n","import { useContext } from 'react';\nimport { DragAndCropContext } from '../Context/DragAndDrop.context';\n\nconst useDragAndDropUniqueId = () => {\n  const { genId } = useContext(DragAndCropContext);\n  return {\n    getId: () => genId(),\n  };\n};\n\nexport { useDragAndDropUniqueId, useDragAndDropUniqueId as useUniqueIdGenerator };\n","import { createContext, FC, useRef, useState } from 'react';\n\nexport const CkeditorContext = createContext<any>(null);\n\nexport const Ckeditor: FC = (props) => {\n  const editorRef = useRef(null);\n  const ckeditorInstance = useRef(null);\n  const [editorActive, setActive] = useState(false);\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [delActive, setDelActive] = useState(false);\n  const [delX, setDelX] = useState(0);\n  const [delY, setDelY] = useState(0);\n  const [copyActive, setCopyActive] = useState(false);\n  const [copyX, setCopyX] = useState(0);\n  const [copyY, setCopyY] = useState(0);\n  const [isColumn, setIsColumn] = useState(false);\n\n  // should only be one instance, only manipulate the locations\n  return (\n    <CkeditorContext.Provider\n      value={{\n        ref: editorRef,\n        isActive: editorActive,\n        setActive,\n        x,\n        y,\n        setX,\n        setY,\n        delX,\n        delY,\n        setDelX,\n        setDelY,\n        drag: {\n          isColumn,\n          setIsColumn,\n        },\n        copy: {\n          copyActive,\n          setCopyActive,\n          copyX,\n          setCopyX,\n          copyY,\n          setCopyY,\n        },\n        delActive,\n        setDelActive,\n        ckeditorInstance,\n      }}\n    >\n      {props.children}\n    </CkeditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CkeditorContext } from '../Context/Ckeditor.context';\n\nexport const useCkeditor = () => {\n  const Ckeditor = useContext(CkeditorContext);\n  return Ckeditor as unknown as {\n    ref: any;\n    isActive: boolean;\n    setActive: (arg: boolean) => void;\n    x: number;\n    y: number;\n    setX: (arg: number) => void;\n    setY: (arg: number) => void;\n    delX: number;\n    delY: number;\n    setDelX: (arg: number) => void;\n    setDelY: (arg: number) => void;\n    delActive: boolean;\n    setDelActive: (arg: boolean) => void;\n    ckeditorInstance: any;\n    drag: {\n      isColumn: boolean;\n      setIsColumn: (arg: boolean) => void;\n    };\n    copy: {\n      copyActive: boolean;\n      setCopyActive: (arg: boolean) => void;\n      copyX: number;\n      copyY: number;\n      setCopyX: (arg: number) => void;\n      setCopyY: (arg: number) => void;\n    };\n  };\n};\n","export const findElementInJson = (mjmljson: any, classidentifier: any, path = ''): any => {\n  if (mjmljson === undefined) {\n    return null;\n  }\n  const element = mjmljson;\n  if (element.attributes && element.attributes['css-class']) {\n    const classNames: string = element.attributes['css-class'];\n    if (classNames.includes(classidentifier)) {\n      return [element, path];\n    }\n  }\n  if (element.children) {\n    for (var i = 0; i < element.children.length; i++) {\n      const child = element.children[i];\n      const res = findElementInJson(child, classidentifier, path + `.children[${i}]`);\n      if (res) {\n        return res;\n      }\n    }\n  }\n\n  return null;\n};\n","const logger = {\n  log: (...args: any) => {\n    console.log(args);\n  },\n  error: (...args: any) => {\n    console.error(args);\n  },\n  info: (...args: any) => {\n    console.info(args);\n  },\n};\n\nexport { logger };\n","import { findElementInJson } from './findElementInMjmlJson';\nimport { findColumnOfElement } from './findElementsParent';\nimport { logger } from './logger';\n\nconst findClosestParent = (element: HTMLElement) => {\n  const closest = element.closest('.mjml-tag');\n  let uniqueClassName = null;\n\n  if (!closest) {\n    logger.info('unable to find closest');\n    return uniqueClassName;\n  }\n\n  uniqueClassName = findUniqueIdentifier(closest, closest.classList);\n\n  if (!uniqueClassName) {\n    logger.info('unable to find identifier');\n  }\n\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifier = (element: Element, classlist: DOMTokenList, identifier = 'identifier-mj') => {\n  let uniqueClassName = null;\n  for (var i = 0; classlist && i < classlist.length; i++) {\n    const current = classlist[i];\n    if (current.includes(identifier)) {\n      uniqueClassName = current;\n      break;\n    }\n  }\n  return uniqueClassName;\n};\n\nconst findUniqueIdentifierFromString = (classList: string) => {\n  return findUniqueIdentifier(null as unknown as Element, classList.split(' ') as unknown as DOMTokenList);\n};\n\nconst replaceGeneicTagWithUniqueId = (classNames: string, uid: string) => {\n  let updatedClassNames = '';\n  if (typeof classNames !== 'string') {\n    logger.log(`classNames should be string while generating uniqueIdentifier, but found ${typeof classNames} instead`);\n    return null;\n  }\n  let classNamesArr = classNames.split(' ');\n  for (var i = 0; i < classNamesArr.length; i++) {\n    let current = classNamesArr[i];\n    if (current.includes('identifier-mj')) {\n      current = current.trim();\n\n      // checking if the element has already uniqueId,\n      //   if it has, instead of appending uid to tag, need to replace it.\n      const regexMatch = current.match(/-(\\d+)/); // regex match number after '-'\n      const log = current;\n      if (regexMatch) {\n        current = current.replace(regexMatch[0], `-${uid}`);\n      } else {\n        current = ` ${current}-${uid}`;\n      }\n      logger.log(`generating-tag: ${log} -> ${current} `);\n    }\n    updatedClassNames += ` ${current}`;\n  }\n  return updatedClassNames;\n};\n\n// section with different columns are stored in config without unqiueId's,\n//   replacing those with unqiueIds (only for mj-columns).\nconst generateUniqueIdRecursively = (item: any, uidGenerator: () => string): any => {\n  if (!item) {\n    return;\n  }\n\n  for (var i = 0; item['children'] && i < item['children'].length; i++) {\n    item['children'][i] = generateUniqueIdRecursively(item['children'][i], uidGenerator);\n  }\n\n  let attr = item['attributes'];\n  if (attr) {\n    let css_class = attr['css-class'];\n    css_class = replaceGeneicTagWithUniqueId(css_class, uidGenerator());\n    attr['css-class'] = css_class;\n  }\n\n  item['attributes'] = attr;\n\n  return item;\n};\n\nconst findIndexOfIdentifierInChildren = (children: [any], uniqueIdentifier: string) => {\n  for (var i = 0; uniqueIdentifier && children && children.length > 0 && i < children.length; i++) {\n    const child = children[i];\n    if (child && child['attributes'] && child['attributes']['css-class'].includes(uniqueIdentifier)) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nconst getIndexOfElementInParent = (node: HTMLElement, mjmlJson: any, uniqueIdentifier: string) => {\n  let index = -1;\n  let parent = node.closest('.mjml-tag');\n  // closest can be he same node, so go to parent\n  if (parent === node) {\n    parent = node.parentElement;\n  }\n\n  // element must be outside of column\n  while (index === -1 && parent) {\n    const parentUniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (parentUniqueIdentifier) {\n      let element = findElementInJson(mjmlJson, parentUniqueIdentifier);\n      if (element) {\n        [element] = element;\n        index = findIndexOfIdentifierInChildren(element.children, uniqueIdentifier);\n        if (index !== -1) {\n          break;\n        }\n      }\n    }\n\n    const next_parent = parent.closest('.mjml-tag');\n    if (next_parent && next_parent === parent) {\n      if (parent.parentElement) {\n        parent = parent.parentElement.closest('.mjml-tag');\n      }\n    } else {\n      parent = next_parent;\n    }\n  }\n\n  const parentIdentifier = parent && parent.classList ? findUniqueIdentifier(parent, parent.classList) : null;\n  return [index, parentIdentifier];\n};\n\nexport {\n  findClosestParent,\n  findUniqueIdentifier,\n  findUniqueIdentifierFromString,\n  replaceGeneicTagWithUniqueId,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n};\n","const dragStart = (e: DragEvent, config: any) => {\n  if (e && e.dataTransfer) {\n    e.dataTransfer.effectAllowed = 'move';\n    const draggingItem = e.target as HTMLElement;\n    e.dataTransfer.setDragImage(draggingItem, -5, -5);\n    e.dataTransfer.setData('config', JSON.stringify(config));\n  }\n};\n\nexport { dragStart };\n","import { Row } from 'antd';\nimport _, { floor } from 'lodash';\nimport { Fragment, SyntheticEvent } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { dragStart } from '../Utils/dragStart';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['background-color', 'background-position', 'background-position-x', 'background-position-y', 'background-repeat', 'background-size', 'background-url', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'css-class', 'direction', 'full-width', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'text-align'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"background-color\": \"\", \"background-position\": \"top center\", \"background-position-x\": \"none\", \"background-position-y\": \"none\", \"background-repeat\": \"repeat\", \"background-size\": \"auto\", \"background-url\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"css-class\": \"\", \"direction\": \"ltr\", \"full-width\": \"\", \"padding\": \"20px 0\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"text-align\": \"center\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"};\n\n// prettier-ignore\nconst properties_column = [\"background-color\", \"inner-background-color\", \"border\", \"border-bottom\", \"border-left\", \"border-right\", \"border-top\", \"border-radius\", \"inner-border\", \"inner-border-bottom\", \"inner-border-left\", \"inner-border-right\", \"inner-border-top\", \"inner-border-radius\", \"width\", \"vertical-align\", \"padding\", \"padding-top\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"css-class\"]\n\n// prettier-ignore\nconst properties_with_default_values_column = {\"background-color\": \"\", \"inner-background-color\": \"\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-right\": \"\", \"border-top\": \"\", \"border-radius\": \"\", \"inner-border\": \"\", \"inner-border-bottom\": \"\", \"inner-border-left\": \"\", \"inner-border-right\": \"\", \"inner-border-top\": \"\", \"inner-border-radius\": \"\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\", \"padding\": \"\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values_column = {\"border\": \"none\", \"width\": \"(100 / number of non-raw elements in section)%\", \"vertical-align\": \"top\"}\n\nexport const columnPlaceholder = [\n  {\n    tagName: 'mj-image',\n    attributes: {\n      src: 'https://dev.bluepie.in/assets/87583817874843.svg',\n      'css-class': 'mj-placeholder',\n      width: '120px',\n    },\n  },\n  {\n    tagName: 'mj-text',\n    attributes: {\n      'padding-top': '0px',\n      'font-size': '16px',\n      align: 'center',\n      'css-class': 'mj-placeholder',\n    },\n    content: 'drag and drop a content block here!',\n  },\n];\n\nexport const COLUMN = {\n  tagName: 'mj-column',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-column',\n    padding: '0px 0px',\n  },\n  children: [...columnPlaceholder],\n  mutableProperties: properties_column,\n};\n\nexport const Section = () => {\n  let config = {\n    tagName: 'mj-section',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-section',\n      'border-radius': '0px',\n      'background-color': '#fff',\n      'text-align': 'center',\n    },\n    children: [],\n    cannot_have: ['mj-section', 'mj-column'], // 'https://documentation.mjml.io/#mj-column' Columns cannot be nested into columns, and sections cannot be nested into columns as well.\n    mutableProperties: properties,\n  };\n\n  const {\n    drag: { setIsColumn },\n  } = useCkeditor();\n\n  const onDragStart = (e: DragEvent) => {\n    const target = e.target as Element;\n    const identifier = findUniqueIdentifier(target, target.classList, 'mj-columns');\n    if (identifier) {\n      const match = identifier.match(/mj-columns-(.*)/);\n      if (match) {\n        let count = parseInt(match[1]);\n        let children = [];\n        while (count > 0) {\n          children.push(COLUMN);\n          count--;\n        }\n        config = _.set(config, 'children', children);\n      }\n    }\n    dragStart(e as any, config);\n    setIsColumn(true);\n  };\n\n  let dynamicRenderer = [1, 2, 3, 4].map((value, index) => {\n    return (\n      <Fragment key={value}>\n        <SectionTitle key={value + index + 'title'}>\n          <p>{value} Column</p>\n        </SectionTitle>\n        <SectionImage\n          key={value + index + 'section'}\n          className={`mj-columns-${value}`}\n          draggable={true}\n          onDragStart={onDragStart}\n        >\n          <div className={`wrapper`}>\n            <div className=\"border\">\n              <Generator length={value} />\n            </div>\n          </div>\n        </SectionImage>\n      </Fragment>\n    );\n  });\n  return <>{dynamicRenderer}</>;\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nconst Generator = ({ length }: { length: number }) => {\n  let content = [];\n  const flexGrow = floor(100 / length);\n\n  for (let i = 0; i < length; i++) {\n    content.push(\n      <div\n        key={i + flexGrow}\n        style={{\n          display: 'flex',\n          flexGrow,\n          height: '16px',\n          borderRight: i === length - 1 ? '' : '1px solid rgb(85, 85, 85)',\n          borderRadius: '0px',\n        }}\n      ></div>\n    );\n  }\n  return <>{content}</>;\n};\n","/**\n *  was unable to handle latin1 characters in the btoa,\n *  thus including this base64 library\n *\n *  Base64 encode / decode\n *  http://www.webtoolkit.info\n *\n **/\nexport const Base64 = {\n  // private property\n  _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n\n  // public method for encoding\n  encode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = Base64._utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output =\n        output +\n        this._keyStr.charAt(enc1) +\n        this._keyStr.charAt(enc2) +\n        this._keyStr.charAt(enc3) +\n        this._keyStr.charAt(enc4);\n    } // Whend\n\n    return output;\n  }, // End Function encode\n\n  // public method for decoding\n  decode: function (input) {\n    var output = '';\n    var chr1, chr2, chr3;\n    var enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n    while (i < input.length) {\n      enc1 = this._keyStr.indexOf(input.charAt(i++));\n      enc2 = this._keyStr.indexOf(input.charAt(i++));\n      enc3 = this._keyStr.indexOf(input.charAt(i++));\n      enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n\n      output = output + String.fromCharCode(chr1);\n\n      if (enc3 != 64) {\n        output = output + String.fromCharCode(chr2);\n      }\n\n      if (enc4 != 64) {\n        output = output + String.fromCharCode(chr3);\n      }\n    } // Whend\n\n    output = Base64._utf8_decode(output);\n\n    return output;\n  }, // End Function decode\n\n  // private method for UTF-8 encoding\n  _utf8_encode: function (string) {\n    var utftext = '';\n    string = string.replace(/\\r\\n/g, '\\n');\n\n    for (var n = 0; n < string.length; n++) {\n      var c = string.charCodeAt(n);\n\n      if (c < 128) {\n        utftext += String.fromCharCode(c);\n      } else if (c > 127 && c < 2048) {\n        utftext += String.fromCharCode((c >> 6) | 192);\n        utftext += String.fromCharCode((c & 63) | 128);\n      } else {\n        utftext += String.fromCharCode((c >> 12) | 224);\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n        utftext += String.fromCharCode((c & 63) | 128);\n      }\n    } // Next n\n\n    return utftext;\n  }, // End Function _utf8_encode\n\n  // private method for UTF-8 decoding\n  _utf8_decode: function (utftext) {\n    var string = '';\n    var i = 0;\n    var c, c1, c2, c3;\n    c = c1 = c2 = 0;\n\n    while (i < utftext.length) {\n      c = utftext.charCodeAt(i);\n\n      if (c < 128) {\n        string += String.fromCharCode(c);\n        i++;\n      } else if (c > 191 && c < 224) {\n        c2 = utftext.charCodeAt(i + 1);\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n        i += 2;\n      } else {\n        c2 = utftext.charCodeAt(i + 1);\n        c3 = utftext.charCodeAt(i + 2);\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n        i += 3;\n      }\n    } // Whend\n\n    return string;\n  }, // End Function _utf8_decode\n};\n","import _ from 'lodash';\nimport { columnPlaceholder } from '../Components/Section';\nimport { PageHeaderItems } from '../Context/Editor.context';\nimport { Base64 } from '../Lib/base64';\nimport { generateUniqueIdRecursively } from './closestParent';\n\nconst cleanMjmlJson = (mjmlJson: any, ignore: string = '') => {\n  if (!mjmlJson) {\n    return null;\n  }\n\n  if (mjmlJson['attributes'] && mjmlJson['attributes']['css-class']) {\n    const cssClass = mjmlJson['attributes']['css-class'];\n    if (cssClass.includes('placeitem-placeholder')) {\n      return null;\n    }\n  }\n\n  // before processing children, if the parent has ignore class, then dont process its children\n  //  the active item being hovered on is passed as ignore, (specifically the column of the active item being hovered)\n  const isIgnoring =\n    ignore &&\n    mjmlJson['attributes'] &&\n    mjmlJson['attributes']['css-class'] &&\n    mjmlJson['attributes']['css-class'].includes(ignore);\n\n  let newChildren: any = [];\n  for (var i = 0; mjmlJson['children'] && i < mjmlJson['children'].length; i++) {\n    const item = mjmlJson['children'][i];\n\n    const result = isIgnoring ? item : cleanMjmlJson(item, ignore);\n    if (result) {\n      newChildren.push(result);\n    }\n  }\n\n  // if the children is column and its length is 0,\n  //  then add a placeholder to the column\n  if (mjmlJson && mjmlJson['tagName'] === 'mj-column' && newChildren.length === 0) {\n    newChildren.push(...columnPlaceholder);\n  }\n\n  if (newChildren.length) {\n    mjmlJson['children'] = newChildren;\n  }\n\n  return mjmlJson;\n};\n\nconst exportJson = (input: any, build: any = {}) => {\n  if (!input) {\n    return;\n  }\n\n  // todo: remove addtional properties too, then write a seperate deserializer to include it back in\n\n  if (input['attributes'] && input['attributes']['css-class']) {\n    let css = input['attributes']['css-class'];\n    css = css.split(' ');\n    let newCss = [];\n    for (var i = 0; i < css.length; i++) {\n      const current: string = css[i];\n      if (\n        current.includes('identifier-mj') ||\n        current.includes('mj-placeholder') ||\n        current.includes('placeitem-placeholder')\n      ) {\n        continue;\n      }\n      newCss.push(current);\n    }\n    if (newCss.length) {\n      css = newCss.join(' ');\n    }\n  }\n\n  if (input['content']) {\n    // input['content'] = input['content'].replace(/\"/g, '\\\\\"');\n    input['content'] = Base64.encode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = exportJson(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n};\n\nfunction replaceContent(input: any) {\n  if (!input) {\n    return;\n  }\n\n  if (input['content']) {\n    input['content'] = Base64.decode(input['content']);\n  }\n\n  let children: any = [];\n  for (let i = 0; input['children'] && i < input['children'].length; i++) {\n    const child = input['children'][i];\n    const _ = replaceContent(child);\n    if (_) {\n      children.push(_);\n    }\n  }\n\n  if (children.length) {\n    input['children'] = children;\n  }\n\n  return input;\n}\n\nconst importJson = (input: any, idGenerator: () => string, rawContent: boolean = false) => {\n  let regeneratedIdJson = generateUniqueIdRecursively(input, idGenerator);\n\n  // remove existing header items nd create new header items.\n  // remove fonts and inject the new fonts later.\n  if (\n    regeneratedIdJson &&\n    regeneratedIdJson.tagName &&\n    regeneratedIdJson.tagName === 'mjml' &&\n    regeneratedIdJson.children &&\n    regeneratedIdJson.children.length > 1\n  ) {\n    regeneratedIdJson.children[0].children = _.cloneDeep(PageHeaderItems);\n  }\n\n  return rawContent ? regeneratedIdJson : replaceContent(regeneratedIdJson);\n};\n\nexport { cleanMjmlJson, exportJson, importJson };\n","import _ from 'lodash';\nimport { logger } from './logger';\n\nclass UndoRedo {\n  public undo: any[];\n  redo: any[];\n\n  constructor() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public newAction(action: any) {\n    if (this.undo.length > 0 && _.isEqual(action, this.peekUndo())) {\n      logger.log('undoredo: prev action and new action are same, not performing action');\n      return;\n    }\n    this.undo.push(this.copy(action));\n    this.storeToLocalStorage();\n    this.redo = [];\n  }\n\n  public undoAction(current: any = false): any {\n    if (this.undo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.undo.pop());\n    this.redo.push(itemToApply);\n\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: undo action but view and current are same, proceeding one more step');\n      return this.undoAction(current);\n    }\n\n    return itemToApply;\n  }\n\n  public redoAction(current: any = false): any {\n    if (this.redo.length < 1) {\n      return false;\n    }\n\n    const itemToApply = this.copy(this.redo.pop());\n    this.undo.push(itemToApply);\n    if (current && _.isEqual(itemToApply, current)) {\n      logger.log('undoredo: redo action but view and current are same, proceeding one more step');\n      return this.redoAction(current);\n    }\n    return itemToApply;\n  }\n\n  public peekUndo() {\n    let peek: any | boolean = false;\n    if (this.undo.length > 0) {\n      peek = this.copy(this.undo[this.undo.length - 1]);\n    }\n    return peek;\n  }\n\n  public peekRedo() {\n    let peek: any | boolean = false;\n    if (this.redo.length > 0) {\n      peek = this.redo[this.redo.length - 1];\n    }\n    return peek;\n  }\n\n  public isUndoEmpty() {\n    return this.undo.length === 0;\n  }\n\n  public isRedoEmpty() {\n    return this.redo.length === 0;\n  }\n\n  public reset() {\n    this.undo = [];\n    this.redo = [];\n  }\n\n  public print() {\n    logger.log('undoredo: ', this.undo, this.redo);\n  }\n\n  private storeToLocalStorage() {\n    try {\n      localStorage.setItem('actions', JSON.stringify(this.undo));\n    } catch (e) {\n      logger.log('undoredo: error storing to local storage');\n      logger.log('undoredo: it is possible this occured due to storage limit in localStorage,truncating undo');\n      this.undo = [this.undo[this.undo.length - 1]];\n      localStorage.setItem('actions', JSON.stringify(this.undo));\n    }\n  }\n\n  private copy(item: any) {\n    return _.cloneDeep(item);\n  }\n}\n\nvar UNDOREDO = new UndoRedo();\n\n(window as any).UNDOREO = UNDOREDO;\n\nexport { UNDOREDO };\n","import { Button, Input, Popover, Select } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useRef, useState } from 'react';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../../Hooks/CustomEditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  FontColorsOutlined,\n  BoldOutlined,\n  ItalicOutlined,\n  UnderlineOutlined,\n  BgColorsOutlined,\n  LinkOutlined,\n} from '@ant-design/icons';\nimport { InlineEditorActions } from '../../Utils/inlineEditorActions';\nimport { ColorPicker } from '../ColorPicker';\nimport { findClosestParent, findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport { useFonts } from '../../Hooks/useFonts';\nimport { logger } from '../../Utils/logger';\n\nlet r: any;\n\nconst restoreSelection = () => {\n  let restoreSel = window.getSelection();\n  if (!restoreSel) {\n    return;\n  }\n  const temp = r;\n  restoreSel?.removeAllRanges();\n  restoreSel?.addRange(r);\n  r = temp;\n};\n\nconst InlineEditor = () => {\n  const ref = useRef<any>(null);\n  const { x, y } = useCustomEditorPosition();\n  const { active } = useCustomEditorStatus();\n  const { active: activeElement }: { active: HTMLDivElement } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [fontlist] = useFonts();\n\n  // on mount, override the default behaviour of the antd dropdown select\n  useEffect(() => {\n    if (ref.current) {\n      const toolbar = document.querySelectorAll('#customtoolbar .ant-select-selector');\n      if (toolbar) {\n        toolbar.forEach((item) => {\n          logger.log('attaching click event listener to container');\n          item.addEventListener('click', ResetEventBehaviour);\n        });\n        return () =>\n          toolbar.forEach((item) => {\n            logger.log('removing click event listener to container');\n            item.removeEventListener('click', ResetEventBehaviour);\n          });\n      }\n    }\n  }, [ref]);\n\n  useEffect(() => {\n    if (active && activeElement) {\n      const uniqueIdentifier = findUniqueIdentifier(activeElement, activeElement.classList);\n      if (uniqueIdentifier?.includes('mj-text')) {\n        let editor: any = activeElement.children[0];\n\n        const Event = (e: any) => {\n          stateChangeCallback(editor, mjmlJson, setMjmlJson);\n          // e.stopPropagation();\n          // e.preventDefault();\n          // e.target.focus();\n          // return false;\n        };\n\n        const onKeyUp = () => {\n          r = window.getSelection()?.getRangeAt(0);\n        };\n\n        editor.addEventListener('focusout', Event, true);\n        editor.addEventListener('keyup', onKeyUp, false);\n        editor.addEventListener('click', onKeyUp, false);\n\n        editor.classList.add('editor-active');\n        editor.setAttribute('contentEditable', 'true');\n        editor.setAttribute('spellcheck', 'false');\n\n        if (r) {\n          // restoreSelection();\n        }\n\n        return () => {\n          logger.log('custom editor: cleaning up dynamic attributes');\n          editor.removeEventListener('focusout', Event, true);\n          editor.removeEventListener('keyup', onKeyUp, false);\n          editor.removeEventListener('click', onKeyUp, false);\n        };\n      }\n    }\n  }, [activeElement, mjmlJson]);\n\n  return (\n    <div\n      style={{\n        display: active ? 'block' : 'none',\n        position: 'fixed',\n        top: `${y}px`,\n        left: `${x}px`,\n        padding: '4px 8px',\n        border: '1px solid black',\n        zIndex: 999,\n        backgroundColor: '#fff',\n        transition: 'all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)',\n      }}\n      id=\"customtoolbar\"\n      ref={ref}\n      onMouseDown={ResetEventBehaviour}\n    >\n      <Select\n        size=\"small\"\n        dropdownStyle={{ minWidth: '18px' }}\n        defaultValue={2}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'size', value);\n        }}\n      >\n        {Array.from(Array(7).keys()).map((i) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={i + 1}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {i + 1}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n      <Select\n        size=\"small\"\n        defaultValue={'Ubuntu'}\n        dropdownStyle={{ minWidth: '18px' }}\n        style={{ fontSize: '12px' }}\n        onChange={(value: any) => {\n          InlineEditorActions(null, 'fontFamily', value);\n        }}\n        onMouseDown={ResetEventBehaviour}\n      >\n        {fontlist.map((font) => (\n          <Select.Option\n            onMouseDown={ResetEventBehaviour}\n            onFocus={ResetEventBehaviour}\n            style={{ fontSize: '12px' }}\n            value={font}\n          >\n            <span onMouseDown={ResetEventBehaviour} onFocus={ResetEventBehaviour}>\n              {font}\n            </span>\n          </Select.Option>\n        ))}\n      </Select>\n\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'fontColor', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<FontColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Popover\n        overlayClassName=\"inline-editor-popover-color-picker\"\n        trigger=\"click\"\n        placement=\"bottom\"\n        content={\n          <ColorPicker\n            handleChange={(color) => {\n              InlineEditorActions(null, 'color', color);\n            }}\n            mouseDown={false}\n          />\n        }\n        destroyTooltipOnHide={true}\n      >\n        <Button icon={<BgColorsOutlined />} style={{ fontSize: '12px' }} size=\"small\"></Button>\n      </Popover>\n      <Button\n        icon={<BoldOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'bold')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<ItalicOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'italics')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <Button\n        icon={<UnderlineOutlined />}\n        onClick={(e) => InlineEditorActions(e, 'underline')}\n        style={{ fontSize: '12px' }}\n        size=\"small\"\n      ></Button>\n      <LinkItem setLinkCallback={(e) => InlineEditorActions(e, 'link')} />\n    </div>\n  );\n};\n\ninterface LinkItemProps {\n  setLinkCallback: (e: any) => void;\n}\n\nconst LinkItem = ({ setLinkCallback }: LinkItemProps) => {\n  const [active, setActive] = useState(false);\n  const [link, setLink] = useState('');\n  const linkRef = useRef<any>(null);\n\n  const onChange = (e: any) => {\n    setLink(e.target.value);\n  };\n\n  const onMouseDown = (e: any) => {\n    restoreSelection();\n  };\n\n  return (\n    <Popover\n      visible={active}\n      content={\n        <div style={{ display: 'flex', gap: '8px' }}>\n          <Input\n            className=\"inline-editor-link\"\n            ref={linkRef}\n            value={link}\n            onMouseDown={onMouseDown}\n            onChange={onChange}\n            placeholder=\"link\"\n          />\n          <Button\n            type=\"default\"\n            onMouseDown={ResetEventBehaviour}\n            onClick={() => {\n              setActive(false);\n              restoreSelection();\n              // document.execCommand('createLink', false, 'https://google.com');\n              document.execCommand(\n                'insertHTML',\n                false,\n                '<a href=\"' + link + '\" target=\"_blank\">' + document.getSelection() + '</a>'\n              );\n            }}\n          >\n            create\n          </Button>\n        </div>\n      }\n      trigger=\"click\"\n      placement=\"bottom\"\n    >\n      <Button\n        style={{ fontSize: '12px' }}\n        onClick={(e) => {\n          ResetEventBehaviour(e);\n          setActive(!active);\n          setLink('');\n        }}\n        size=\"small\"\n        icon={<LinkOutlined />}\n      ></Button>\n    </Popover>\n  );\n};\n\nconst stateChangeCallback = (item: any, mjmlJson: any, setMjmlJson: any) => {\n  logger.log(`custom Inline Editor: updating state callback`);\n  const closestParent = findClosestParent(item);\n  if (!closestParent) {\n    return;\n  }\n  const uniqueIdentifier = closestParent;\n  if (uniqueIdentifier?.includes('mj-text')) {\n    const find = findElementInJson(mjmlJson, uniqueIdentifier);\n    if (find) {\n      const [, path] = find;\n      let itemJson = _.get(mjmlJson, path.slice(1));\n      if (itemJson) {\n        let updateToSend = _.cloneDeep(itemJson);\n        logger.log('inline editor: updating', item);\n        const html = item.innerHTML;\n        updateToSend.content = html;\n        const updated = _.set(mjmlJson, path.slice(1), updateToSend);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nexport const ResetEventBehaviour = (e: any) => {\n  logger.log('::reset', e.target);\n  if (\n    e.target &&\n    e.target.tagName === 'INPUT' &&\n    e.target.className &&\n    e.target.className.includes('inline-editor-link')\n  ) {\n    logger.log('::reset, returning');\n    return;\n  }\n  logger.log('::reset->reset behaviour', e.target);\n  e.preventDefault();\n  e.stopPropagation();\n  return false;\n};\n\nexport { InlineEditor };\n","import { message, Modal } from 'antd';\nimport _ from 'lodash';\nimport { createContext, FC, useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { useLazyGetTemplateQuery } from '../Api/api';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { HEADSTYLE } from '../Components/Mods/HeadStyle';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { importJson } from '../Utils/mjmlProcessor';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { config } from 'process';\n\nexport const EditorContext = createContext<any>(null);\n\nexport const PageHeaderItems = [\n  { tagName: 'mj-title', attributes: {}, children: [] },\n  { tagName: 'mj-style', content: HEADSTYLE },\n  ...FONTS_CONFIG.map((font) => {\n    return {\n      tagName: 'mj-font',\n      attributes: {\n        name: font.name,\n        href: font.value,\n      },\n    };\n  }),\n];\n\nconst initialState = {\n  tagName: 'mjml',\n  children: [\n    {\n      tagName: 'mj-head',\n      attributes: {},\n      children: PageHeaderItems,\n    },\n    {\n      tagName: 'mj-body',\n      attributes: { 'css-class': 'mjml-tag identifier-mj-body', 'background-color': 'grey', width: '600px' },\n      children: [],\n    },\n  ],\n  attributes: {},\n};\n\nconst LOADING_KEY = 'loading';\n\nexport const EDContext: FC = (props) => {\n  const { templateId }: { templateId: string | undefined } = useParams();\n  const { getId } = useDragAndDropUniqueId();\n  const [mjmlJson, setMjmlJson] = useState<any>(null);\n  const [trigger, { data, isError, isLoading, isSuccess }] = useLazyGetTemplateQuery();\n\n  useEffect(() => {\n    // if app crashed/ user left while editing, restoring from local\n    const actions = localStorage.getItem('actions');\n\n    async function restoreFromLocalStorage() {\n      let result = false;\n      if (actions) {\n        result = await modalConfirmLoadLocalState(\n          () => {\n            const parsed = JSON.parse(actions);\n            const processed = importJson(parsed[parsed.length - 1], getId, true);\n            UNDOREDO.undo = parsed;\n            setMjmlJson(processed);\n          },\n          () => {\n            setMjmlJson(_.cloneDeep(initialState));\n            UNDOREDO.newAction(_.cloneDeep(initialState));\n            localStorage.removeItem('actions');\n          }\n        );\n      }\n      return result;\n    }\n\n    restoreFromLocalStorage().then((isRestored) => {\n      if (isRestored) {\n        return;\n      } else {\n        if (templateId === 'new' || typeof templateId === 'undefined') {\n          setMjmlJson(_.cloneDeep(initialState));\n        } else {\n          if (templateId) {\n            message.loading({ content: 'Fetching Template...', key: LOADING_KEY, duration: 0 });\n            trigger({ id: templateId });\n          }\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (isSuccess && data) {\n      try {\n        setMjmlJson(importJson(JSON.parse(data.response.data), getId));\n      } catch (e) {\n        message.error('Unable to load template', 3);\n      }\n    } else if (isSuccess && !data) {\n      message.error('Template is empty', 2);\n    }\n    if (isSuccess) {\n      message.destroy(LOADING_KEY);\n    }\n    if (isError) {\n      message.info('Network error, template not fetched.', 2);\n    }\n  }, [isError, isLoading, isSuccess, data]);\n\n  const [attributes, setAttributes] = useState<any>({});\n\n  return (\n    <EditorContext.Provider\n      value={{\n        mjmlJson: mjmlJson,\n        setMjmlJson,\n        attributes,\n        setAttributes,\n      }}\n    >\n      {props.children}\n    </EditorContext.Provider>\n  );\n};\n\nconst modalConfirmLoadLocalState = async (okCallback: () => void, cancelCallback: () => void) => {\n  return new Promise<boolean>((resolve, reject) => {\n    Modal.confirm({\n      title: 'Confirm',\n      icon: <ExclamationCircleOutlined />,\n      content: 'local save found do you want to load it?',\n      okText: 'restore',\n      cancelText: 'delete',\n      onOk: () => {\n        okCallback();\n        resolve(true);\n      },\n      onCancel: () => {\n        cancelCallback();\n        resolve(false);\n      },\n    });\n  });\n};\n","export const HEADSTYLE = 'a{text-decoration:none!important} .htmlblock {}';\n","import { createContext, FC, memo, useContext, useEffect, useRef, useState } from 'react';\nimport { logger } from '../Utils/logger';\n\nexport const HtmlContext = createContext<any>(null);\n\nexport const HtmlContextProvider: FC = memo((props) => {\n  const [uiWrapperList, setUIWrapperList] = useState([]);\n\n  const [activeHover, setActiveHover] = useState<any>();\n\n  const [active, setActive] = useState<any>();\n\n  const ref = useRef<any>(1);\n\n  const [id, setId] = useState<any>(1);\n\n  const getId = () => {\n    setId(id + 1);\n    logger.log('getId', id);\n  };\n\n  //todo: fn remove id from the uiWrapperList, if possible upgrade list to map\n\n  return (\n    <HtmlContext.Provider\n      value={{\n        uiList: uiWrapperList,\n        setUIWrapperList,\n        activeHover,\n        setActiveHover,\n        active,\n        setActive,\n        id,\n        setId,\n        getId,\n      }}\n    >\n      <div>{<>{logger.log('uiContextRerendering', ref.current++)} </>}</div>\n      {props.children}\n    </HtmlContext.Provider>\n  );\n});\n","import { useContext } from 'react';\nimport { HtmlContext } from '../Context/Htmlwrapper.context';\n\nexport const useHtmlWrapper = () => {\n  const htmlContext = useContext(HtmlContext);\n  return htmlContext as unknown as {\n    uiList: any[];\n    setUIWrapperList: (prev?: any) => void;\n    activeHover: any;\n    setActiveHover: (id: string) => void;\n    active: any;\n    setActive: (args: any) => void;\n    id: any;\n    setId: (prev?: any) => void;\n    getId: () => number;\n  };\n};\n","import _ from 'lodash';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { EditorContext } from '../Context/Editor.context';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { logger } from '../Utils/logger';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\nexport const useEditor = () => {\n  const context = useContext(EditorContext);\n  return context as unknown as {\n    mjmlJson: any;\n    setMjmlJson: (v: any) => void;\n    attributes: any;\n    setAttributes: (v: any) => void;\n  };\n};\n\nexport const useEditorUpdater = () => {\n  const { active: activeElement } = useHtmlWrapper();\n  const { setMjmlJson, mjmlJson } = useEditor();\n  const [item, setItem] = useState<any>(null);\n  const [path, setPath] = useState<any>(null);\n\n  useEffect(() => {\n    logger.log('editor value updater: ae->', activeElement);\n    if (activeElement && mjmlJson) {\n      const uniqueIdentifer = findUniqueIdentifier(activeElement as HTMLElement, activeElement.classList);\n      if (uniqueIdentifer) {\n        const find = findElementInJson(mjmlJson, uniqueIdentifer);\n        if (find) {\n          const [, _path] = find;\n          setPath(_path);\n          const _item = _.get(mjmlJson, _path.slice(1));\n          if (_item) {\n            setItem(_item);\n          }\n        } else {\n          logger.log(`editor value updater: unable to find item in json, ${find}, identifier: ${uniqueIdentifer}`);\n        }\n      }\n    }\n  }, [activeElement]);\n\n  const update = useCallback(\n    (updatedValue: any) => {\n      if (path) {\n        const updated = _.set(mjmlJson, path.slice(1), updatedValue);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    },\n    [path]\n  );\n\n  return [item, update];\n};\n","import { createContext, FC, useState } from 'react';\n\ntype Set<T> = React.Dispatch<React.SetStateAction<T>>;\n\nexport const CustomEditorContext = createContext<{\n  position: { x: number; y: number; setX: Set<number>; setY: Set<number> };\n  status: { active: boolean; setActive: Set<boolean> };\n}>({ position: { x: 0, y: 0, setX: () => {}, setY: () => {} }, status: { active: false, setActive: () => {} } });\n\nexport const CustomEditorProvider: FC = (props) => {\n  const [x, setX] = useState(0);\n  const [y, setY] = useState(0);\n  const [active, setActive] = useState(false);\n  return (\n    <CustomEditorContext.Provider value={{ position: { x, y, setX, setY }, status: { active, setActive } }}>\n      {props.children}\n    </CustomEditorContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { CustomEditorContext } from '../Context/CustomEditor.context';\n\nconst useCustomEditorPosition = () => {\n  const { position } = useContext(CustomEditorContext);\n  return position;\n};\n\nconst useCustomEditorStatus = () => {\n  const { status } = useContext(CustomEditorContext);\n  return status;\n};\n\nexport { useCustomEditorPosition, useCustomEditorStatus };\n","const detectEmptyElement = (nodeWithReactProperties: any, detect: string) => {\n  return (\n    detectElement(nodeWithReactProperties, detect) &&\n    nodeWithReactProperties.children &&\n    nodeWithReactProperties.children < 1\n  );\n};\n\nconst detectElement = (nodeWithReactProperties: any, detect: string) => {\n  if (!detect) {\n    return false;\n  } else if (detect === 'body') {\n    detect = 'identifier-mj-body';\n  } else if (detect === 'section') {\n    detect = 'identifier-mj-section';\n  } else if (detect === 'column') {\n    detect = 'identifier-mj-column';\n  } else {\n    return false;\n  }\n\n  return (\n    nodeWithReactProperties.props &&\n    nodeWithReactProperties.props['className'] &&\n    typeof nodeWithReactProperties.props['className'] === 'string' &&\n    nodeWithReactProperties.props['className'].includes(detect)\n  );\n};\n\nconst countEmptyChildrenLevels = (nodeWithReactProperties: any, count: number = 0): number => {\n  if (!nodeWithReactProperties) {\n    return count + 0;\n  }\n  let children = null;\n  if (nodeWithReactProperties['children']) {\n    children = nodeWithReactProperties['children'][0];\n  } else if (nodeWithReactProperties['props']['children']) {\n    children = nodeWithReactProperties['props']['children'][0];\n  }\n  if (children) {\n    return countEmptyChildrenLevels(children, count + 1);\n  } else {\n    return count;\n  }\n};\n\nexport { detectElement, detectEmptyElement, countEmptyChildrenLevels };\n","import { findUniqueIdentifier } from './closestParent';\n\nconst recursivelyFindParent = (node: HTMLElement | any, parentClassPartial: string): any => {\n  if (!node) {\n    return null;\n  }\n  let parent = node.closest('.mjml-tag');\n  if (parent && parent.classList) {\n    const uniqueIdentifier = findUniqueIdentifier(parent, parent.classList);\n    if (uniqueIdentifier && uniqueIdentifier.includes(parentClassPartial)) {\n      return [parent, uniqueIdentifier];\n    }\n    parent = parent.parentElement;\n  }\n\n  return recursivelyFindParent(parent, parentClassPartial);\n};\n\nconst findColumnOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-column');\n};\n\nconst findSectionOfElement = (node: HTMLElement | any): any => {\n  return recursivelyFindParent(node, 'mj-section');\n};\n\nexport { findColumnOfElement, findSectionOfElement };\n","import { floor } from 'lodash';\n\nconst isEventWithTargetElement = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventX = event.clientX;\n  const eventY = event.clientY;\n\n  let within = pos && eventX && eventY && true;\n\n  if (eventX < pos.left || eventX > pos.right) {\n    within = false;\n  }\n\n  if (eventY < pos.top || eventY > pos.bottom) {\n    within = false;\n  }\n\n  return within;\n};\n\nconst closeToTopOrBottom = (event: any, target: HTMLElement) => {\n  const pos = target.getBoundingClientRect();\n  const eventY = event.clientY;\n\n  if (isEventWithTargetElement(event, target)) {\n    const middle = floor((pos.bottom - pos.top) / 2) + pos.top;\n    if (eventY < middle) {\n      return 'top';\n    } else if (eventY > middle) {\n      return 'bottom';\n    }\n  }\n\n  return false;\n};\n\nexport { isEventWithTargetElement, closeToTopOrBottom };\n","import _ from 'lodash';\nimport { findUniqueIdentifier, findUniqueIdentifierFromString } from './closestParent';\nimport { closeToTopOrBottom, isEventWithTargetElement } from './eventElementRelation';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\n\ninterface generateDropItemPlacehodlerProps {\n  setMjmlJson: any;\n  mjmlJson: any;\n  nearestTag: any;\n  columnElement: any;\n  currentTarget: any;\n  event: any;\n}\n\nconst generateDropItemPlaceholder = ({\n  mjmlJson,\n  setMjmlJson,\n  columnElement,\n  event: e,\n  currentTarget,\n  nearestTag,\n}: generateDropItemPlacehodlerProps) => {\n  if (columnElement && nearestTag) {\n    const nearestElement = currentTarget.closest(`.${nearestTag}`);\n    if (nearestElement && columnElement) {\n      if (isEventWithTargetElement(e, columnElement)) {\n        const suggestionDirection = closeToTopOrBottom(e, nearestElement);\n        if (suggestionDirection) {\n          let item = findElementInJson(_.cloneDeep(mjmlJson), nearestTag);\n          if (item) {\n            const [, path]: [any, string] = item;\n            // omit the last .child.. index, cuz parent is needed\n            const parent = path.slice(1, path.lastIndexOf('.children'));\n            let parentObj = _.get(_.cloneDeep(mjmlJson), parent);\n            let newOrder = [];\n            for (var i = 0; parentObj && parentObj.children && i < parentObj.children.length; i++) {\n              let childItem = parentObj['children'][i];\n              logger.log(childItem);\n              const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n              // if there is existing placeholders, removing them\n              if (cssClass && cssClass.includes('placeitem-placeholder')) {\n                continue;\n              }\n              if (cssClass && cssClass.includes(nearestTag)) {\n                if (suggestionDirection === 'top') {\n                  newOrder.push(placeItemPlaceHolder, childItem);\n                } else if (suggestionDirection === 'bottom') {\n                  newOrder.push(childItem, placeItemPlaceHolder);\n                }\n                continue;\n              }\n              newOrder.push(childItem);\n            }\n\n            if (parentObj && newOrder.length > 0) {\n              // replace with new order\n              parentObj.children = newOrder;\n              const updated = _.set(_.cloneDeep(mjmlJson), parent, parentObj);\n              const uniqueColumnIdentifier = findUniqueIdentifier(\n                columnElement,\n                columnElement.classList,\n                'identifier-mj-column'\n              );\n              if (uniqueColumnIdentifier) {\n                const cleaned = cleanMjmlJson(updated, uniqueColumnIdentifier);\n                if (!_.isEqual(mjmlJson, cleaned)) {\n                  logger.log('::update::', mjmlJson, cleaned);\n                  setMjmlJson({ ...cleaned });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              } else {\n                if (!_.isEqual(mjmlJson, updated)) {\n                  logger.log('::update::', mjmlJson, updated);\n                  setMjmlJson({ ...updated });\n                } else {\n                  logger.log('::update:: -> but elements are the same, not triggering rerender');\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nconst genereateDropItemPlaceholderForColumn = ({\n  mjmlJson,\n  setMjmlJson,\n  nearestTag,\n}: Omit<generateDropItemPlacehodlerProps, 'event' | 'columnElement' | 'currentTarget'>) => {\n  if (nearestTag) {\n    let find = findElementInJson(mjmlJson, nearestTag);\n    if (find) {\n      const cleanedMjmlJson = cleanMjmlJson(_.cloneDeep(mjmlJson));\n      logger.log('::beforechange::', mjmlJson, cleanedMjmlJson);\n      const [, path]: [any, string] = find;\n      let columnObj = _.get(_.cloneDeep(cleanedMjmlJson), path.slice(1));\n      let newOrder = [];\n      for (let i = 0; columnObj && columnObj.children && i < columnObj.children.length; i++) {\n        const childItem = columnObj['children'][i];\n        const cssClass = childItem.attributes && childItem['attributes']['css-class'];\n        // if there is existing placeholders, removing them\n        if (cssClass && cssClass.includes('placeitem-placeholder')) {\n          continue;\n        }\n        // remove column empty placeholders\n        if (cssClass && cssClass.includes('mj-placeholder')) {\n          continue;\n        }\n        newOrder.push(childItem);\n      }\n\n      // newOrder will not be zero if the column already has items\n      if (newOrder.length > 0) {\n        // todo: handle generateDropItemPlaceholder inside this fn.\n        //  by getting event and performing calculations.\n        return false;\n      }\n\n      // add the new element\n      newOrder.push(placeItemPlaceHolder);\n\n      let sectionPath = path.slice(1, path.lastIndexOf('.children'));\n      if (columnObj) {\n        //  section can contain multiple,\n        // identify which column is active and replace with new order\n        columnObj.children = newOrder;\n        let parentSection = _.get(_.cloneDeep(cleanedMjmlJson), sectionPath);\n        let columnChildrenNewOrder = [];\n        for (let i = 0; parentSection && parentSection.children && i < parentSection.children.length; i++) {\n          const childColumn = parentSection['children'][i];\n          const cssClass = childColumn.attributes && childColumn['attributes']['css-class'];\n          const uniqueIdentifer = findUniqueIdentifierFromString(cssClass);\n          // nearestTag is the  uniqueId of the column,\n          //   replace the old column with new one\n          if (uniqueIdentifer === nearestTag) {\n            columnChildrenNewOrder.push(columnObj);\n            continue;\n          }\n          columnChildrenNewOrder.push(childColumn);\n        }\n        parentSection.children = columnChildrenNewOrder;\n        const updated = _.set(cleanedMjmlJson, sectionPath, parentSection);\n        if (!_.isEqual(mjmlJson, updated)) {\n          logger.log('::update::', cleanedMjmlJson, updated);\n          setMjmlJson({ ...updated });\n        } else {\n          logger.log('::update:: -> but elements are the same, not triggering rerender');\n        }\n        return true;\n      }\n    }\n  }\n};\n\nexport { generateDropItemPlaceholder, genereateDropItemPlaceholderForColumn };\n\nconst placeItemPlaceHolder = {\n  tagName: 'mj-text',\n  attributes: {\n    align: 'center',\n    'css-class': 'placeitem-placeholder',\n  },\n  content: '<h1> + </h1>',\n};\n","import _ from 'lodash';\nimport { findUniqueIdentifierFromString } from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { UNDOREDO } from './undoRedo';\n\nconst moveSectionUp = (className: string, mjmlJson: any, setMjmlJson: any, directon = 'up') => {\n  const uniqueClassName = findUniqueIdentifierFromString(className);\n  if (uniqueClassName) {\n    const child = findElementInJson(mjmlJson, uniqueClassName);\n    const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n    if (child && parent) {\n      const [parentItem, parentPath] = parent;\n      const [childItem] = child;\n\n      let newOrder = [];\n      let indexOfItem = -1;\n      for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n        const childSection = parentItem.children[i];\n        if (childSection && childSection.attributes && childSection.attributes['css-class'].includes(uniqueClassName)) {\n          indexOfItem = i;\n          break;\n        }\n      }\n\n      if (indexOfItem !== -1) {\n        for (let i = 0; parentItem.children.length > 1 && i < parentItem.children.length; i++) {\n          const childSection = parentItem.children[i];\n          if (childSection && directon === 'up') {\n            // moveup -> indexOfItem -1;\n            if (i === indexOfItem - 1) {\n              newOrder.push(childItem);\n              newOrder.push(childSection);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n          if (childSection && directon === 'down') {\n            // movedown\n            if (i === indexOfItem) {\n              const nextChild = parentItem.children[i + 1];\n              newOrder.push(nextChild);\n              newOrder.push(childItem);\n              i += 1;\n              continue;\n            }\n            newOrder.push(childSection);\n          }\n        }\n      }\n      if (newOrder.length > 1) {\n        let update_parent = _.cloneDeep(parentItem);\n        update_parent.children = _.cloneDeep(newOrder);\n        const updated = _.set(mjmlJson, parentPath.slice(1), update_parent);\n        UNDOREDO.newAction(updated);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\nconst moveSectionDown = (uniqueClassName: string, mjmlJson: any, setMjmlJson: any) => {\n  return moveSectionUp(uniqueClassName, mjmlJson, setMjmlJson, 'down');\n};\n\nexport { moveSectionUp, moveSectionDown };\n","import { logger } from './logger';\n\nconst InlineEditorActions = (e: any, type: string, extras = '') => {\n  if (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  logger.log('editor action:', type, extras);\n  switch (type) {\n    case 'bold':\n      document.execCommand('bold');\n      break;\n    case 'underline':\n      document.execCommand('underline');\n      break;\n    case 'italics':\n      document.execCommand('italic');\n      break;\n    case 'size':\n      document.execCommand('fontSize', false, extras);\n      break;\n    case 'color':\n      document.execCommand('backColor', false, extras);\n      break;\n    case 'fontColor':\n      document.execCommand('foreColor', false, extras);\n      break;\n    case 'fontFamily':\n      document.execCommand('fontName', false, extras);\n      break;\n    default:\n      logger.info(`unhandled action ${type}`);\n  }\n  return false;\n};\n\nexport { InlineEditorActions };\n","import styled from 'styled-components';\nimport { ChromePicker } from 'react-color';\nimport { useState } from 'react';\n\ninterface ColorPickerProps {\n  handleChange: (color: string) => void;\n  mouseDown: boolean;\n}\n\nexport const ColorPicker = ({ handleChange, mouseDown }: ColorPickerProps) => {\n  const [color, setColor] = useState(() => '#ccc');\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    handleChange(`rgba(${color.rgb.r},${color.rgb.g},${color.rgb.b},${color.rgb.a})`);\n  };\n\n  return (\n    <ColorPickerContainer\n      onMouseDown={(e) => {\n        if (!mouseDown) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }}\n      color={color}\n    >\n      <div className=\"popover\">\n        <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n      </div>\n    </ColorPickerContainer>\n  );\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPickerContainer = styled.div`\n  display: inline-block;\n  .ant-popover-inner-content {\n    padding: 0;\n  }\n`;\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { findUniqueIdentifier } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { useEditor } from './Editor.hook';\nimport { useHtmlWrapper } from './Htmlwrapper.hook';\n\ninterface useVisibilityProps {\n  attribute?: string;\n  property?: string;\n  customPath?: string;\n}\n\nconst useVisibility = ({ attribute, property, customPath }: useVisibilityProps): [boolean | null, string, any] => {\n  const [visible, setVisible] = useState<boolean | null>(false);\n\n  const { active } = useHtmlWrapper();\n\n  const [path, setPath] = useState('');\n\n  const { mjmlJson } = useEditor();\n\n  useEffect(() => {\n    if (active) {\n      const uniqueIdentifier = findUniqueIdentifier(active, active.classList);\n      if (uniqueIdentifier) {\n        let path = findElementInJson(mjmlJson, uniqueIdentifier);\n\n        if (customPath) {\n          path = [null, '.' + customPath];\n        }\n\n        if (path) {\n          const [, pathToElement] = path;\n          if (pathToElement.length > 0) {\n            setPath(pathToElement.slice(1));\n          }\n          if (attribute) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item.mutableProperties && item.mutableProperties.includes(attribute)) {\n              setVisible(true);\n              return;\n            }\n          } else if (property) {\n            const item = _.get(mjmlJson, pathToElement.slice(1));\n            if (item && item[property]) {\n              setVisible(true);\n              return;\n            }\n          }\n        }\n      }\n    }\n    setVisible(false);\n    setPath('');\n  }, [active]);\n\n  return [visible, path, active];\n};\n\ninterface useValueProps {\n  path: string;\n  visible: boolean | null;\n  attribute: string;\n}\n\nconst useValue = ({ path, visible, attribute }: useValueProps) => {\n  const { mjmlJson } = useEditor();\n  // todo: optimize this\n  const getValue = () => {\n    let value = '';\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      if (element && element.attributes) {\n        value = element.attributes[attribute];\n      }\n    }\n    return value;\n  };\n\n  return { getValue };\n};\n\nexport { useVisibility, useValue };\n","import { useEffect, useState } from 'react';\nimport { FONTS_CONFIG } from '../Components/Mods/FontConfig';\nimport { useValue, useVisibility } from './Attribute.hook';\n\nconst ATTRIBUTE = 'font-family';\nconst defaultFonts = ['Ubuntu', 'Helvetica', 'Arial', 'sans-serif'];\nconst fonts = FONTS_CONFIG.map((font) => font.name.trim());\n\nconst useFonts = (): [string[], string] => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      const _value = getValue();\n      if (_value && _value.indexOf(',')) {\n        const _fonts = _value.split(',')[0];\n        setValue(_fonts);\n      }\n    }\n  }, [getValue]);\n\n  return [[...defaultFonts, ...fonts], value];\n};\n\nexport { useFonts };\n","import { VerticalAlignTopOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport { useEffect, useState } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { findUniqueIdentifierFromString } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { moveSectionDown, moveSectionUp } from '../Utils/reorderSections';\nimport { ResetEventBehaviour } from './Mods/CustomInlineEditor';\n\ninterface MoveUpDownProps {\n  idRef: any;\n  active: any;\n  className: string;\n}\n\nconst MoveUpDown = ({ className, idRef, active }: MoveUpDownProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [upActive, setUpActive] = useState(true);\n  const [downActive, setDownActive] = useState(true);\n\n  useEffect(() => {\n    if (idRef.current === active) {\n      const uniqueClassName = findUniqueIdentifierFromString(className);\n      if (uniqueClassName) {\n        const child = findElementInJson(mjmlJson, findUniqueIdentifierFromString(className));\n        const parent = findElementInJson(mjmlJson, 'identifier-mj-body');\n        if (child && parent) {\n          const [parentItem] = parent;\n          const [childItem] = child;\n\n          // if section element is the first element\n          if (parentItem && parentItem.children && parentItem.children.length === 1) {\n            setUpActive(false);\n            setDownActive(false);\n            return;\n          } else if (parentItem && parentItem.children && parentItem.children.length > 1) {\n            const lastItem = parentItem.children.length - 1;\n            for (let i = 0; i < parentItem.children.length; i++) {\n              const childSection = parentItem.children[i];\n              if (\n                childSection &&\n                childSection.attributes &&\n                childSection.attributes['css-class'] &&\n                childSection.attributes['css-class'].includes(uniqueClassName)\n              ) {\n                if (i === lastItem) {\n                  setDownActive(false);\n                  setUpActive(true);\n                  break;\n                } else if (i === 0) {\n                  setUpActive(false);\n                  setDownActive(true);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [mjmlJson, idRef, active]);\n\n  const MoveUp = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionUp(className, mjmlJson, setMjmlJson);\n  };\n\n  const MoveDown = (e: any) => {\n    ResetEventBehaviour(e);\n    moveSectionDown(className, mjmlJson, setMjmlJson);\n  };\n\n  return (\n    <div\n      onMouseDown={ResetEventBehaviour}\n      style={{ position: 'relative', display: active === idRef.current ? 'block' : 'none' }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          left: -38,\n          bottom: 0,\n          display: 'flex',\n          flexDirection: 'column',\n          rowGap: '4px',\n        }}\n      >\n        <Button\n          type=\"primary\"\n          disabled={!upActive}\n          onClick={MoveUp}\n          icon={<VerticalAlignTopOutlined style={{ fontSize: '20px' }} />}\n        />\n        <Button\n          type=\"primary\"\n          disabled={!downActive}\n          onClick={MoveDown}\n          icon={<VerticalAlignBottomOutlined style={{ fontSize: '20px' }} />}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport { MoveUpDown };\n","import _ from 'lodash';\nimport { createElement, memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorPosition, useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { findClosestParent, findUniqueIdentifier } from '../Utils/closestParent';\nimport { detectEmptyElement } from '../Utils/detectEmptyBody';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findColumnOfElement } from '../Utils/findElementsParent';\nimport {\n  generateDropItemPlaceholder,\n  genereateDropItemPlaceholderForColumn,\n} from '../Utils/generateDropItemPlaceholder';\nimport { logger } from '../Utils/logger';\nimport { setToolBars } from '../Utils/setToolbarPositions';\nimport { MoveUpDown } from './MoveUpDownRow';\n\ninterface HtmlWrapperProps {\n  // children: React.DOMElement<React.DOMAttributes<Element>, Element>;\n  uniqueKey: string | number;\n  originalNode: any;\n}\n\nexport const HtmlWrapper = memo(({ uniqueKey, originalNode }: HtmlWrapperProps) => {\n  const { setUIWrapperList, setActive, setActiveHover, active, activeHover, id, setId, getId, uiList } =\n    useHtmlWrapper();\n  const {\n    setDelActive,\n    setDelX,\n    setDelY,\n    copy,\n    drag: { isColumn },\n  } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { setX: customEditorSetX, setY: customEditorSetY } = useCustomEditorPosition();\n  const { setActive: setCustomEditorStatus } = useCustomEditorStatus();\n  const idRef = useRef(id);\n  const uniqueId = useRef(id);\n\n  const { setCopyX, setCopyActive, setCopyY } = copy;\n\n  useEffect(() => {\n    getId();\n  }, []);\n\n  // while move items in editor, hide these\n  useEffect(() => {\n    if (active === null) {\n      setCopyActive(false);\n      setDelActive(false);\n      setCustomEditorStatus(false);\n    }\n  }, [active]);\n\n  const onHover = useMemo(\n    () => (e: any) => {\n      setActiveHover(idRef.current);\n    },\n    [idRef]\n  );\n\n  const onClick = useMemo(\n    () =>\n      idRef.current === activeHover\n        ? (e: any) => {\n            // text element with links in editor mode, should not trigger clicks\n            if (e && e.target && e.target.tagName === 'A') {\n              e.preventDefault();\n            }\n            setActive(idRef.current);\n            const clickTarget = e.target;\n            const mjmlTarget = clickTarget.closest('.mjml-tag');\n            if (mjmlTarget) {\n              const pos = mjmlTarget.getBoundingClientRect();\n\n              // activate editor only for text elements,\n              const identifier = findUniqueIdentifier(mjmlTarget, mjmlTarget.classList);\n              if (identifier?.includes('text')) {\n                const x = pos.left;\n                const y = pos.top - 38;\n\n                setCustomEditorStatus(true);\n                customEditorSetX(x);\n                customEditorSetY(y);\n              } else {\n                setCustomEditorStatus(false);\n              }\n\n              // moving the delete positon to currently selected elements right\n              setDelActive(true);\n              setCopyActive(true);\n\n              setToolBars({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } });\n            }\n          }\n        : null,\n    [idRef, activeHover]\n  );\n  const draggable = activeHover === idRef.current;\n  const cursetStyle = useMemo(() => (activeHover === idRef.current ? 'pointer' : 'default'), [activeHover, idRef]);\n  const outline = activeHover === idRef.current ? '2px dotted rgb(121, 202, 182)' : 'unset';\n  const outlineClick = active === idRef.current ? '2px solid rgb(121, 202, 182)' : 'unset';\n\n  // detect empty body\n  if (detectEmptyElement(originalNode, 'body')) {\n    logger.info('empty body detected');\n  }\n  // detect empty section\n  if (detectEmptyElement(originalNode, 'section')) {\n    logger.info('empty section detected');\n  }\n\n  const onDragStart = (e: any) => {\n    if (active) {\n      setActive(null);\n    }\n    e.dataTransfer.dropEffect = 'move';\n    const uniqueClassName = findClosestParent(e.target);\n    const find = findElementInJson(mjmlJson, uniqueClassName);\n    if (find) {\n      const [, path] = find;\n      let item = _.get(mjmlJson, path.slice(1));\n      item = { mode: 'move', uniqueClassName: uniqueClassName, config: _.cloneDeep(item) };\n      e.dataTransfer.setDragImage(e.target, -5, -5);\n      e.dataTransfer.setData('config', JSON.stringify(item));\n    } else {\n      logger.info(`move items: drag unable to find the config to transfer ${uniqueClassName}`);\n    }\n  };\n\n  const memoFind = useCallback((e: HTMLElement) => findColumnOfElement(e), []);\n\n  //todo: add removed perfomance optimization once functionality dev is complete.\n  const onDragOver = (e: any) => {\n    if (isColumn) {\n      // column & section can not be nested,\n      return;\n    }\n    const currentTarget = e.nativeEvent.target;\n    const nearestTag = findClosestParent(currentTarget);\n    // only show place item sign for column's children\n    if (nearestTag?.includes('mj-column') || nearestTag?.includes('mj-section')) {\n      logger.log('::indicator: trigger->column');\n      if (nearestTag.includes('mj-column')) {\n        const madeChange = genereateDropItemPlaceholderForColumn({ mjmlJson, nearestTag, setMjmlJson });\n        if (madeChange === true) {\n          logger.log('::indicator: trigger->column -> stopping further processing');\n          return;\n        }\n        logger.log('::indicator: trigger->column -> no updates where done -> proceeding further processing');\n      }\n    }\n\n    let columnElement = memoFind(currentTarget);\n    // find column of element returns element and uniqueIdentifier\n    if (columnElement) {\n      [columnElement] = columnElement;\n    }\n    logger.log('::indicator: trigger->insideColumn');\n    generateDropItemPlaceholder({\n      mjmlJson,\n      nearestTag,\n      columnElement,\n      currentTarget,\n      setMjmlJson,\n      event: e,\n    });\n  };\n\n  const Element = useMemo(\n    () =>\n      createElement(\n        originalNode.nodeName as string,\n        {\n          ...originalNode.props,\n          onMouseEnter: onHover,\n          onMouseLeave: onHover,\n          onDragOver: _.debounce(onDragOver, 150),\n          onDragStart,\n          draggable,\n          ref: idRef,\n          id: uniqueId.current,\n          onClick,\n          key: uniqueKey,\n          style: {\n            ...originalNode.props.style,\n            cursor: 'pointer',\n            outline: active === idRef.current ? outlineClick : outline,\n          },\n        },\n        originalNode.children\n      ),\n    [idRef, draggable, onHover, onClick, originalNode, outline, outlineClick, active, uniqueId, activeHover]\n  );\n\n  // for sections show Indicators to show up and down.\n  if (originalNode && originalNode.props.className.includes('mj-section')) {\n    return (\n      <>\n        {Element}\n        <MoveUpDown className={originalNode.props.className} idRef={idRef} active={active} />\n        <div style={{ position: 'relative' }}>\n          <div style={{ position: 'absolute', right: -2, bottom: -24 }}>\n            {active === idRef.current || activeHover === idRef.current ? (\n              <label style={{ padding: '4px 6px', background: '#1890ff', color: 'white' }}>row</label>\n            ) : null}\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return Element;\n});\n","import { floor } from 'lodash';\n\ntype fn = (arg: number) => void;\n\ninterface SetToolBarsProps {\n  pos: any;\n  delete: {\n    setDelX: fn;\n    setDelY: fn;\n  };\n  copy: {\n    setCopyX: fn;\n    setCopyY: fn;\n  };\n}\n\nconst setToolBars = ({ pos, delete: { setDelX, setDelY }, copy: { setCopyX, setCopyY } }: SetToolBarsProps) => {\n  const IconSize = 32;\n  const numberOfIcons = 2 * IconSize;\n  if (pos) {\n    setDelX(pos.right + 4);\n    const middle = floor((pos.bottom - pos.top) / 2) - numberOfIcons / 2;\n    setDelY(pos.top + middle);\n    setCopyX(pos.right + 4);\n    // below the delete icon, with a little offset\n    setCopyY(pos.top + middle + IconSize + 4);\n  }\n};\n\nexport { setToolBars };\n","//https://raw.githubusercontent.com/facebook/react/cae635054e17a6f107a39d328649137b83f25972/packages/react-dom/src/shared/possibleStandardNames.js\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// When adding attributes to the HTML or SVG allowed attribute list, be sure to\n// also add them to this module to ensure casing and incorrect name\n// warnings.\nconst possibleStandardNames: any = {\n  // HTML\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  'accept-charset': 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  alt: 'alt',\n  align: 'align', // deprecated, but still adding it since, mjml uses it, msdn: Instead of using the obsolete align attribute, you should instead use the CSS text-align property to establish left, center, right, or justify alignment for the row's cells. To apply character-based alignment, set the CSS text-align property to the alignment character (such as \".\" or \",\").\n  as: 'as',\n  async: 'async',\n  autocapitalize: 'autoCapitalize',\n  autocomplete: 'autoComplete',\n  autocorrect: 'autoCorrect',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  autosave: 'autoSave',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  children: 'children',\n  cite: 'cite',\n  class: 'className',\n  classid: 'classID',\n  classname: 'className',\n  cols: 'cols',\n  colspan: 'colSpan',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  controlslist: 'controlsList',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  dangerouslysetinnerhtml: 'dangerouslySetInnerHTML',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defaultchecked: 'defaultChecked',\n  defaultvalue: 'defaultValue',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  disablepictureinpicture: 'disablePictureInPicture',\n  disableremoteplayback: 'disableRemotePlayback',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  enterkeyhint: 'enterKeyHint',\n  for: 'htmlFor',\n  form: 'form',\n  formmethod: 'formMethod',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  'http-equiv': 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  innerhtml: 'innerHTML',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  itemid: 'itemID',\n  itemprop: 'itemProp',\n  itemref: 'itemRef',\n  itemscope: 'itemScope',\n  itemtype: 'itemType',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginwidth: 'marginWidth',\n  marginheight: 'marginHeight',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  nomodule: 'noModule',\n  nonce: 'nonce',\n  novalidate: 'noValidate',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  playsinline: 'playsInline',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  referrerpolicy: 'referrerPolicy',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rows: 'rows',\n  rowspan: 'rowSpan',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG\n  about: 'about',\n  accentheight: 'accentHeight',\n  'accent-height': 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  'alignment-baseline': 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  'arabic-form': 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baselineshift: 'baselineShift',\n  'baseline-shift': 'baselineShift',\n  baseprofile: 'baseProfile',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  'cap-height': 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  'clip-path': 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  'clip-rule': 'clipRule',\n  color: 'color',\n  colorinterpolation: 'colorInterpolation',\n  'color-interpolation': 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  'color-interpolation-filters': 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  'color-profile': 'colorProfile',\n  colorrendering: 'colorRendering',\n  'color-rendering': 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  datatype: 'datatype',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  'dominant-baseline': 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  'enable-background': 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  'fill-opacity': 'fillOpacity',\n  fillrule: 'fillRule',\n  'fill-rule': 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodopacity: 'floodOpacity',\n  'flood-opacity': 'floodOpacity',\n  floodcolor: 'floodColor',\n  'flood-color': 'floodColor',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  'font-family': 'fontFamily',\n  fontsize: 'fontSize',\n  'font-size': 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  'font-size-adjust': 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  'font-stretch': 'fontStretch',\n  fontstyle: 'fontStyle',\n  'font-style': 'fontStyle',\n  fontvariant: 'fontVariant',\n  'font-variant': 'fontVariant',\n  fontweight: 'fontWeight',\n  'font-weight': 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  'glyph-name': 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  'glyph-orientation-horizontal': 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  'glyph-orientation-vertical': 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  'horiz-adv-x': 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  'horiz-origin-x': 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  'image-rendering': 'imageRendering',\n  in2: 'in2',\n  in: 'in',\n  inlist: 'inlist',\n  intercept: 'intercept',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  k: 'k',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  'letter-spacing': 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  'lighting-color': 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  'marker-end': 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  'marker-mid': 'markerMid',\n  markerstart: 'markerStart',\n  'marker-start': 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  'overline-position': 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  'overline-thickness': 'overlineThickness',\n  paintorder: 'paintOrder',\n  'paint-order': 'paintOrder',\n  panose1: 'panose1',\n  'panose-1': 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  'pointer-events': 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  prefix: 'prefix',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  property: 'property',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  'rendering-intent': 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  resource: 'resource',\n  restart: 'restart',\n  result: 'result',\n  results: 'results',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  security: 'security',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  'shape-rendering': 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  'stop-color': 'stopColor',\n  stopopacity: 'stopOpacity',\n  'stop-opacity': 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  'strikethrough-position': 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  'strikethrough-thickness': 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  'stroke-dasharray': 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  'stroke-dashoffset': 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  'stroke-linecap': 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  'stroke-linejoin': 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  'stroke-miterlimit': 'strokeMiterlimit',\n  strokewidth: 'strokeWidth',\n  'stroke-width': 'strokeWidth',\n  strokeopacity: 'strokeOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  suppresscontenteditablewarning: 'suppressContentEditableWarning',\n  suppresshydrationwarning: 'suppressHydrationWarning',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  'text-anchor': 'textAnchor',\n  textdecoration: 'textDecoration',\n  'text-decoration': 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  'text-rendering': 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  typeof: 'typeof',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  'underline-position': 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  'underline-thickness': 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  'unicode-bidi': 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  'unicode-range': 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  'units-per-em': 'unitsPerEm',\n  unselectable: 'unselectable',\n  valphabetic: 'vAlphabetic',\n  'v-alphabetic': 'vAlphabetic',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  'vector-effect': 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  'vert-adv-y': 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  'vert-origin-x': 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  'vertical-align': 'vertial-align',\n  'vert-origin-y': 'vertOriginY',\n  vhanging: 'vHanging',\n  'v-hanging': 'vHanging',\n  videographic: 'vIdeographic',\n  'v-ideographic': 'vIdeographic',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  vmathematical: 'vMathematical',\n  'v-mathematical': 'vMathematical',\n  vocab: 'vocab',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  'word-spacing': 'wordSpacing',\n  writingmode: 'writingMode',\n  'writing-mode': 'writingMode',\n  x1: 'x1',\n  x2: 'x2',\n  x: 'x',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  'x-height': 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  'xlink:actuate': 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  'xlink:arcrole': 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  'xlink:href': 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  'xlink:role': 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  'xlink:show': 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  'xlink:title': 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  'xlink:type': 'xlinkType',\n  xmlbase: 'xmlBase',\n  'xml:base': 'xmlBase',\n  xmllang: 'xmlLang',\n  'xml:lang': 'xmlLang',\n  xmlns: 'xmlns',\n  'xml:space': 'xmlSpace',\n  xmlnsxlink: 'xmlnsXlink',\n  'xmlns:xlink': 'xmlnsXlink',\n  xmlspace: 'xmlSpace',\n  y1: 'y1',\n  y2: 'y2',\n  y: 'y',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n};\n\nexport default possibleStandardNames;\n","import { createElement } from 'react';\n\ninterface WrapWithOutlineProps {\n  nodeName: string;\n  props: any;\n  children: any;\n  id: number;\n}\n\nconst WrapWithOutline = ({ nodeName, props, children, id }: WrapWithOutlineProps) => {\n  return createElement(\n    nodeName,\n    { ...props, key: id, style: { ...props.style, outline: '3px dotted rgb(121,202,182)' } },\n    children\n  );\n};\n\nexport { WrapWithOutline };\n","import React, { ReactNode } from 'react';\r\nimport { HtmlWrapper } from '../Components/HtmlWrapper';\r\nimport { logger } from './logger';\r\nimport possibleStandardNames from './reactPropertyNames';\r\nimport { WrapWithOutline } from './wrapWithOutline';\r\n\r\nconst DEBUG = false;\r\n\r\nconst domParser: any = new DOMParser();\r\n\r\nexport const htmlProcessor = (html: string): ReactNode => {\r\n  if (typeof html !== 'string') {\r\n    logger.error('htmlParser: html is not a string');\r\n    return React.createElement('div', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n\r\n  let doc = domParser.parseFromString(html, 'text/html');\r\n\r\n  if (doc === null) {\r\n    logger.error('htmlParser: doc is null, unable to process html');\r\n    return React.createElement('p', {}, 'errors: please check dev console') as ReactNode;\r\n  }\r\n  return converter(doc as unknown as HTMLElement, 1);\r\n};\r\n\r\nconst converter = (element: HTMLElement, key = 0) => {\r\n  if (element === undefined) {\r\n    return;\r\n  }\r\n\r\n  let nodeName = element.nodeName.toLowerCase();\r\n\r\n  // meta, script, style, ..etc, tags don't have children,\r\n  if (\r\n    nodeName === 'script' ||\r\n    nodeName === 'style' ||\r\n    nodeName === 'meta' ||\r\n    nodeName === 'link' ||\r\n    nodeName === 'title' ||\r\n    nodeName === 'br'\r\n  ) {\r\n    if (nodeName === 'meta') {\r\n      let el = element as HTMLMetaElement;\r\n      return React.createElement(\r\n        nodeName,\r\n        { httpEquiv: el.httpEquiv, content: el.content, key: nodeName + key++ },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'link') {\r\n      let el = element as HTMLLinkElement;\r\n      let type = null;\r\n      if (el.type) {\r\n        type = el.type;\r\n      }\r\n      return React.createElement(\r\n        nodeName,\r\n        {\r\n          href: el.href,\r\n          rel: el.rel,\r\n          type,\r\n          key: nodeName + key++,\r\n        },\r\n        null\r\n      );\r\n    }\r\n    if (nodeName === 'br') {\r\n      return React.createElement(nodeName, { key: nodeName + key++ }, null);\r\n    }\r\n\r\n    return React.createElement(nodeName, {\r\n      dangerouslySetInnerHTML: { __html: element.innerHTML, key: nodeName + key++ },\r\n    });\r\n  }\r\n\r\n  let attributes: { [key: string]: string | { [key: string]: string } | any } = {};\r\n\r\n  for (var i = 0; element.attributes && i < element.attributes.length; i++) {\r\n    let attribute = element.attributes[i];\r\n    let reactName = possibleStandardNames[attribute.name];\r\n\r\n    if (reactName === undefined) {\r\n      reactName = toCamelCase(attribute.name);\r\n      const msg = `htmlParser: ${attribute.name} is not found in possible attributes,\r\n      using ${reactName} instead.`;\r\n      DEBUG && logger.error(msg, element);\r\n    }\r\n\r\n    let value = attribute.name === 'style' ? convertStyleStringToObject(attribute.value) : attribute.value.trim();\r\n\r\n    attributes[reactName] = value;\r\n  }\r\n\r\n  attributes['key'] = key++;\r\n\r\n  let children: ReactNode[] = [];\r\n\r\n  if (element.className && element.className.includes('mj-text')) {\r\n    // if element is mj-text, we edit it with customInlineEditor by making div 'contentEditable' true.\r\n    //  do not handle children in react.\r\n\r\n    const original = { nodeName, props: { ...attributes, dangerouslySetInnerHTML: { __html: element.innerHTML } } };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n  }\r\n\r\n  for (let i = 0; i < element.childNodes.length; i++) {\r\n    let child = element.childNodes[i];\r\n\r\n    if (child['nodeName'] === '#text') {\r\n      if (child.textContent) {\r\n        // remove all new line characters & trim, problem with user's text content\r\n        //   is handled before this section in 'mj-text'\r\n        const content = child.textContent.replaceAll('\\n', '').trim();\r\n        if (content) {\r\n          children.push(content);\r\n        }\r\n      }\r\n      continue;\r\n    }\r\n\r\n    if (child['nodeName'] === '#comment') {\r\n      continue;\r\n    }\r\n\r\n    if (nodeName !== 'script' && nodeName !== 'style') {\r\n      children.push(converter(child as HTMLElement, key++));\r\n    }\r\n  }\r\n  if (element.classList && element.classList.contains('mjml-tag')) {\r\n    DEBUG && logger.info(`identified mjml-tag for : ${nodeName}, with attributes: ${JSON.stringify(attributes)}`);\r\n    // const ReactNode = React.createElement(nodeName, { key: key++, ...attributes }, children);\r\n    const original = { nodeName, props: { ...attributes }, children };\r\n\r\n    return <HtmlWrapper uniqueKey={key++} originalNode={original} />;\r\n    // return <HtmlWrapper children={ReactNode} key={key++} originalNode={original} />;\r\n  }\r\n\r\n  // process placehodler item differently, if mj-text is placer, the wrapper is td,\r\n  //    td does not obey border properties, so outline can be used.\r\n  if (element.classList && element.classList.contains('placeitem-placeholder')) {\r\n    return <WrapWithOutline id={key++} nodeName={nodeName} props={{ ...attributes }} children={children} />;\r\n  }\r\n\r\n  // if root document, create it with div,\r\n  // todo: rnd if this document can be abstracted from the main document,\r\n  if (nodeName === '#document') {\r\n    nodeName = 'div';\r\n  }\r\n\r\n  // remove href in link\r\n  if (nodeName === 'a') {\r\n    delete attributes['href'];\r\n    delete attributes['target'];\r\n  }\r\n\r\n  // img tag should not have child param passed to it\r\n  if (nodeName === 'img') {\r\n    return React.createElement(nodeName, { key: key++, ...attributes }, null);\r\n  } else if (element.nodeType === 3) {\r\n    return React.createElement(nodeName, { ...attributes, key: key++ }, element.textContent);\r\n  }\r\n\r\n  return React.createElement(nodeName, attributes, children);\r\n};\r\n\r\nconst convertStyleStringToObject = (style: string) => {\r\n  let styleObject: { [key: string]: string } = {};\r\n\r\n  //  edgecase\r\n  //  \"background:#ffffff url('background:#ffffff url('https://lh3.googleusercontent.com/-y_e1bS8pZSc/YKkCKwNrxgI/AAAAAAAADuY/l1ygemViAp8ZXd44mAvqypqg7zsTD2gIACLcBGAsYHQ/s1600/1621688872017805-1.png') center top / auto repeat;') center top / auto repeat;background-position:center top;background-repeat:repeat;background-size:auto;margin:0px auto;border-radius:0px;max-width:600px;\"\r\n  // https://stackoverflow.com/a/9219386/6843092, with negative lookahead\r\n  let styleArray = style.split(/;+(?![^(]*\\))/g);\r\n\r\n  for (let i = 0; i < styleArray.length; i++) {\r\n    if (styleArray[i] === '') {\r\n      continue;\r\n    }\r\n\r\n    // bug while parsing\r\n    // 'background:#ffffff url('https://...') center top / auto repeat;'\r\n    let [key, ..._value] = styleArray[i].split(':');\r\n\r\n    let stylePair = [key, _value.join(':')];\r\n    let property = stylePair[0].trim();\r\n    property = toCamelCase(property);\r\n    let value = stylePair[1].trim();\r\n    styleObject[property] = value;\r\n  }\r\n\r\n  return styleObject;\r\n};\r\n\r\nconst toCamelCase = (str: string) => {\r\n  return str.replace(/([-_][a-z])/gi, ($1) => {\r\n    return $1.toUpperCase().replace('-', '').replace('_', '');\r\n  });\r\n};\r\n","import { message } from 'antd';\n\nconst success = (msg: string) => {\n  message.success(msg);\n};\n\nconst error = (msg: string) => {\n  message.error(msg);\n};\n\nconst warning = (msg: string) => {\n  message.warning(msg);\n};\n\nexport { success, error, warning };\n","// remove the empty placeholder-banner if present\nconst removePlaceholderBanner = (item: any) => {\n  if (item && item.children) {\n    item.children = item.children.filter((config: any) => {\n      if (config && config['attributes'] && config['attributes']['css-class']) {\n        return !config['attributes']['css-class'].includes('mj-placeholder');\n      }\n      return true;\n    });\n  }\n  return item;\n};\n\nconst insertAtPlaceholderIndicatorPosition = (item: any, itemToInsert: any) => {\n  if (item.tagName !== 'mj-body' && item.children.length) {\n    // place the dropped config in the placeholder position, this only is needed for\n    //   items, which has children\n    for (var i = 0; i < item.children.length; i++) {\n      const child = item.children[i];\n      const cssClass = child.attributes['css-class'];\n      if (cssClass && cssClass.includes('placeitem-placeholder')) {\n        item.children[i] = itemToInsert;\n        continue;\n      }\n      item.children[i] = child;\n    }\n  } else {\n    // children are empty\n    item.children.push(itemToInsert);\n  }\n\n  return item;\n};\n\nexport { removePlaceholderBanner, insertAtPlaceholderIndicatorPosition };\n","import { message } from 'antd';\nimport _ from 'lodash';\nimport { error } from '../Components/Messages';\nimport { columnPlaceholder } from '../Components/Section';\nimport {\n  findClosestParent,\n  findUniqueIdentifier,\n  generateUniqueIdRecursively,\n  getIndexOfElementInParent,\n} from './closestParent';\nimport { findElementInJson } from './findElementInMjmlJson';\nimport { logger } from './logger';\nimport { cleanMjmlJson } from './mjmlProcessor';\nimport { insertAtPlaceholderIndicatorPosition, removePlaceholderBanner } from './removePlaceholders';\nimport { UNDOREDO } from './undoRedo';\n\ninterface AddProps {\n  target: HTMLElement;\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n}\n\nconst Add = ({ target, droppedConfig, setMjmlJson, mjmlJson, uid }: AddProps) => {\n  let uniqueClassName = findClosestParent(target);\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  if (droppedConfig.tagName !== 'mj-section') {\n    if (uniqueClassName === 'identifier-mj-body' || uniqueClassName === 'identifier-mj-section') {\n      const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n      setMjmlJson({ ...cleanedMjmlJson });\n      error('kindly place the item on column instead ');\n      return null;\n    }\n  }\n\n  if (droppedConfig.tagName && droppedConfig.tagName === 'mj-section') {\n    if (uniqueClassName !== 'identifier-mj-body') {\n      const msg = 'Columns can not be nested! it will break mobile design';\n      message.info(msg);\n      logger.log(`operation add: ${msg}`);\n      return;\n    }\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(_.cloneDeep(mjmlJson), uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  item = insertAtPlaceholderIndicatorPosition(item, droppedConfigWithUid);\n\n  if (UNDOREDO.isUndoEmpty()) {\n    UNDOREDO.newAction(cleanMjmlJson(_.cloneDeep(mjmlJson)));\n  }\n\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface AddAtIndexProps {\n  droppedConfig: any;\n  mjmlJson: any;\n  setMjmlJson: any;\n  uid: () => string;\n  parentUniqueClassIdentifier: string;\n  index: number;\n}\n\nconst AddAtIndex = ({\n  droppedConfig,\n  setMjmlJson,\n  mjmlJson,\n  uid,\n  parentUniqueClassIdentifier,\n  index,\n}: AddAtIndexProps) => {\n  let uniqueClassName = parentUniqueClassIdentifier;\n\n  if (!uniqueClassName) {\n    const cleanedMjmlJson = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleanedMjmlJson });\n    return null;\n  }\n\n  let droppedConfigWithUid = _.cloneDeep(droppedConfig);\n  droppedConfigWithUid = generateUniqueIdRecursively(droppedConfigWithUid, uid);\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [item, path] = ObjectEquivalent;\n  logger.info('operation add: item in Object:', item, 'path to Object:', path);\n\n  item = removePlaceholderBanner(item);\n\n  // insert the dropped config at the specified location\n  if (index > -1) {\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i === index) {\n        item.children.splice(i, 0, droppedConfigWithUid);\n      }\n    }\n  }\n  let updated = _.set(mjmlJson, path.slice(1), item);\n  updated = cleanMjmlJson(updated);\n\n  UNDOREDO.newAction(updated);\n  setMjmlJson({ ...updated });\n};\n\ninterface RemoveProps {\n  target?: HTMLElement | undefined;\n  uniqueClassName?: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  setDelActive: any;\n  setCopyActive: any;\n  setActive: any;\n  movement?: boolean;\n}\n\nconst Remove = ({\n  target,\n  uniqueClassName: ucn,\n  mjmlJson,\n  setMjmlJson,\n  setDelActive,\n  setCopyActive,\n  setActive,\n  movement,\n}: RemoveProps) => {\n  let uniqueClassName;\n  if (target) {\n    uniqueClassName = findClosestParent(target);\n  } else if (ucn) {\n    uniqueClassName = ucn;\n  } else {\n    logger.info(`operation remove: either target/uniqueClassName must be provided \n      to perform this operation\n    `);\n    return;\n  }\n  if (!uniqueClassName) {\n    return null;\n  }\n\n  const ObjectEquivalent = findElementInJson(mjmlJson, uniqueClassName);\n  if (!ObjectEquivalent) {\n    return null;\n  }\n\n  let [, path]: [any, string] = ObjectEquivalent;\n  let parent: any = path.split('.');\n  const last: string = parent.pop();\n  parent = parent.join('.');\n  let item = _.get(mjmlJson, parent.slice(1));\n  const regExMatch = last.match(/\\[(.*?)\\]/);\n\n  if (regExMatch) {\n    const indexToRemove = parseInt(regExMatch[1]);\n    let newChildren = [];\n    for (var i = 0; item && item.children && i < item.children.length; i++) {\n      if (i !== indexToRemove) {\n        newChildren.push(item.children[i]);\n      }\n    }\n\n    // if column is empty, fill it with placeholder\n    if (parent) {\n      const parentItem = _.get(mjmlJson, parent.slice(1));\n\n      if (parentItem.tagName && parentItem.tagName === 'mj-column' && newChildren.length === 0) {\n        newChildren = columnPlaceholder;\n      }\n    }\n\n    item.children = newChildren;\n  }\n\n  setActive(null);\n  const updated = _.set(mjmlJson, parent.slice(1), item);\n  if (updated) {\n    setDelActive(false);\n    setCopyActive(false);\n    setMjmlJson({ ...updated });\n    // for moving elements in editor,\n    //   the way it works is that the element is removed from the parent first,\n    //   then the placeholder is replaced with the element\n    //   for undo action dont need to show the process\n    if (!movement) {\n      UNDOREDO.newAction(updated);\n    }\n  } else {\n    logger.info('operation remove: unable to delete the item');\n  }\n};\n\ninterface UpdateValueProps {\n  visible: boolean | null;\n  path: string;\n  mjmlJson: any;\n  setMjmlJson: any;\n  attribute: string;\n  value: any;\n}\n\nconst UpdateValue = ({ visible, path, mjmlJson, setMjmlJson, attribute, value }: UpdateValueProps) => {\n  if (visible && path) {\n    let item = _.get(mjmlJson, path, visible);\n    if (item) {\n      if (item['attributes'] && item['attributes'][attribute] !== value) {\n        item['attributes'][attribute] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  }\n};\n\ninterface CopyProps extends Exclude<RemoveProps, 'uniqueClassName'> {\n  target: HTMLElement;\n  uidGenerator: () => string;\n}\n\nconst Copy = ({ mjmlJson, setActive, setMjmlJson, setCopyActive, setDelActive, target, uidGenerator }: CopyProps) => {\n  const uniqueIdentifier = findUniqueIdentifier(target, target.classList);\n  let parentUniqueIdentifier = '';\n  let index = -1;\n\n  if (uniqueIdentifier) {\n    const _ = getIndexOfElementInParent(target, mjmlJson, uniqueIdentifier);\n    if (_ && typeof _[0] === 'number' && typeof _[1] === 'string') {\n      [index, parentUniqueIdentifier] = _;\n    } else {\n      message.error('Unable to copy element');\n      return;\n    }\n  }\n\n  let copyOfConfig = findElementInJson(mjmlJson, uniqueIdentifier);\n  if (copyOfConfig && index > -1) {\n    [copyOfConfig] = copyOfConfig;\n    setCopyActive(false);\n    setDelActive(false);\n    setActive(null);\n\n    return AddAtIndex({\n      droppedConfig: _.cloneDeep(copyOfConfig),\n      setMjmlJson,\n      mjmlJson,\n      uid: uidGenerator,\n      index,\n      parentUniqueClassIdentifier: parentUniqueIdentifier,\n    });\n  }\n};\n\nexport { Add, Remove, UpdateValue, Copy };\n","const findTextNode = (node: any): any => {\n  if (node.nodeType === 3) {\n    return node;\n  }\n\n  for (let i = 0; node.childNodes && i < node.childNodes.length; i++) {\n    const textNode = findTextNode(node.childNodes[i]);\n    if (textNode) {\n      return closestDivToTextNode(textNode);\n    }\n  }\n};\n\nconst closestDivToTextNode = (node: any): any => {\n  if (!node) {\n    return null;\n  }\n  if (node.nodeType === 3) {\n    return closestDivToTextNode(node.parentNode);\n  }\n\n  const element = node;\n\n  if (element.nodeType === 1) {\n    const closestDiv = element.closest('div');\n    return closestDiv;\n  }\n\n  return element;\n};\n\nexport { findTextNode };\n","import { createContext, FC, useState } from 'react';\n\nexport const QuillContext = createContext<any>(null);\n\nexport const QuillEditor: FC = (props) => {\n  const [QuillActive, setQuillActive] = useState(false);\n  const [quillEditor, setQuillEditor] = useState<any>(null);\n  const [quillX, setQuillX] = useState(0);\n  const [quillY, setQuillY] = useState(0);\n\n  return (\n    <QuillContext.Provider\n      value={{\n        QuillActive,\n        setQuillActive,\n        quillEditor,\n        setQuillEditor,\n        quillX,\n        quillY,\n        setQuillX,\n        setQuillY,\n      }}\n    >\n      {props.children}\n    </QuillContext.Provider>\n  );\n};\n","import { useContext } from 'react';\nimport { QuillContext } from '../Context/Quill.context';\n\nexport const useQuillEditor = () => {\n  const Quill = useContext(QuillContext);\n  return Quill as unknown as {\n    QuillActive: boolean;\n    setQuillActive: (args: boolean) => void;\n    quillEditor: any;\n    setQuillEditor: (args: any) => void;\n    quillX: number;\n    quillY: number;\n    setQuillX: (args: number) => void;\n    setQuillY: (args: number) => void;\n  };\n};\n","import { CKEditor } from '@ckeditor/ckeditor5-react';\nimport { Button, Popconfirm } from 'antd';\nimport ED from 'ckeditor5-custom-build/build/ckeditor';\nimport { useEffect, useMemo } from 'react';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { Remove, Copy as CopyOperation } from '../../Utils/operations';\nimport { findTextNode } from '../../Utils/findTextNode';\nimport Quill from 'quill';\nimport { useQuillEditor } from '../../Hooks/Quill.hook';\nimport { findUniqueIdentifier } from '../../Utils/closestParent';\nimport { findElementInJson } from '../../Utils/findElementInMjmlJson';\nimport _ from 'lodash';\nimport CopyFilled from '@ant-design/icons/lib/icons/CopyFilled';\nimport DeleteFilled from '@ant-design/icons/lib/icons/DeleteFilled';\nimport { useUniqueIdGenerator } from '../../Hooks/Drag.hook';\nimport { logger } from '../../Utils/logger';\n\nexport const Editor = () => {\n  const { ref, isActive, x, y, delActive, delX, delY, setDelActive, copy } = useCkeditor();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active, setActive } = useHtmlWrapper();\n  const { QuillActive, quillX, quillY, setQuillEditor, setQuillActive } = useQuillEditor();\n  let { quillEditor } = useQuillEditor();\n  const { copyActive, setCopyActive, copyX, copyY } = copy;\n  const { getId } = useUniqueIdGenerator();\n\n  useEffect(() => {\n    if (quillEditor) {\n      const identifier = findUniqueIdentifier(active, active.classList);\n      quillEditor.on('text-change', () => {\n        const change = quillEditor.container.firstChild.innerHTML;\n        logger.log(change);\n        if (identifier) {\n          let position = findElementInJson(mjmlJson, identifier);\n          if (position) {\n            let [, path] = position;\n            let item = _.get(mjmlJson, path.slice(1));\n            item.content = change;\n            const updated = _.set(mjmlJson, path.slice(1), item);\n            setMjmlJson({ ...updated });\n          }\n        }\n      });\n    }\n    return () => quillEditor && quillEditor.off('text-change');\n  }, [quillEditor]);\n\n  useEffect(() => {\n    if (active && QuillActive) {\n      let textNode = findTextNode(active);\n\n      if (quillEditor) {\n        // previous instance listeners\n        quillEditor.off('text-change');\n      }\n\n      if (textNode) {\n        // fix for QuillWrapper keeps wrapping up an extra div on init\n        while (textNode.parentElement.classList.contains('ql-container') || textNode.hasAttribute('data-gramm')) {\n          textNode = textNode.parentElement;\n        }\n        if (textNode.classList.contains('ql-container')) {\n          textNode.classList.remove('ql-container');\n          textNode.classList.remove('ql-snow');\n        }\n\n        let lquill: any = new Quill(textNode, { theme: 'snow', modules: { toolbar: '#toolbarContainer' } });\n\n        // fix for allowing multiple instances,\n        // on how it works refer, 'https://github.com/quilljs/quill/blob/develop/modules/toolbar.js'\n        // pain \\u{1F63F}\n        lquill.getModule('toolbar').container.childNodes.forEach((element: any) => {\n          const clone = element.cloneNode(true);\n          element.parentNode.replaceChild(clone, element);\n        });\n\n        let toolbar = lquill.getModule('toolbar');\n\n        toolbar.container.childNodes.forEach((input: any) => {\n          toolbar.attach(input);\n        }, toolbar);\n\n        setQuillEditor(lquill);\n        lquill.editor.scroll.domNode.classList.remove('ql-editor');\n\n        // remove clipboard and tooltip\n        lquill.container.children[1].remove();\n        lquill.container.children[1].remove();\n        lquill = undefined;\n      }\n    }\n  }, [active]);\n\n  const deleteConfirm = useMemo(\n    () => () => {\n      if (active) {\n        // setQuillActive(false);\n        Remove({ target: active, mjmlJson, setMjmlJson, setDelActive, setActive, setCopyActive });\n      }\n    },\n    [active]\n  );\n\n  const copyAction = () => {\n    if (active) {\n      CopyOperation({\n        mjmlJson,\n        setActive,\n        setMjmlJson,\n        setCopyActive,\n        setDelActive,\n        target: active,\n        uidGenerator: getId,\n      });\n    }\n  };\n\n  return (\n    <>\n      {/* <div\n        id=\"toolbarContainer\"\n        style={{\n          visibility: QuillActive ? 'visible' : 'hidden',\n          backgroundColor: '#fff',\n          zIndex: 99,\n          position: 'fixed',\n          left: `${quillX}px`,\n          top: `${quillY}px`,\n        }}\n      >\n        <button className=\"ql-bold\"></button>\n        <button className=\"ql-italic\"></button>\n        <button className=\"ql-underline\"></button>\n        <button className=\"ql-script\" value=\"sub\"></button>\n        <button className=\"ql-script\" value=\"super\"></button>\n      </div> */}\n\n      {/* <div\n        key=\"editorContainer\"\n        id=\"editorContainer\"\n        ref={ref}\n        style={{ display: isActive ? 'block' : 'none', position: 'fixed', left: `${x}px`, top: `${y}px` }}\n      >\n        <div key=\"editor\">\n          <CKEditor\n            editor={ED}\n            disabled={false}\n            config={{\n              toolbar: [\n                'fontSize',\n                'fontColor',\n                'FontFamily',\n                'FontBackgroundColor',\n                '|',\n                'heading',\n                '|',\n                'bold',\n                'italic',\n                '|',\n                'undo',\n                'redo',\n                'insertTable',\n              ],\n            }}\n            data={'placement'}\n            onReady={(editor) => {}}\n            onChange={(event, editor) => {}}\n            onBlur={(event, editor) => {}}\n            onFocus={(event, editor) => {}}\n          />\n        </div>\n      </div> */}\n      <Delete\n        style={{ display: delActive ? 'block' : 'none', position: 'fixed', left: `${delX}px`, top: `${delY}px` }}\n        deleteConfirm={deleteConfirm}\n      />\n      <Copy\n        onClick={copyAction}\n        style={{ display: copyActive ? 'block' : 'none', position: 'fixed', left: `${copyX}px`, top: `${copyY}px` }}\n      />\n    </>\n  );\n};\n\ninterface DeleteProps {\n  style: any;\n  deleteConfirm: () => void;\n}\n\nconst Delete = ({ style, deleteConfirm }: DeleteProps) => {\n  return (\n    <Popconfirm placement=\"right\" title=\"Are you sure ?\" okText=\"Delete\" cancelText=\"Cancel\" onConfirm={deleteConfirm}>\n      <Button style={style} type=\"primary\" icon={<DeleteFilled />} />\n    </Popconfirm>\n  );\n};\n\ninterface CopyProps {\n  style: any;\n  onClick: () => void;\n}\n\nconst Copy = ({ style, onClick }: CopyProps) => {\n  return <Button style={style} onClick={onClick} type=\"primary\" icon={<CopyFilled />} />;\n};\n","import { UndoOutlined, RedoOutlined } from '@ant-design/icons';\nimport { Button, Tooltip } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\n\ninterface UndoRedoProps {\n  undoCallback: () => void;\n  redoCallback: () => void;\n}\n\nconst UndoRedo = ({ undoCallback, redoCallback }: UndoRedoProps) => {\n  return (\n    <div style={{ position: 'fixed', padding: '8px', display: 'flex', flexDirection: 'column', rowGap: '4px' }}>\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"undo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isUndoEmpty()}\n          onClick={undoCallback}\n          type=\"default\"\n          size=\"large\"\n          style={{ background: '#fff' }}\n          icon={<UndoOutlined />}\n        />\n      </Tooltip>\n\n      <Tooltip mouseEnterDelay={0.5} color=\"cyan\" title=\"redo\" placement=\"right\">\n        <Button\n          disabled={UNDOREDO.isRedoEmpty()}\n          onClick={redoCallback}\n          type=\"default\"\n          style={{ background: '#fff' }}\n          size=\"large\"\n          icon={<RedoOutlined />}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport { UndoRedo };\n","import { useEditor } from '../../Hooks/Editor.hook';\nimport mjml2html from 'mjml-browser';\nimport css from './Editor.module.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { htmlProcessor } from '../../Utils/htmlProcessor';\nimport { Editor } from '../../Components/Mods/Editor';\nimport { Add, Remove } from '../../Utils/operations';\nimport { useDragAndDropUniqueId } from '../../Hooks/Drag.hook';\nimport '../../Assets/Css/ckeditorOverride.css';\nimport '../../Assets/Css/quillOverride.css';\nimport { InlineEditor } from '../../Components/Mods/CustomInlineEditor';\nimport styled from 'styled-components';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useCkeditor } from '../../Hooks/Ckeditor.hook';\nimport { memo, useCallback, useEffect } from 'react';\nimport { UndoRedo } from '../../Components/UndoRedo';\nimport _ from 'lodash';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\n\ninterface ViewProps {}\n\nconst DesignContainer = styled('div')`\n  .editor-active {\n    :focus {\n      outline: none;\n    }\n  }\n`;\n\nexport const View = (props: ViewProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getId } = useDragAndDropUniqueId();\n  const { setActive, active } = useHtmlWrapper();\n  const {\n    setDelActive,\n    copy,\n    drag: { setIsColumn, isColumn },\n  } = useCkeditor();\n  const { setCopyActive } = copy;\n\n  useEffect(() => {\n    UNDOREDO.print();\n  }, [mjmlJson]);\n\n  const undoCallback = () => {\n    const action = UNDOREDO.undoAction(mjmlJson);\n    if (action) {\n      setMjmlJson({ ...action });\n      setActive(null);\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n  const redoCallback = () => {\n    const action = UNDOREDO.redoAction(mjmlJson);\n    if (action) {\n      setActive(null);\n      setMjmlJson({ ...action });\n      setDelActive(false);\n      setCopyActive(false);\n    }\n  };\n\n  const onDragOver = useCallback(\n    (e: any) => {\n      if (active) {\n        setActive(null);\n      }\n      e.preventDefault();\n    },\n    [setActive, active]\n  );\n\n  const onDrop = (e: any) => {\n    e.preventDefault();\n    isColumn && setIsColumn(false);\n    let config = JSON.parse(e.dataTransfer.getData('config'));\n    if (config && config.mode && config.mode === 'move' && config['config']) {\n      // remove the item old position, before inserting in new position\n      Remove({\n        uniqueClassName: config.uniqueClassName,\n        mjmlJson,\n        setMjmlJson,\n        setActive,\n        setDelActive,\n        setCopyActive,\n        movement: true,\n      });\n      logger.info(`operation move: onDrop -> removed previous instance \n      of config :'${config.uniqueClassName}'`);\n      config = config['config'];\n    }\n    Add({\n      target: e.nativeEvent.target,\n      droppedConfig: config,\n      mjmlJson,\n      setMjmlJson,\n      uid: getId,\n    });\n  };\n\n  return (\n    <Scrollbars style={{ height: '100%' }}>\n      <Editor />\n      <InlineEditor />\n      <UndoRedo undoCallback={undoCallback} redoCallback={redoCallback} />\n      <DesignContainer\n        className={`${css.viewHolder} mjml-wrapper mjml-tag identifier-mj-body`}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n      >\n        <MjmlProcessor mjml={mjmlJson} isColumn={isColumn} />\n      </DesignContainer>\n    </Scrollbars>\n  );\n};\n\nconst MjmlProcessor = memo(({ mjml, isColumn }: { mjml: any; isColumn: boolean }) => {\n  return mjml && htmlProcessor(mjml2html(mjml).html);\n});\n","import AlignCenterOutlined from '@ant-design/icons/lib/icons/AlignCenterOutlined';\nimport AlignLeftOutlined from '@ant-design/icons/lib/icons/AlignLeftOutlined';\nimport AlignRightOutlined from '@ant-design/icons/lib/icons/AlignRightOutlined';\nimport PicCenterOutlined from '@ant-design/icons/lib/icons/PicCenterOutlined';\nimport { Button, Col, Form, Row, Tooltip } from 'antd';\nimport _ from 'lodash';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'align';\n\nexport const Align = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (align: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes) {\n        item.attributes['align'] = align;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"3\">\n        <Form.Item label=\"Align\"></Form.Item>\n      </Col>\n      <Col flex=\"2\">\n        <Row justify=\"space-between\">\n          <Tooltip title=\"Left\">\n            <Button onClick={() => onClick('left')} type=\"ghost\" icon={<AlignLeftOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip title=\"Justify\">\n              <Button onClick={() => onClick('justify')} type=\"ghost\" icon={<PicCenterOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Center\">\n              <Button onClick={() => onClick('center')} type=\"ghost\" icon={<AlignCenterOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Right\">\n              <Button onClick={() => onClick('right')} type=\"ghost\" icon={<AlignRightOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst ATTRIBUTE = 'background-color';\ninterface BackgroundProps {\n  activePath?: string;\n  label?: string;\n  overrideAttribute?: string;\n}\n\nexport const Background = ({ activePath, label, overrideAttribute }: BackgroundProps) => {\n  const attribute = overrideAttribute || ATTRIBUTE;\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const [visible, path] = useVisibility({ attribute, customPath: activePath });\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[attribute]) {\n        setColor(item.attributes[attribute]);\n      }\n    }\n    logger.log('background reloading,', path, visible);\n  }, [path, visible]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes[attribute] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label={label ? label : 'Background'}></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'border';\n\ninterface BorderProps {\n  activePath?: string;\n  label?: string;\n  attribute_name?: string;\n}\n\nexport const Border = ({ activePath, label, attribute_name }: BorderProps) => {\n  let attributeName = attribute_name || ATTRIBUTE;\n  const [visible, path] = useVisibility({ attribute: attributeName, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: attributeName });\n\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[attributeName] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label={label ? label : 'Border'}>\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n  if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n    e.currentTarget.value = '';\n  }\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'border-radius';\n\ninterface BorderRadiusProps {\n  activePath?: string;\n}\n\nexport const BorderRadius = ({ activePath }: BorderRadiusProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (visible && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = 'none';\n      }\n      setValue(e.currentTarget.value);\n    }\n  };\n\n  const setValue = (value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-radius'];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n        setValue(value);\n      }\n    }\n  };\n\n  let value = '';\n  if (visible) {\n    value = _.get(mjmlJson, path + 'attributes.border-radius');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Radius\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport styled from 'styled-components';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Form, Row } from 'antd';\nimport { ChromePicker } from 'react-color';\nimport { useEffect, useState } from 'react';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { logger } from '../../Utils/logger';\n\nconst ATTRIBUTE = 'container-background-color';\n\nexport const ContainerBackground = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [active, setActive] = useState(() => false);\n  const [color, setColor] = useState(() => '#ccc');\n  const { active: clicked } = useHtmlWrapper();\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (clicked && visible) {\n      try {\n        if (path) {\n          let item = _.get(mjmlJson, path);\n          if (item.mutableProperties.includes(ATTRIBUTE)) {\n            setColor(item.attributes[ATTRIBUTE]);\n          }\n        }\n      } catch (e) {\n        logger.info('got exception, hiding background mod', e);\n      }\n    }\n  }, [clicked]);\n\n  const handleColorChange = (color: any) => {\n    const hexCode = `${color.hex}${decimalToHex(color.rgb.a)}`;\n    setColor(hexCode);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      element.attributes['container-background-color'] = hexCode;\n      let json = _.set(mjmlJson, path, element);\n\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <>\n      <Row>\n        <Col flex=\"auto\">\n          <Form.Item label=\"Container Background\"></Form.Item>\n        </Col>\n\n        <ColorPicker color={color} flex=\"none\">\n          <div className=\"swatch\" onClick={() => setActive(true)}>\n            <div className=\"color\"></div>\n          </div>\n          {active ? (\n            <div className=\"popover\">\n              <div className=\"cover\" onClick={() => setActive(false)}></div>\n              <ChromePicker disableAlpha={false} color={color} onChange={(color: any) => handleColorChange(color)} />\n            </div>\n          ) : null}\n        </ColorPicker>\n      </Row>\n    </>\n  ) : null;\n};\n\nconst decimalToHex = (alpha: number) => (alpha === 0 ? '00' : Math.round(255 * alpha).toString(16));\n\nconst ColorPicker = styled(Col)`\n  .color {\n    width: 25px;\n    height: 25px;\n    border-radius: 2px;\n    background: ${(props) => props.color};\n  }\n  .swatch {\n    padding: 5px;\n    background: #fff;\n    border-radius: 1px;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .popover {\n    position: absolute;\n    z-index: 2;\n    top: -108px;\n    left: -200px;\n  }\n\n  .cover {\n    position: fixed;\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n  }\n`;\n","import { useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport _ from 'lodash';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst PROPERTY = 'content';\n\nexport const Content = () => {\n  const [visible, path] = useVisibility({ property: PROPERTY });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState('');\n  const [isReadOnly, setIsReadOnly] = useState<boolean | null>(null);\n  const [htmlBlock, setHtmlBlock] = useState(false);\n  const { active } = useHtmlWrapper();\n\n  useEffect(() => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        setValue(item.content ? item.content : '');\n\n        // maintain read only state for some attributes\n        if (item.tagName === 'mj-text') {\n          if (item.attributes && item.attributes['css-class'] && item.attributes['css-class'].includes('html-block')) {\n            setIsReadOnly(false);\n            setHtmlBlock(true);\n            return;\n          }\n          setIsReadOnly(true);\n        } else {\n          setIsReadOnly(false);\n        }\n        setHtmlBlock(false);\n      }\n    }\n  }, [visible, path]);\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    let value = e.currentTarget.value;\n    setValue(value);\n    if (path && visible) {\n      let element = _.get(mjmlJson, path);\n      // while in middle of editing, if the element is removed.\n      if (element) {\n        if (element[PROPERTY] !== value) {\n          element[PROPERTY] = value;\n          const updated = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Content\">\n      {htmlBlock ? (\n        <Input.TextArea rows={28} onChange={handleChange} value={value} />\n      ) : (\n        <Input.TextArea\n          disabled={isReadOnly ? isReadOnly : false}\n          readOnly={isReadOnly ? isReadOnly : false}\n          rows={3}\n          onChange={handleChange}\n          value={value}\n        />\n      )}\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input, Row, Col } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\n\ninterface CordinalBorderProps {\n  activePath?: string;\n}\nexport const CordinalBorder = ({ activePath }: CordinalBorderProps) => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [visible, path] = useVisibility({ attribute: 'border-top', customPath: activePath });\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (visible && path && e.target.value) {\n      if (e.target.value === '') {\n        e.target.value = '';\n      }\n      setValue(direction, e.target.value);\n    }\n  };\n\n  const setValue = (direction: string, value: string) => {\n    if (path) {\n      if (value === '') {\n        value = 'none';\n      }\n      let element = _.get(mjmlJson, path);\n      element.attributes[`border-${direction}`] = value;\n      const json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (visible) {\n        const attributes = _.get(mjmlJson, path + 'attributes');\n        let value = attributes['border-' + direction];\n        const re = new RegExp(/^\\d+/);\n        const match = re.exec(value);\n        let matchedValue = match ? parseInt(match[0]) : 0;\n        if (e.key === 'ArrowUp') {\n          value = value.replace(/^\\d+/, matchedValue + 1);\n        } else if (e.key === 'ArrowDown' && matchedValue > 0) {\n          value = value.replace(/^\\d+/, matchedValue - 1);\n        }\n        e.currentTarget.value = value;\n\n        setValue(direction, e.currentTarget.value);\n      }\n    }\n  };\n\n  let [valuel, valuer, valueb, valuet] = ['', '', '', ''];\n  if (visible) {\n    valuel = _.get(mjmlJson, path + 'attributes.border-left');\n    valuer = _.get(mjmlJson, path + 'attributes.border-right');\n    valuet = _.get(mjmlJson, path + 'attributes.border-top');\n    valueb = _.get(mjmlJson, path + 'attributes.border-bottom');\n  }\n\n  return visible ? (\n    <Form.Item label=\"Border Directions\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"top\"\n              onKeyDown={(e) => onKeyDown(e, 'top')}\n              onChange={(e) => handleChange(e, 'top')}\n              value={valuet}\n            />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"right\"\n              onKeyDown={(e) => onKeyDown(e, 'right')}\n              onChange={(e) => handleChange(e, 'right')}\n              value={valuer}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input\n              addonBefore=\"bottom\"\n              onKeyDown={(e) => onKeyDown(e, 'bottom')}\n              onChange={(e) => handleChange(e, 'bottom')}\n              value={valueb}\n            />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input\n              addonBefore=\"left\"\n              onKeyDown={(e) => onKeyDown(e, 'left')}\n              onChange={(e) => handleChange(e, 'left')}\n              value={valuel}\n            />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n","import { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { Form, Input } from 'antd';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { ChangeEvent } from 'react';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'font-size';\n\nexport const FontSize = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"FontSize\">\n      <Input onChange={handleChange} value={getValue()} />\n    </Form.Item>\n  ) : null;\n};\n","import _ from 'lodash';\nimport { ChangeEvent } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\n\nconst ATTRIBUTE = 'src';\n\nconst Img = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  //todo: check if changing directly to mjmlJson causes perfomance impact\n  //   if so, then maintain a local state, then on change change the value first,\n  //   then by using useeffect listen for the in localvalue, then update the mjmlJson.\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col span={24}>\n        <Input addonBefore=\"src\" onChange={(e) => handleChange(e)} value={getValue()} />\n      </Col>\n    </Row>\n  ) : null;\n};\n\nexport { Img };\n","import { Form, Input } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { logger } from '../../Utils/logger';\nimport { UpdateValue } from '../../Utils/operations';\n\nconst ATTRIBUTE = 'inner-padding';\n\nconst InnerPadding = () => {\n  let [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>();\n\n  useEffect(() => {\n    if (visible && path) {\n      const item = _.get(mjmlJson, path);\n      if (item && item.attributes && item.attributes[ATTRIBUTE]) {\n        setValue(item.attributes[ATTRIBUTE]);\n      }\n    }\n  }, [visible, path]);\n\n  useEffect(() => {\n    value && UpdateValue({ visible, path, mjmlJson, setMjmlJson, value, attribute: ATTRIBUTE });\n  }, [value]);\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    logger.log('inner padding value', value);\n    if (path && visible) {\n      setValue(value);\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Inner Padding :\">\n      <Input onChange={handleChange} type=\"text\" value={value} />\n    </Form.Item>\n  ) : null;\n};\n\nexport { InnerPadding };\n","import _ from 'lodash';\nimport { ChangeEvent } from 'react';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Col, Input, Row } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport Form from 'rc-field-form/es/Form';\nimport FormItem from 'antd/lib/form/FormItem';\n\nconst ATTRIBUTE = 'href';\n\nconst Link = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  //todo: check if changing directly to mjmlJson causes perfomance impact\n  //   if so, then maintain a local state, then on change change the value first,\n  //   then by using useeffect listen for the in localvalue, then update the mjmlJson.\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (path && visible) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n\n  return visible ? (\n    <FormItem>\n      <Row>\n        <Col span={24}>\n          <Input addonBefore={ATTRIBUTE} onChange={(e) => handleChange(e)} value={getValue()} />\n        </Col>\n      </Row>\n    </FormItem>\n  ) : null;\n};\n\nexport { Link };\n","import { Form, Input, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { ChangeEvent, useMemo } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\n\ninterface PaddingProps {\n  activePath?: string;\n}\n\nconst Padding = ({ activePath }: PaddingProps) => {\n  let [visible, path, active] = useVisibility({ attribute: 'padding', customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, direction: string) => {\n    if (e.currentTarget.value === '') {\n      e.currentTarget.value = '0';\n    }\n    // if (!value.includes('px')) {\n    //   e.currentTarget.value = `${value}px`;\n    // }\n    setPadding(direction, e.currentTarget.value);\n  };\n\n  const setPadding = useMemo(\n    () => (direction: string, value: string) => {\n      if (path && visible) {\n        let json = {};\n\n        if (direction) {\n          let element = _.get(mjmlJson, path);\n          element.attributes[`padding-${direction}`] = value;\n          json = _.set(mjmlJson, path, element);\n          setMjmlJson({ ...json });\n        }\n      }\n    },\n    [visible, path]\n  );\n\n  //todo: optimize this function, move to useEffect, useState.\n  // its being called on every hover event.\n  const getValue = (direction: string) => {\n    let value = '';\n    //todo: debug why removing active causes crash  getValue:{@mods/pad..tsx}\n    // move it to useeffect later\n    if (path && visible && active) {\n      let element = _.get(mjmlJson, path);\n      if (!element) {\n        return;\n      }\n      value = element.attributes ? element.attributes[`padding-${direction}`] : null;\n      if (!value) {\n        value = element.attributes['padding'];\n        if (value) {\n          const [vertical, horizontal] = value.split(' ');\n          switch (direction) {\n            case 'top':\n            case 'bottom':\n              return vertical;\n            case 'left':\n            case 'right':\n              return horizontal;\n          }\n        }\n      }\n    }\n    return value;\n  };\n\n  return visible ? (\n    <Form.Item label=\"Padding :\">\n      <Input.Group style={{ marginBottom: '6px' }}>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"top\" onChange={(e) => handleChange(e, 'top')} value={getValue('top')} />\n          </Col>\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"right\" onChange={(e) => handleChange(e, 'right')} value={getValue('right')} />\n          </Col>\n        </Row>\n      </Input.Group>\n      <Input.Group>\n        <Row>\n          <Col span={11} offset={0}>\n            <Input addonBefore=\"bottom\" onChange={(e) => handleChange(e, 'bottom')} value={getValue('bottom')} />\n          </Col>\n\n          <Col span={11} offset={2}>\n            <Input addonBefore=\"left\" onChange={(e) => handleChange(e, 'left')} value={getValue('left')} />\n          </Col>\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  ) : null;\n};\n\nexport { Padding };\n","import _ from 'lodash';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { Form, Input } from 'antd';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useCallback, useEffect, useState } from 'react';\n\nconst ATTRIBUTE = 'width';\n\ninterface WidthHeightProps {\n  activePath?: string;\n}\n\nexport const Width = ({ activePath }: WidthHeightProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const [value, setValue] = useState<string>('');\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '0';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Width\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n\nconst ATTRIBUTE_HEIGHT = 'height';\n\nexport const Height = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE_HEIGHT });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE_HEIGHT });\n  const [value, setValue] = useState('');\n\n  useEffect(() => {\n    if (visible) {\n      setValue(getValue());\n    }\n  }, [visible]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n    if (e.target.value === '' || e.target.value === '%') {\n      e.target.value = '';\n    }\n    if (visible && path && e.target.value) {\n      let json = {};\n      let element = _.get(mjmlJson, path);\n      element.attributes[ATTRIBUTE_HEIGHT] = e.target.value;\n      json = _.set(mjmlJson, path, element);\n      setMjmlJson({ ...json });\n    }\n  };\n  const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.currentTarget.value.length === 1 && e.key === 'Backspace') {\n      e.currentTarget.value = '';\n    }\n  };\n\n  return visible ? (\n    <Form.Item label=\"Height\">\n      <Input onChange={handleChange} value={value} onKeyDown={onKeyDown} />\n    </Form.Item>\n  ) : null;\n};\n","import { Row } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useCkeditor } from '../Hooks/Ckeditor.hook';\nimport { useCustomEditorStatus } from '../Hooks/CustomEditor.hook';\nimport { useDragAndDropUniqueId } from '../Hooks/Drag.hook';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { generateUniqueIdRecursively } from '../Utils/closestParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { logger } from '../Utils/logger';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { COLUMN } from './Section';\n\nconst style = {\n  display: 'flex',\n  height: '16px',\n  borderRadius: '0px',\n};\n\nconst borderRight = '1px solid rgb(85, 85, 85)';\n\nconst ColumnSelector = () => {\n  const { active } = useHtmlWrapper();\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const {\n    setDelActive,\n    copy: { setCopyActive },\n  } = useCkeditor();\n  const { setActive: setCustomEditorActive } = useCustomEditorStatus();\n  const { getId } = useDragAndDropUniqueId();\n  const [visible, setVisible] = useState(false);\n  const [sectionIdentifier, setSectionIdentifier] = useState();\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueIdentifier] = section;\n        setVisible(true);\n        setSectionIdentifier(uniqueIdentifier);\n        return;\n      }\n    }\n    setVisible(false);\n  }, [active, visible]);\n\n  const handleClick = (changeTo: string[]) => {\n    if (visible && sectionIdentifier) {\n      const find = findElementInJson(mjmlJson, sectionIdentifier);\n      if (find) {\n        const [item, path] = find;\n        if (item && path && item.children && changeTo.length > 0) {\n          const existingLength = item.children.length;\n          const convertLength = changeTo.length;\n          if (convertLength < existingLength) {\n            // todo: implement getconfirmation, that user is about to delete a column\n          }\n          let newChildren = [];\n\n          // iterate over existing children\n          for (let i = 0; i < existingLength && i < convertLength; i++) {\n            let child = _.cloneDeep(item.children[i]);\n            if (child && child.attributes) {\n              // modify width attribute, add it to newChildren\n              child.attributes.width = changeTo[i];\n              newChildren.push(child);\n            }\n          }\n\n          //iterate over new children\n          for (let i = existingLength; i < convertLength; i++) {\n            let preProcessedColumn = generateUniqueIdRecursively(_.cloneDeep(COLUMN), getId);\n            preProcessedColumn.attributes.width = changeTo[i];\n            newChildren.push(preProcessedColumn);\n          }\n\n          // update children\n          const updatedItem = { ...item, children: newChildren };\n\n          //update json\n          logger.log('column layout: ', updatedItem);\n\n          const updated = _.set(mjmlJson, path.slice(1), updatedItem);\n\n          if (updated) {\n            UNDOREDO.newAction(updated);\n            setDelActive(false);\n            setCopyActive(false);\n            setCustomEditorActive(false);\n            setMjmlJson({ ...updated });\n          }\n        }\n      }\n    }\n  };\n\n  return visible ? (\n    <>\n      <div>\n        <SectionTitle>\n          <p>1 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['100%'])} one={100} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>2 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['50%', '50%'])} one={50} two={50} />\n        <Image click={() => handleClick(['39%', '59%'])} one={40} two={60} />\n        <Image click={() => handleClick(['25%', '75%'])} one={25} two={75} />\n        <Image click={() => handleClick(['60%', '40%'])} one={60} two={40} />\n        <Image click={() => handleClick(['75%', '25%'])} one={75} two={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>3 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['33%', '33%', '33%'])} one={50} two={50} three={50} />\n        <Image click={() => handleClick(['47.5%', '5%', '47.5%'])} one={47.5} two={5} three={47.5} />\n        <Image click={() => handleClick(['25%', '25%', '50%'])} one={25} two={25} three={50} />\n        <Image click={() => handleClick(['25%', '50%', '25%'])} one={25} two={50} three={25} />\n        <Image click={() => handleClick(['50%', '25%', '25%'])} one={50} two={25} three={25} />\n      </div>\n      <div style={{ marginTop: '16px' }}>\n        <SectionTitle>\n          <p>4 Columns</p>\n        </SectionTitle>\n        <Image click={() => handleClick(['25%', '25%', '25%', '25%'])} one={50} two={50} three={50} four={50} />\n      </div>\n    </>\n  ) : (\n    <div style={{ textAlign: 'center' }}>Place some items on the page</div>\n  );\n};\n\nconst Image = ({\n  click,\n  one,\n  two,\n  three,\n  four,\n}: {\n  click?: (e: any) => void;\n  one: number;\n  two?: number;\n  three?: number;\n  four?: number;\n}) => {\n  return (\n    <>\n      <Row style={{ marginBottom: '12px' }}></Row>\n      <SectionImage onClick={click ? click : undefined}>\n        <div className=\"wrapper\">\n          <div className=\"border\">\n            <div style={{ ...style, flexGrow: one, borderRight: two ? borderRight : 'unset' }}></div>\n            {two ? <div style={{ ...style, flexGrow: two, borderRight: three ? borderRight : 'unset' }}></div> : null}\n            {three ? (\n              <div style={{ ...style, flexGrow: three, borderRight: four ? borderRight : 'unset' }}></div>\n            ) : null}\n            {four ? <div style={{ ...style, flexGrow: two }}></div> : null}\n          </div>\n        </div>\n      </SectionImage>\n    </>\n  );\n};\n\nconst SectionTitle = styled(Row)`\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n  p {\n    margin: 0px;\n    text-align: inherit;\n    color: rgb(85, 85, 85);\n    font-size: 14px;\n    font-weight: 600;\n  }\n`;\n\nconst SectionImage = styled(Row)`\n  background-color: rgb(252, 252, 252);\n  border: 1px solid rgb(229, 229, 229);\n  border-radius: 3px;\n  box-sizing: border-box;\n  display: flex;\n  box-shadow: none;\n  cursor: grab;\n\n  &:hover {\n    background-color: rgb(255, 255, 255);\n    box-shadow: rgb(0 0 0 / 20%) 0px 1px 4px;\n    border-color: rgb(255, 255, 255);\n  }\n\n  .wrapper {\n    margin: 10px;\n    background-color: rgb(255, 255, 255);\n    position: relative;\n    width: 100%;\n    display: flex;\n    border-radius: 3px;\n    box-sizing: border-box;\n\n    .border {\n      border: 1px solid rgb(85, 85, 85);\n      border-radius: 3px;\n      display: flex;\n      -webkit-box-align: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n    }\n  }\n`;\n\nexport { ColumnSelector };\n","import { Form, Select } from 'antd';\nimport _ from 'lodash';\nimport { useValue, useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useFonts } from '../../Hooks/useFonts';\n\nconst ATTRIBUTE = 'font-family';\n\nconst { Option } = Select;\n\nexport const FontFamily = () => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { getValue } = useValue({ path, visible, attribute: ATTRIBUTE });\n  const [fontlist, fontvalue] = useFonts();\n\n  const handleChange = (value: string) => {\n    if (visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item) {\n        item.attributes['font-family'] = value;\n        const updated = _.set(mjmlJson, path, item);\n        if (updated) {\n          setMjmlJson({ ...updated });\n        }\n      }\n    }\n  };\n\n  let value = '';\n\n  if (visible && path) {\n    value = getValue();\n    if (value && value.indexOf(',') > -1) {\n      value = value.split(',')[0];\n    }\n  }\n\n  return visible ? (\n    <Form.Item label=\"Font Family\">\n      <Select value={fontvalue} onChange={handleChange}>\n        {fontlist.map((name: string) => {\n          return (\n            <Option key={name} value={name}>\n              {name}\n            </Option>\n          );\n        })}\n      </Select>\n    </Form.Item>\n  ) : null;\n};\n","import { Button, Col, Form, Row, Tooltip } from 'antd';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport {\n  VerticalAlignTopOutlined,\n  VerticalAlignMiddleOutlined,\n  VerticalAlignBottomOutlined,\n} from '@ant-design/icons/lib/icons/';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport _ from 'lodash';\n\nconst ATTRIBUTE = 'vertical-align';\n\ninterface VerticalAlignProps {\n  activePath?: string;\n}\n\nexport const VerticalAlign = ({ activePath }: VerticalAlignProps) => {\n  const [visible, path] = useVisibility({ attribute: ATTRIBUTE, customPath: activePath });\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n\n  const onClick = (value: string) => {\n    if (active && visible && path) {\n      let item = _.get(mjmlJson, path);\n      if (item && item.attributes) {\n        item.attributes[ATTRIBUTE] = value;\n        const updated = _.set(mjmlJson, path, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return visible ? (\n    <Row>\n      <Col flex=\"auto\">\n        <Form.Item label=\"Vertical Align\"></Form.Item>\n      </Col>\n      <Col>\n        <Row justify=\"space-between\" gutter={[16, 0]}>\n          <Tooltip title=\"Top\">\n            <Button onClick={() => onClick('top')} type=\"ghost\" icon={<VerticalAlignTopOutlined />} />\n          </Tooltip>\n\n          <Col>\n            <Tooltip\n              placement=\"left\"\n              title=\"Middle :Note: all columns in section must be set to middle, for this to work.\"\n            >\n              <Button onClick={() => onClick('middle')} type=\"ghost\" icon={<VerticalAlignMiddleOutlined />} />\n            </Tooltip>\n          </Col>\n\n          <Col>\n            <Tooltip title=\"Bottom\">\n              <Button onClick={() => onClick('bottom')} type=\"ghost\" icon={<VerticalAlignBottomOutlined />} />\n            </Tooltip>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  ) : null;\n};\n","import { Col, Form, Row, Input } from 'antd';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useVisibility } from '../../Hooks/Attribute.hook';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\n\nconst URL = 'background-url';\nconst SIZE = 'background-size';\nconst REPEAT = 'background-repeat';\n\nconst BackgroundImage = () => {\n  const [url, setUrl] = useState<string>('');\n  const [size, setSize] = useState<string>('');\n  const [repeat, setRepeat] = useState<string>('');\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const [urlVisibility, urlPath] = useVisibility({ attribute: URL });\n  const [sizeVisibility, sizePath] = useVisibility({ attribute: SIZE });\n  const [repeatVisiblity, repeatPath] = useVisibility({ attribute: REPEAT });\n\n  useEffect(() => {\n    if (mjmlJson) {\n      if (urlVisibility) {\n        const item = _.get(mjmlJson, urlPath);\n        item && setUrl(item.attributes[URL]);\n      }\n      if (sizeVisibility) {\n        const item = _.get(mjmlJson, sizePath);\n        item && setSize(item.attributes[SIZE]);\n      }\n      if (repeatVisiblity) {\n        const item = _.get(mjmlJson, repeatPath);\n        item && setRepeat(item.attributes[REPEAT]);\n      }\n    }\n  }, [urlVisibility, sizeVisibility, repeatVisiblity]);\n\n  if (urlVisibility === false && sizeVisibility === false && repeatVisiblity === false) {\n    return null;\n  }\n\n  const onChangeUrl = (e: any) => {\n    setUrl(e.target.value);\n    if (urlVisibility && urlPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[URL] = e.target.value;\n        const updated = _.set(mjmlJson, urlPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeSize = (e: any) => {\n    setSize(e.target.value);\n    if (sizeVisibility && sizePath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[SIZE] = e.target.value;\n        const updated = _.set(mjmlJson, sizePath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  const onChangeRepeat = (e: any) => {\n    setRepeat(e.target.value);\n    if (repeatVisiblity && repeatPath && e.target.value) {\n      let item = _.get(mjmlJson, urlPath);\n      if (item && item.attributes) {\n        item.attributes[REPEAT] = e.target.value;\n        const updated = _.set(mjmlJson, repeatPath, item);\n        setMjmlJson({ ...updated });\n      }\n    }\n  };\n\n  return (\n    <Form.Item label=\"Background Image:\">\n      <Input.Group>\n        <Row gutter={[0, 4]}>\n          {urlVisibility ? (\n            <Col span={24}>\n              <Input addonBefore=\"url\" onChange={onChangeUrl} value={url} />\n            </Col>\n          ) : null}\n          {sizeVisibility ? (\n            <Col span={24}>\n              <Input\n                addonBefore=\"size\"\n                onChange={onChangeSize}\n                value={size}\n                placeholder=\"px/percent/'cover'/'contain'\"\n              />\n            </Col>\n          ) : null}\n          {repeatVisiblity ? (\n            <Col span={24}>\n              <Input addonBefore=\"repeat\" onChange={onChangeRepeat} value={repeat} placeholder=\"repeat\" />\n            </Col>\n          ) : null}\n        </Row>\n      </Input.Group>\n    </Form.Item>\n  );\n};\n\nexport { BackgroundImage };\n","import styled from 'styled-components';\nimport { Tabs } from 'antd';\nimport { UNDOREDO } from '../Utils/undoRedo';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { useHtmlWrapper } from '../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\nimport { findSectionOfElement } from '../Utils/findElementsParent';\nimport { findElementInJson } from '../Utils/findElementInMjmlJson';\nimport { Background } from './Mods/Background';\nimport { Width } from './Mods/WidthHeight';\nimport { Padding } from './Mods/Paddings';\nimport { VerticalAlign } from './Mods/VerticalAlign';\nimport { Border } from './Mods/Border';\nimport { CordinalBorder } from './Mods/CordinalBorder';\nimport { BorderRadius } from './Mods/BorderRadius';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport _ from 'lodash';\n\nconst { TabPane } = Tabs;\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-tab {\n    padding-top: 0px;\n  }\n  .ant-tabs-content {\n    height: 100%;\n  }\n\n  .mods {\n    padding: 24px 16px;\n    padding-top: 4px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n`;\n\nconst ColumnAttributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [columns, setActiveColumns] = useState<any>([]);\n\n  useEffect(() => {\n    if (active) {\n      const section = findSectionOfElement(active);\n      if (section) {\n        const [, uniqueSectionIdentifier] = section;\n        const find = findElementInJson(mjmlJson, uniqueSectionIdentifier);\n        if (find) {\n          let [item, path] = find;\n          path = path.slice(1);\n\n          if (item && item.children && item.children.length > 0) {\n            let _columns = [];\n            for (var i = 0; i < item.children.length; i++) {\n              if (item.children[i].tagName === 'mj-column') {\n                _columns.push(`${path}.children[${i}]`);\n              }\n            }\n            if (!_.isEqual(columns, _columns)) {\n              setActiveColumns(_columns);\n            }\n          }\n        }\n      }\n    }\n  }, [active]);\n\n  return active ? (\n    <CustomTabs centered defaultActiveKey=\"0\" style={{ height: '100%' }} destroyInactiveTabPane={false}>\n      {columns &&\n        columns.map((column: any, index: number) => {\n          return (\n            <TabPane tab={`column ${index + 1}`} key={index}>\n              <Scrollbars style={{ height: '100%' }} autoHide={true}>\n                <div\n                  className=\"mods\"\n                  onMouseDown={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                  onBlur={(e) => {\n                    UNDOREDO.newAction(mjmlJson);\n                  }}\n                >\n                  <Width activePath={column} />\n                  <VerticalAlign activePath={column} />\n                  <Padding activePath={column} />\n\n                  <Background activePath={column} />\n                  <Background\n                    label={'Inner Background:'}\n                    overrideAttribute=\"inner-background-color\"\n                    activePath={column}\n                  />\n                  <BorderRadius activePath={column} />\n                  <Border activePath={column} />\n                  <CordinalBorder activePath={column} />\n                </div>\n              </Scrollbars>\n            </TabPane>\n          );\n        })}\n    </CustomTabs>\n  ) : null;\n};\n\nexport { ColumnAttributes };\n","import { Scrollbars } from 'react-custom-scrollbars-2';\nimport { Align } from '../../Components/Mods/Align';\nimport { Background } from '../../Components/Mods/Background';\nimport { Border } from '../../Components/Mods/Border';\nimport { BorderRadius } from '../../Components/Mods/BorderRadius';\nimport { ContainerBackground } from '../../Components/Mods/ContainerBackground';\nimport { Content } from '../../Components/Mods/Content';\nimport { CordinalBorder } from '../../Components/Mods/CordinalBorder';\nimport { FontSize } from '../../Components/Mods/FontSize';\nimport { Img } from '../../Components/Mods/Img';\nimport { InnerPadding } from '../../Components/Mods/InnerPadding';\nimport { Link } from '../../Components/Mods/Link';\nimport { Padding } from '../../Components/Mods/Paddings';\nimport { Height, Width } from '../../Components/Mods/WidthHeight';\nimport styled from 'styled-components';\nimport css from './Editor.module.scss';\nimport { Tabs } from 'antd';\nimport { ColumnSelector } from '../../Components/ColumnSelector';\nimport { FontFamily } from '../../Components/Mods/FontFamily';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { VerticalAlign } from '../../Components/Mods/VerticalAlign';\nimport { BackgroundImage } from '../../Components/Mods/BackgroundImage';\nimport { ColumnAttributes } from '../../Components/ColumnAttributes';\nimport { useHtmlWrapper } from '../../Hooks/Htmlwrapper.hook';\nimport { useEffect, useState } from 'react';\n\nconst { TabPane } = Tabs;\n\nconst CustomTabs = styled(Tabs)`\n  .ant-tabs-content {\n    height: 100%;\n  }\n`;\n\nexport const Attributes = () => {\n  const { mjmlJson } = useEditor();\n  const { active } = useHtmlWrapper();\n  const [isColumn, setIsColumn] = useState(false);\n\n  useEffect(() => {\n    if (active && active.classList && active.className.includes('mj-column')) {\n      setIsColumn(true);\n    }\n    isColumn && setIsColumn(false);\n  }, [active]);\n\n  return (\n    <CustomTabs defaultActiveKey=\"1\" centered style={{ height: '100%' }} destroyInactiveTabPane={true}>\n      <TabPane tab=\"Attributes\" key=\"1\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div\n            className={css.mods}\n            onMouseDown={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n            onBlur={(e) => {\n              UNDOREDO.newAction(mjmlJson);\n            }}\n          >\n            {isColumn ? (\n              <div style={{ textAlign: 'center' }}>\n                The selected Item is a Column, to modify properties <h2> check \"Column Properties\" Tab</h2>\n              </div>\n            ) : (\n              <>\n                <Width />\n                <Height />\n                <Align />\n                <VerticalAlign />\n                <Content />\n                <FontSize />\n                <FontFamily />\n                <Padding />\n                <InnerPadding />\n                <ContainerBackground />\n                <Background />\n                <BackgroundImage />\n                <Border />\n                <Border label=\"Border Width\" attribute_name=\"border-width\" />\n                <Border label=\"Border Style\" attribute_name=\"border-style\" />\n                <Background label=\"Border Color\" overrideAttribute=\"border-color\" />\n                <CordinalBorder />\n                <BorderRadius />\n                <Link />\n                <Img />\n              </>\n            )}\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab=\"Column Layout\" key=\"2\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <div className={css.columns}>\n            <ColumnSelector />\n          </div>\n        </Scrollbars>\n      </TabPane>\n      <TabPane tab=\"Column Properties\" key=\"3\">\n        <Scrollbars style={{ height: '100%' }} autoHide={true}>\n          <ColumnAttributes />\n        </Scrollbars>\n      </TabPane>\n    </CustomTabs>\n  );\n};\n","import css from './UiWrapper.module.scss';\n\nexport const UiWrapper = ({ background, label }: { background: string; label: string }) => {\n  return (\n    <div className={css.wrapper}>\n      <div className={`${css.container} ${css[background]}`}></div>\n      <span>{label}</span>\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['align', 'background-color', 'border', 'border-bottom', 'border-left', 'border-radius', 'border-right', 'border-top', 'color', 'container-background-color', 'css-class', 'font-family', 'font-size', 'font-style', 'font-weight', 'height', 'href', 'inner-padding', 'letter-spacing', 'line-height', 'padding', 'padding-bottom', 'padding-left', 'padding-right', 'padding-top', 'rel', 'target', 'text-align', 'text-decoration', 'text-transform', 'title', 'vertical-align', 'width'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-bottom\": \"\", \"border-left\": \"\", \"border-radius\": \"3px\", \"border-right\": \"\", \"border-top\": \"\", \"color\": \"#ffffff\", \"container-background-color\": \"\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"normal\", \"height\": \"\", \"href\": \"\", \"inner-padding\": \"10px 25px\", \"letter-spacing\": \"\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"title\": \"\", \"vertical-align\": \"middle\", \"width\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values  = {\"align\": \"center\", \"background-color\": \"#414141\", \"border\": \"none\", \"border-radius\": \"3px\", \"color\": \"#ffffff\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-weight\": \"normal\", \"inner-padding\": \"10px 25px\", \"line-height\": \"120%\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"text-align\": \"none\", \"text-decoration\": \"none\", \"text-transform\": \"none\", \"vertical-align\": \"middle\"}\n\nexport const Button = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n\n  const config = {\n    tagName: 'mj-button',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-button',\n    },\n    children: [],\n    content: 'button',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"button\" label=\"Button\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { FONTS_CONFIG } from './Mods/FontConfig';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = ['color', 'font-family', 'font-size', 'font-style', 'font-weight', 'line-height', 'letter-spacing', 'height', 'text-decoration', 'text-transform', 'align', 'container-background-color', 'padding', 'padding-top', 'padding-bottom', 'padding-left', 'padding-right', 'css-class'];\n\n// prettier-ignore\nconst properties_with_default_values = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"\", \"font-weight\": \"\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"height\": \"\", \"text-decoration\": \"\", \"text-transform\": \"\", \"align\": \"left\", \"container-background-color\": \"\", \"padding\": \"10px 25px\", \"padding-top\": \"\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"css-class\": \"\"};\n\n// prettier-ignore\nconst assigned_default_values  = {\"color\": \"#000000\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"line-height\": \"1\", \"letter-spacing\": \"none\", \"align\": \"center\", \"padding\": \"10px 25px\"};\n\n// since use custom inline editor, custom fons wont be included, unless I add them to the font config\n\nconst ExtraFontNames: string = FONTS_CONFIG.map((font) => font.name).join(', ');\n\nexport const Text = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      ...{ ...assigned_default_values, 'font-family': `${assigned_default_values['font-family']}, ${ExtraFontNames}` },\n      align: 'left',\n      'padding-left': '0px',\n      'padding-right': '0px',\n      'css-class': 'mjml-tag identifier-mj-text',\n    },\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque quis dolor auctor.',\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"text\" label=\"Text\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"align\", \"alt\", \"border\", \"border-top\", \"border-bottom\", \"border-left\", \"border-right\", \"border-radius\", \"container-background-color\", \"css-class\", \"fluid-on-mobile\", \"height\", \"href\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"rel\", \"sizes\", \"src\", \"srcset\", \"target\", \"title\", \"usemap\", \"width\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"align\": \"center\", \"alt\": \"\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"border-radius\": \"\", \"container-background-color\": \"\", \"css-class\": \"\", \"fluid-on-mobile\": \"\", \"height\": \"auto\", \"href\": \"\", \"name\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"rel\": \"\", \"sizes\": \"\", \"src\": \"\", \"srcset\": \"\", \"target\": \"_blank\", \"title\": \"\", \"usemap\": \"\", \"width\": \"100%\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"align\": \"center\", \"border\": \"none\", \"border-top\": \"none\", \"border-bottom\": \"none\", \"border-left\": \"none\", \"border-right\": \"none\", \"height\": \"auto\", \"padding\": \"10px 25px\", \"target\": \"_blank\", \"width\": \"100%\"}\n\nexport const Image = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-image',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-image',\n      width: 'auto',\n      padding: '0px 8px',\n      src: 'https://dev.bluepie.in/dnde.png',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"image\" label=\"Image\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"container-background-color\", \"css-class\", \"height\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"container-background-color\": \"\", \"css-class\": \"\", \"height\": \"20px\", \"padding\": \"none\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"height\": \"20px\", \"padding\": \"none\"}\n\nexport const Spacer = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-spacer',\n    attributes: {\n      ...assigned_default_values,\n      'css-class': 'mjml-tag identifier-mj-spacer',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"spacer\" label=\"Spacer\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\nexport const Html = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-text',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-html html-block',\n      padding: '0px',\n    },\n    mutableProperties: ['font-family'],\n    content: `\n    <table border=\"1\" style=\"width:100%; border-collapse:collapse\">\n    <tr style=\"font-weight:bold\">\n      <td>S. No</td> \n      <td>Items</td>\n      <td>Quantity</td>\n      <td align=\"center\">Price</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>egg</td>\n      <td>24</td>\n      <td align=\"center\">$10.00</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>milk</td>\n      <td>5</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    <tr>\n      <td>3</td>\n      <td>curd</td>\n      <td>8</td>\n      <td align=\"center\">$8</td>\n    </tr>\n    </table>\n    `,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"html\" label=\" Html\" />\n    </div>\n  );\n};\n","import { SyntheticEvent } from 'react';\nimport { useEditor } from '../Hooks/Editor.hook';\nimport { dragStart } from '../Utils/dragStart';\nimport { cleanMjmlJson } from '../Utils/mjmlProcessor';\nimport { UiWrapper } from './UiWrapper';\n\nexport type DragEvent = SyntheticEvent & { dataTransfer: DataTransfer };\n\n// prettier-ignore\nconst properties = [\"border-color\", \"border-style\", \"border-width\", \"container-background-color\", \"css-class\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"width\", \"align\"]\n\n// prettier-ignore\nconst properties_with_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"container-background-color\": \"\", \"css-class\": \"\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"width\": \"100%\", \"align\": \"center\"}\n\n// prettier-ignore\nconst assigned_default_values = {\"border-color\": \"#000000\", \"border-style\": \"solid\", \"border-width\": \"4px\", \"padding\": \"10px 25px\", \"width\": \"100%\", \"align\": \"center\"}\n\nexport const Divider = () => {\n  const { mjmlJson, setMjmlJson } = useEditor();\n  const config = {\n    tagName: 'mj-divider',\n    attributes: {\n      ...assigned_default_values,\n      padding: '0px',\n      'css-class': 'mjml-tag identifier-mj-divider',\n    },\n    children: [],\n    mutableProperties: properties,\n    mutalbePropertiesWithDefaultValues: properties_with_default_values,\n  };\n\n  const onDragStart = (e: DragEvent) => {\n    dragStart(e as any, config);\n  };\n  // access type, etc from comp nd set to context\n\n  const onDragEnd = (e: DragEvent) => {\n    const cleaned = cleanMjmlJson(mjmlJson);\n    setMjmlJson({ ...cleaned });\n  };\n\n  return (\n    <div onDragEnd={onDragEnd} onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"divider\" label=\"Divider\" />\n    </div>\n  );\n};\n","import { dragStart } from '../Utils/dragStart';\nimport { UiWrapper } from './UiWrapper';\n\n// prettier-ignore\nconst social_properties = [\"align\", \"border-radius\", \"color\", \"css-class\", \"container-background-color\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"icon-height\", \"icon-size\", \"inner-padding\", \"line-height\", \"mode\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"text-decoration\"]\n\n// prettier-ignore\nconst social_properties_with_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"container-background-color\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_assigned_default_values = {\"align\": \"center\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"inner-padding\": \"4px\", \"line-height\": \"22px\", \"mode\": \"horizontal\", \"padding\": \"10px 25px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"text-decoration\": \"none\"}\n\n// prettier-ignore\nconst social_element_properties = [\"align\", \"alt\", \"background-color\", \"border-radius\", \"color\", \"css-class\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\", \"href\", \"icon-height\", \"icon-size\", \"line-height\", \"name\", \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"icon-padding\", \"text-padding\", \"sizes\", \"src\", \"srcset\", \"rel\", \"target\", \"title\", \"text-decoration\", \"vertical-align\"]\n\n// prettier-ignore\nconst social_element_properties_with_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"css-class\": \"\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"padding-bottom\": \"\", \"padding-left\": \"\", \"padding-right\": \"\", \"padding-top\": \"\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"sizes\": \"\", \"src\": \"Each social name has its own default\", \"srcset\": \"\", \"rel\": \"\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\n// prettier-ignore\nconst social_element_assigned_default_values = {\"align\": \"center\", \"alt\": \"none\", \"background-color\": \"Each social name has its own default\", \"border-radius\": \"3px\", \"color\": \"#333333\", \"font-family\": \"Ubuntu, Helvetica, Arial, sans-serif\", \"font-size\": \"13px\", \"font-style\": \"normal\", \"font-weight\": \"normal\", \"href\": \"none\", \"icon-height\": \"icon-size\", \"icon-size\": \"20px\", \"line-height\": \"22px\", \"name\": \"N/A\", \"padding\": \"4px\", \"icon-padding\": \"0px\", \"text-padding\": \"4px 4px 4px 0\", \"src\": \"Each social name has its own default\", \"target\": \"_blank\", \"title\": \"none\", \"text-decoration\": \"none\", \"vertical-align\": \"middle\"}\n\nconst social_element_config = {\n  tagName: 'mj-social-element',\n  attributes: {\n    'css-class': 'mjml-tag identifier-mj-social-element',\n  },\n  mutableProperties: social_element_properties,\n};\n\nexport const Social = () => {\n  const config = {\n    tagName: 'mj-social',\n    attributes: {\n      'css-class': 'mjml-tag identifier-mj-social',\n    },\n    children: [\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'facebook-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/facebook.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'twitter-noshare',\n          href: 'https://twitter.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/twitter.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'youtube-noshare',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/youtube.png',\n        },\n      },\n\n      {\n        ...social_element_config,\n        attributes: {\n          ...social_element_config.attributes,\n          name: 'github',\n          href: 'https://github.com/aghontpi',\n          src: 'https://dev.bluepie.in/assets/github.png',\n        },\n      },\n    ],\n    mutableProperties: social_properties,\n  };\n\n  const onDragStart = (e: any) => {\n    dragStart(e, config);\n  };\n\n  return (\n    <div onDragStart={onDragStart} draggable={true}>\n      <UiWrapper background=\"social\" label=\"Social\" />\n    </div>\n  );\n};\n","import { Col, Collapse, Row } from 'antd';\nimport { Button } from '../../Components/Button';\nimport { Text } from '../../Components/Text';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport css from './Editor.module.scss';\nimport '../../Assets/Css/antoveride.scss';\nimport Scrollbars from 'react-custom-scrollbars-2';\nimport { Image } from '../../Components/Image';\nimport { Spacer } from '../../Components/Spacer';\nimport { Html } from '../../Components/Html';\nimport { Divider } from '../../Components/Divider';\nimport { Section } from '../../Components/Section';\nimport { Social } from '../../Components/Social';\n\nconst { Panel } = Collapse;\n\nconst Header = ({ title }: { title: string }) => {\n  return <p className={css.title}>{title}</p>;\n};\n\nexport const ComponentBank = () => {\n  return (\n    <Scrollbars style={{ height: '100%' }} autoHide={true}>\n      <Collapse\n        expandIconPosition={'right'}\n        bordered={false}\n        defaultActiveKey={['1', '2']}\n        style={{ backgroundColor: 'rgb(255,255,255)' }}\n        expandIcon={({ isActive }) => <CaretDownOutlined rotate={isActive ? 0 : 180} />}\n      >\n        <Panel header={<Header title=\"Drag & Drop Section\" />} key=\"1\">\n          <Section />\n        </Panel>\n        <Panel header={<Header title=\"Drag & Drop Content\" />} key=\"2\">\n          <div className={css.components}>\n            <Button />\n            <Text />\n            <Image />\n            <Spacer />\n            <Divider />\n            <Html />\n            <Social />\n          </div>\n        </Panel>\n      </Collapse>\n    </Scrollbars>\n  );\n};\n","import { message } from 'antd';\nimport { logger } from './logger';\nconst sgMail = require('@sendgrid/mail');\n\nconst sendMail = (to: string, html: string) => {\n  sgMail.setApiKey(process.env.SENDGRID_API_KEY);\n  const msg = {\n    to,\n    from: 'admin@bluepie.com', // Change to your verified sender\n    subject: 'Test Design',\n    text: 'check your design with this mail',\n    html: html,\n  };\n  sgMail\n    .send(msg)\n    .then(() => {\n      logger.log('Email sent');\n      message.loading('sending mail...', 2).then(() => message.success('mail sent!'));\n    })\n    .catch((error: any) => {\n      message.error('error sending mail');\n      logger.error(error);\n    });\n};\n\nexport { sendMail };\n","import { Modal, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport './Preview.module.css';\n\nconst DESKTOP_WIDTH = '800px';\nconst MOBILE_WIDTH = '323px';\n\nconst FullscreenModal = styled(Modal).attrs({ title: 'Preview' })`\n  .ant-modal {\n    max-width: unset !important;\n    margin: unset !important;\n  }\n  .ant-modal-centered::before {\n    content: unset !important;\n  }\n  .ant-modal-content {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  .ant-modal-body {\n    margin: 0px auto;\n  }\n`;\n\nconst PreviewMode = styled.div`\n  position: absolute;\n  bottom: 24px;\n  left: 24px;\n`;\n\ninterface PreviewProps {\n  visible: boolean;\n  visibleChange: (visible: boolean) => void;\n  inframeContent: string;\n}\n\nexport const Preview = ({ visible, visibleChange, inframeContent }: PreviewProps) => {\n  const [mode, setMode] = useState('desktop');\n\n  const onChange = (e: RadioChangeEvent) => {\n    if (e.target.value) {\n      setMode(e.target.value);\n    }\n  };\n\n  return (\n    <FullscreenModal\n      visible={visible}\n      onCancel={() => visibleChange(false)}\n      onOk={() => visibleChange(false)}\n      width={'unset'}\n      style={{ top: '0px', maxWidth: 'unset', paddingBottom: '0px', height: '100%' }}\n      bodyStyle={{ height: '100%' }}\n      maskStyle={{ height: '100%' }}\n      destroyOnClose={true}\n      footer={null}\n    >\n      <PreviewMode>\n        <ModeSelect onChange={onChange} value={mode} />\n      </PreviewMode>\n      {inframeContent ? (\n        <iframe\n          title=\"Preview\"\n          style={{ margin: '0px auto' }}\n          width={mode === 'desktop' ? DESKTOP_WIDTH : MOBILE_WIDTH}\n          height=\"100%\"\n          srcDoc={inframeContent}\n        />\n      ) : null}\n    </FullscreenModal>\n  );\n};\n\ninterface ModeSelectProps {\n  onChange: (e: RadioChangeEvent) => void;\n  value: string;\n}\n\nconst ModeSelect = ({ onChange, value }: ModeSelectProps) => {\n  return (\n    <>\n      <Radio.Group\n        onChange={onChange}\n        value={value}\n        options={[\n          { label: 'desktop', value: 'desktop' },\n          { label: 'mobile', value: 'mobile' },\n        ]}\n        buttonStyle=\"solid\"\n        optionType=\"button\"\n      />\n    </>\n  );\n};\n","import { View } from './View';\nimport css from './Editor.module.scss';\nimport { Attributes } from './Attributes';\nimport { ComponentBank } from './ComponentBank';\nimport { Button, PageHeader, Layout, Modal, Input, Row, Col } from 'antd';\nimport { success } from '../../Components/Messages';\nimport mjml2html from 'mjml-browser';\nimport { useEditor } from '../../Hooks/Editor.hook';\nimport { sendMail } from '../../Utils/sendMail';\nimport { useEffect, useState } from 'react';\nimport { Preview } from './Preview';\nimport { exportJson } from '../../Utils/mjmlProcessor';\nimport _ from 'lodash';\nimport { generatePreview } from '../../Utils/previewGenerator';\nimport { UNDOREDO } from '../../Utils/undoRedo';\nimport { logger } from '../../Utils/logger';\nconst { Content } = Layout;\nconst { confirm } = Modal;\n\nexport const Editor = () => {\n  const { mjmlJson } = useEditor();\n  const [preview, setPreview] = useState(false);\n\n  useEffect(() => {\n    // reset undo redo actions on each new load\n    UNDOREDO.reset();\n  }, []);\n\n  const copyHTMLAsClipBoard = (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(html);\n    logger.log('html', html);\n    success('Copied to clipboard & logged in devtools ');\n  };\n\n  const copyPreviewImage = async (e: any) => {\n    e.preventDefault();\n    const html = mjml2html(mjmlJson).html;\n    navigator.clipboard.writeText(await generatePreview(html));\n    success('Preview Image Copied to clipboard');\n  };\n\n  const copyJsonInClipBoard = (e: any) => {\n    e.preventDefault();\n    const to_copy = JSON.stringify(exportJson(_.cloneDeep(mjmlJson)));\n    navigator.clipboard.writeText(to_copy);\n    logger.log('json', to_copy);\n\n    success('Copied to Clipboard & logged in devtools ');\n  };\n\n  return (\n    <Row style={{ height: '100%', width: '100%' }} justify=\"center\">\n      <Col lg={24} xl={0}>\n        <div style={{ textAlign: 'center', padding: '40px', paddingTop: '10%' }}>\n          <h3>Sorry, You need a device with a larger screen to perform editing, atleast '{'>'}=1200px'</h3>\n        </div>\n      </Col>\n      <Col xs={0} xl={24}>\n        <Preview\n          visible={preview}\n          visibleChange={(flag) => setPreview(flag)}\n          inframeContent={preview ? mjml2html(mjmlJson).html : ''}\n        />\n        <Layout style={{ height: '100%' }}>\n          <PageHeader\n            ghost={false}\n            onBack={() => window.history.back()}\n            title=\"dnde\"\n            subTitle=\"\"\n            style={{ borderBottom: '1px solid #e8e8e8' }}\n            extra={[\n              <>\n                {/* <SendTestMail key=\"4\" />\n              <Button key=\"5\" onClick={copyPreviewImage}>\n                Copy Preview Image\n              </Button> */}\n                <Button key=\"3\" onClick={() => setPreview(true)}>\n                  Preview\n                </Button>\n                <Button key=\"2\" onClick={copyHTMLAsClipBoard}>\n                  Copy as html\n                </Button>\n                <Button key=\"1\" onClick={copyJsonInClipBoard}>\n                  Copy as json\n                </Button>\n              </>,\n            ]}\n          ></PageHeader>\n          <Content>\n            <div className={css.editor}>\n              <div className={css.bank}>\n                <ComponentBank />\n              </div>\n              <div className={css.view}>\n                <View />\n              </div>\n              <div className={css.attributes}>\n                <Attributes />\n              </div>\n            </div>\n          </Content>\n        </Layout>\n      </Col>\n    </Row>\n  );\n};\n\nconst SendTestMail = () => {\n  const { mjmlJson } = useEditor();\n  //todo: investigate onChange behaviour here ~sendTestMail\n  const [mail, SetMail] = useState('');\n  const onBlur = (e: any) => {\n    SetMail(e.currentTarget.value);\n  };\n\n  const msg = () =>\n    confirm({\n      title: 'Email',\n      icon: null,\n      content: <Input onBlur={onBlur} />,\n      onOk: () => {\n        mail && sendMail(mail, mjml2html(mjmlJson).html);\n      },\n    });\n\n  return (\n    <Button key=\"2\" type=\"primary\" onClick={msg}>\n      Send Test Mail\n    </Button>\n  );\n};\n","import { Editor } from './Editor';\nimport { DNDContext } from '../../Context/DragAndDrop.context';\nimport { EDContext } from '../../Context/Editor.context';\nimport { Ckeditor } from '../../Context/Ckeditor.context';\nimport { HtmlContextProvider } from '../../Context/Htmlwrapper.context';\nimport { QuillEditor } from '../../Context/Quill.context';\nimport { CustomEditorProvider } from '../../Context/CustomEditor.context';\n\nconst wrapContext = () => (\n  <HtmlContextProvider>\n    <CustomEditorProvider>\n      <QuillEditor>\n        <Ckeditor>\n          <DNDContext>\n            <EDContext>\n              <Editor />\n            </EDContext>\n          </DNDContext>\n        </Ckeditor>\n      </QuillEditor>\n    </CustomEditorProvider>\n  </HtmlContextProvider>\n);\n\nexport default wrapContext;\n","import { Routing } from './index.route';\n\nexport default Routing;\n","import { Switch, Route, Redirect } from 'react-router-dom';\nimport { List } from './List';\nimport Editor from './Editor';\n\nconst Routing = () => {\n  return (\n    <Switch>\n      <Route exact path={['', '/list']} component={List} />\n      <Route path=\"/template/:templateId\" component={Editor} />\n      <Route path=\"*\">\n        <Redirect to=\"/\" />\n      </Route>\n    </Switch>\n  );\n};\n\nexport { Routing };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  templates: [\n    {\n      id: 24234234,\n      preview: 'https://picsum.photos/320/550',\n    },\n    {\n      id: 4535345,\n      preview: 'https://picsum.photos/320/400',\n    },\n    {\n      id: 976824,\n      preview: 'https://picsum.photos/320/600',\n    },\n  ],\n};\nconst slice = createSlice({\n  name: 'templates',\n  initialState,\n  reducers: {},\n});\n\nexport const { reducer: templateListReducer } = slice;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { FC } from 'react';\nimport { DndeApi } from '../Api/api';\nimport { templateListReducer } from './list';\n\nimport { Provider } from 'react-redux';\n\nconst store = configureStore({\n  reducer: { [DndeApi.reducerPath]: DndeApi.reducer, templateList: templateListReducer },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(DndeApi.middleware),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport const StoreProvider: FC = ({ children }) => {\n  return <Provider store={store}>{children}</Provider>;\n};\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Pages from './Pages';\nimport 'antd/dist/antd.css';\nimport 'quill/dist/quill.snow.css';\nimport './App.scss';\nimport { StoreProvider } from './Store/store';\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <BrowserRouter>\n        <div className=\"my-app\">\n          <Pages />\n        </div>\n      </BrowserRouter>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyApp from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MyApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Editor_layout__2Y-AK\",\"editor\":\"Editor_editor__qGS4j\",\"bank\":\"Editor_bank__3JqEw\",\"attributes\":\"Editor_attributes__32n0a\",\"components\":\"Editor_components__38eSg\",\"mods\":\"Editor_mods__3ZWIb\",\"columns\":\"Editor_columns__1Yrk0\",\"iconsContainer\":\"Editor_iconsContainer__KxyJq\",\"view\":\"Editor_view__eaZst\",\"viewHolder\":\"Editor_viewHolder__3pzWy\",\"title\":\"Editor_title__24LyS\"};"],"sourceRoot":""}